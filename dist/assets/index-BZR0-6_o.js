var Nb=Object.defineProperty;var U0=n=>{throw TypeError(n)};var Ob=(n,e,t)=>e in n?Nb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var le=(n,e,t)=>Ob(n,typeof e!="symbol"?e+"":e,t),wg=(n,e,t)=>e.has(n)||U0("Cannot "+t);var l=(n,e,t)=>(wg(n,e,"read from private field"),t?t.call(n):e.get(n)),A=(n,e,t)=>e.has(n)?U0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),w=(n,e,t,i)=>(wg(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),_=(n,e,t)=>(wg(n,e,"access private method"),t);var En=(n,e,t,i)=>({set _(r){w(n,e,r,t)},get _(){return l(n,e,i)}});function Y_(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function gy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Q_={exports:{}},zp={},J_={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),jb=Symbol.for("react.portal"),zb=Symbol.for("react.fragment"),Hb=Symbol.for("react.strict_mode"),Bb=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),$b=Symbol.for("react.context"),Vb=Symbol.for("react.forward_ref"),Wb=Symbol.for("react.suspense"),Gb=Symbol.for("react.memo"),Xb=Symbol.for("react.lazy"),$0=Symbol.iterator;function Kb(n){return n===null||typeof n!="object"?null:(n=$0&&n[$0]||n["@@iterator"],typeof n=="function"?n:null)}var Z_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eA=Object.assign,tA={};function fu(n,e,t){this.props=n,this.context=e,this.refs=tA,this.updater=t||Z_}fu.prototype.isReactComponent={};fu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};fu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function nA(){}nA.prototype=fu.prototype;function my(n,e,t){this.props=n,this.context=e,this.refs=tA,this.updater=t||Z_}var vy=my.prototype=new nA;vy.constructor=my;eA(vy,fu.prototype);vy.isPureReactComponent=!0;var V0=Array.isArray,iA=Object.prototype.hasOwnProperty,yy={current:null},rA={key:!0,ref:!0,__self:!0,__source:!0};function sA(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)iA.call(e,i)&&!rA.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:fd,type:n,key:s,ref:o,props:r,_owner:yy.current}}function qb(n,e){return{$$typeof:fd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function wy(n){return typeof n=="object"&&n!==null&&n.$$typeof===fd}function Yb(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var W0=/\/+/g;function _g(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Yb(""+n.key):e.toString(36)}function Zd(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case fd:case jb:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+_g(o,0):i,V0(r)?(t="",n!=null&&(t=n.replace(W0,"$&/")+"/"),Zd(r,e,t,"",function(c){return c})):r!=null&&(wy(r)&&(r=qb(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(W0,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",V0(n))for(var a=0;a<n.length;a++){s=n[a];var u=i+_g(s,a);o+=Zd(s,e,t,u,r)}else if(u=Kb(n),typeof u=="function")for(n=u.call(n),a=0;!(s=n.next()).done;)s=s.value,u=i+_g(s,a++),o+=Zd(s,e,t,u,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pd(n,e,t){if(n==null)return n;var i=[],r=0;return Zd(n,i,"","",function(s){return e.call(t,s,r++)}),i}function Qb(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var sn={current:null},ef={transition:null},Jb={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:ef,ReactCurrentOwner:yy};function oA(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Pd,forEach:function(n,e,t){Pd(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Pd(n,function(){e++}),e},toArray:function(n){return Pd(n,function(e){return e})||[]},only:function(n){if(!wy(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};fe.Component=fu;fe.Fragment=zb;fe.Profiler=Bb;fe.PureComponent=my;fe.StrictMode=Hb;fe.Suspense=Wb;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jb;fe.act=oA;fe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=eA({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=yy.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(u in e)iA.call(e,u)&&!rA.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:fd,type:n.type,key:r,ref:s,props:i,_owner:o}};fe.createContext=function(n){return n={$$typeof:$b,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Ub,_context:n},n.Consumer=n};fe.createElement=sA;fe.createFactory=function(n){var e=sA.bind(null,n);return e.type=n,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(n){return{$$typeof:Vb,render:n}};fe.isValidElement=wy;fe.lazy=function(n){return{$$typeof:Xb,_payload:{_status:-1,_result:n},_init:Qb}};fe.memo=function(n,e){return{$$typeof:Gb,type:n,compare:e===void 0?null:e}};fe.startTransition=function(n){var e=ef.transition;ef.transition={};try{n()}finally{ef.transition=e}};fe.unstable_act=oA;fe.useCallback=function(n,e){return sn.current.useCallback(n,e)};fe.useContext=function(n){return sn.current.useContext(n)};fe.useDebugValue=function(){};fe.useDeferredValue=function(n){return sn.current.useDeferredValue(n)};fe.useEffect=function(n,e){return sn.current.useEffect(n,e)};fe.useId=function(){return sn.current.useId()};fe.useImperativeHandle=function(n,e,t){return sn.current.useImperativeHandle(n,e,t)};fe.useInsertionEffect=function(n,e){return sn.current.useInsertionEffect(n,e)};fe.useLayoutEffect=function(n,e){return sn.current.useLayoutEffect(n,e)};fe.useMemo=function(n,e){return sn.current.useMemo(n,e)};fe.useReducer=function(n,e,t){return sn.current.useReducer(n,e,t)};fe.useRef=function(n){return sn.current.useRef(n)};fe.useState=function(n){return sn.current.useState(n)};fe.useSyncExternalStore=function(n,e,t){return sn.current.useSyncExternalStore(n,e,t)};fe.useTransition=function(){return sn.current.useTransition()};fe.version="18.3.1";J_.exports=fe;var I=J_.exports;const Zb=gy(I),ex=Y_({__proto__:null,default:Zb},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=I,nx=Symbol.for("react.element"),ix=Symbol.for("react.fragment"),rx=Object.prototype.hasOwnProperty,sx=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ox={key:!0,ref:!0,__self:!0,__source:!0};function aA(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)rx.call(e,i)&&!ox.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:nx,type:n,key:s,ref:o,props:r,_owner:sx.current}}zp.Fragment=ix;zp.jsx=aA;zp.jsxs=aA;Q_.exports=zp;var P=Q_.exports,nm={},lA={exports:{}},Hn={},uA={exports:{}},cA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,Q){var ne=D.length;D.push(Q);e:for(;0<ne;){var ue=ne-1>>>1,ae=D[ue];if(0<r(ae,Q))D[ue]=Q,D[ne]=ae,ne=ue;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var Q=D[0],ne=D.pop();if(ne!==Q){D[0]=ne;e:for(var ue=0,ae=D.length,Te=ae>>>1;ue<Te;){var Ue=2*(ue+1)-1,nt=D[Ue],je=Ue+1,Se=D[je];if(0>r(nt,ne))je<ae&&0>r(Se,nt)?(D[ue]=Se,D[je]=ne,ue=je):(D[ue]=nt,D[Ue]=ne,ue=Ue);else if(je<ae&&0>r(Se,ne))D[ue]=Se,D[je]=ne,ue=je;else break e}}return Q}function r(D,Q){var ne=D.sortIndex-Q.sortIndex;return ne!==0?ne:D.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,d=null,f=3,p=!1,g=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(D){for(var Q=t(c);Q!==null;){if(Q.callback===null)i(c);else if(Q.startTime<=D)i(c),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=t(c)}}function x(D){if(y=!1,E(D),!g)if(t(u)!==null)g=!0,Ee(k);else{var Q=t(c);Q!==null&&U(x,Q.startTime-D)}}function k(D,Q){g=!1,y&&(y=!1,m(R),R=-1),p=!0;var ne=f;try{for(E(Q),d=t(u);d!==null&&(!(d.expirationTime>Q)||D&&!z());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,f=d.priorityLevel;var ae=ue(d.expirationTime<=Q);Q=n.unstable_now(),typeof ae=="function"?d.callback=ae:d===t(u)&&i(u),E(Q)}else i(u);d=t(u)}if(d!==null)var Te=!0;else{var Ue=t(c);Ue!==null&&U(x,Ue.startTime-Q),Te=!1}return Te}finally{d=null,f=ne,p=!1}}var b=!1,L=null,R=-1,F=5,N=-1;function z(){return!(n.unstable_now()-N<F)}function ie(){if(L!==null){var D=n.unstable_now();N=D;var Q=!0;try{Q=L(!0,D)}finally{Q?te():(b=!1,L=null)}}else b=!1}var te;if(typeof v=="function")te=function(){v(ie)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,pe=q.port2;q.port1.onmessage=ie,te=function(){pe.postMessage(null)}}else te=function(){S(ie,0)};function Ee(D){L=D,b||(b=!0,te())}function U(D,Q){R=S(function(){D(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,Ee(k))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(D){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var ne=f;f=Q;try{return D()}finally{f=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,Q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ne=f;f=D;try{return Q()}finally{f=ne}},n.unstable_scheduleCallback=function(D,Q,ne){var ue=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ue+ne:ue):ne=ue,D){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ne+ae,D={id:h++,callback:Q,priorityLevel:D,startTime:ne,expirationTime:ae,sortIndex:-1},ne>ue?(D.sortIndex=ne,e(c,D),t(u)===null&&D===t(c)&&(y?(m(R),R=-1):y=!0,U(x,ne-ue))):(D.sortIndex=ae,e(u,D),g||p||(g=!0,Ee(k))),D},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(D){var Q=f;return function(){var ne=f;f=Q;try{return D.apply(this,arguments)}finally{f=ne}}}})(cA);uA.exports=cA;var ax=uA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=I,zn=ax;function j(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hA=new Set,gc={};function Aa(n,e){ru(n,e),ru(n+"Capture",e)}function ru(n,e){for(gc[n]=e,n=0;n<e.length;n++)hA.add(e[n])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),im=Object.prototype.hasOwnProperty,ux=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G0={},X0={};function cx(n){return im.call(X0,n)?!0:im.call(G0,n)?!1:ux.test(n)?X0[n]=!0:(G0[n]=!0,!1)}function hx(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function dx(n,e,t,i){if(e===null||typeof e>"u"||hx(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){jt[n]=new on(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];jt[e]=new on(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){jt[n]=new on(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){jt[n]=new on(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){jt[n]=new on(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){jt[n]=new on(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){jt[n]=new on(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){jt[n]=new on(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){jt[n]=new on(n,5,!1,n.toLowerCase(),null,!1,!1)});var _y=/[\-:]([a-z])/g;function Ay(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(_y,Ay);jt[e]=new on(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(_y,Ay);jt[e]=new on(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(_y,Ay);jt[e]=new on(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){jt[n]=new on(n,1,!1,n.toLowerCase(),null,!1,!1)});jt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){jt[n]=new on(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ey(n,e,t,i){var r=jt.hasOwnProperty(e)?jt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dx(e,t,r,i)&&(t=null),i||r===null?cx(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Gr=lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rd=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),Ua=Symbol.for("react.fragment"),Sy=Symbol.for("react.strict_mode"),rm=Symbol.for("react.profiler"),dA=Symbol.for("react.provider"),fA=Symbol.for("react.context"),by=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),om=Symbol.for("react.suspense_list"),xy=Symbol.for("react.memo"),ns=Symbol.for("react.lazy"),pA=Symbol.for("react.offscreen"),K0=Symbol.iterator;function Au(n){return n===null||typeof n!="object"?null:(n=K0&&n[K0]||n["@@iterator"],typeof n=="function"?n:null)}var Qe=Object.assign,Ag;function Nu(n){if(Ag===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Ag=e&&e[1]||""}return`
`+Ag+n}var Eg=!1;function Sg(n,e){if(!n||Eg)return"";Eg=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var u=`
`+r[o].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=o&&0<=a);break}}}finally{Eg=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Nu(n):""}function fx(n){switch(n.tag){case 5:return Nu(n.type);case 16:return Nu("Lazy");case 13:return Nu("Suspense");case 19:return Nu("SuspenseList");case 0:case 2:case 15:return n=Sg(n.type,!1),n;case 11:return n=Sg(n.type.render,!1),n;case 1:return n=Sg(n.type,!0),n;default:return""}}function am(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ua:return"Fragment";case Ba:return"Portal";case rm:return"Profiler";case Sy:return"StrictMode";case sm:return"Suspense";case om:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case fA:return(n.displayName||"Context")+".Consumer";case dA:return(n._context.displayName||"Context")+".Provider";case by:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case xy:return e=n.displayName||null,e!==null?e:am(n.type)||"Memo";case ns:e=n._payload,n=n._init;try{return am(n(e))}catch{}}return null}function px(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return am(e);case 8:return e===Sy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zs(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gA(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gx(n){var e=gA(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ld(n){n._valueTracker||(n._valueTracker=gx(n))}function mA(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=gA(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function zf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function lm(n,e){var t=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function q0(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=zs(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vA(n,e){e=e.checked,e!=null&&Ey(n,"checked",e,!1)}function um(n,e){vA(n,e);var t=zs(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?cm(n,e.type,t):e.hasOwnProperty("defaultValue")&&cm(n,e.type,zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Y0(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function cm(n,e,t){(e!=="number"||zf(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ou=Array.isArray;function el(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+zs(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function hm(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Q0(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(j(92));if(Ou(t)){if(1<t.length)throw Error(j(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:zs(t)}}function yA(n,e){var t=zs(e.value),i=zs(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function J0(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function wA(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dm(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?wA(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Md,_A=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Md=Md||document.createElement("div"),Md.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Md.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function mc(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mx=["Webkit","ms","Moz","O"];Object.keys(ic).forEach(function(n){mx.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ic[e]=ic[n]})});function AA(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ic.hasOwnProperty(n)&&ic[n]?(""+e).trim():e+"px"}function EA(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=AA(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var vx=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fm(n,e){if(e){if(vx[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function pm(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=null;function Cy(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var mm=null,tl=null,nl=null;function Z0(n){if(n=md(n)){if(typeof mm!="function")throw Error(j(280));var e=n.stateNode;e&&(e=Vp(e),mm(n.stateNode,n.type,e))}}function SA(n){tl?nl?nl.push(n):nl=[n]:tl=n}function bA(){if(tl){var n=tl,e=nl;if(nl=tl=null,Z0(n),e)for(n=0;n<e.length;n++)Z0(e[n])}}function xA(n,e){return n(e)}function CA(){}var bg=!1;function kA(n,e,t){if(bg)return n(e,t);bg=!0;try{return xA(n,e,t)}finally{bg=!1,(tl!==null||nl!==null)&&(CA(),bA())}}function vc(n,e){var t=n.stateNode;if(t===null)return null;var i=Vp(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(j(231,e,typeof t));return t}var vm=!1;if(Hr)try{var Eu={};Object.defineProperty(Eu,"passive",{get:function(){vm=!0}}),window.addEventListener("test",Eu,Eu),window.removeEventListener("test",Eu,Eu)}catch{vm=!1}function yx(n,e,t,i,r,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var rc=!1,Hf=null,Bf=!1,ym=null,wx={onError:function(n){rc=!0,Hf=n}};function _x(n,e,t,i,r,s,o,a,u){rc=!1,Hf=null,yx.apply(wx,arguments)}function Ax(n,e,t,i,r,s,o,a,u){if(_x.apply(this,arguments),rc){if(rc){var c=Hf;rc=!1,Hf=null}else throw Error(j(198));Bf||(Bf=!0,ym=c)}}function Ea(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function TA(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function ew(n){if(Ea(n)!==n)throw Error(j(188))}function Ex(n){var e=n.alternate;if(!e){if(e=Ea(n),e===null)throw Error(j(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return ew(r),n;if(s===i)return ew(r),e;s=s.sibling}throw Error(j(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(j(189))}}if(t.alternate!==i)throw Error(j(190))}if(t.tag!==3)throw Error(j(188));return t.stateNode.current===t?n:e}function PA(n){return n=Ex(n),n!==null?RA(n):null}function RA(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=RA(n);if(e!==null)return e;n=n.sibling}return null}var LA=zn.unstable_scheduleCallback,tw=zn.unstable_cancelCallback,Sx=zn.unstable_shouldYield,bx=zn.unstable_requestPaint,rt=zn.unstable_now,xx=zn.unstable_getCurrentPriorityLevel,ky=zn.unstable_ImmediatePriority,MA=zn.unstable_UserBlockingPriority,Uf=zn.unstable_NormalPriority,Cx=zn.unstable_LowPriority,DA=zn.unstable_IdlePriority,Hp=null,Gi=null;function kx(n){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(Hp,n,void 0,(n.current.flags&128)===128)}catch{}}var Ei=Math.clz32?Math.clz32:Rx,Tx=Math.log,Px=Math.LN2;function Rx(n){return n>>>=0,n===0?32:31-(Tx(n)/Px|0)|0}var Dd=64,Id=4194304;function ju(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function $f(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=ju(a):(s&=o,s!==0&&(i=ju(s)))}else o=t&~r,o!==0?i=ju(o):s!==0&&(i=ju(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Ei(e),r=1<<t,i|=n[t],e&=~r;return i}function Lx(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mx(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ei(s),a=1<<o,u=r[o];u===-1?(!(a&t)||a&i)&&(r[o]=Lx(a,e)):u<=e&&(n.expiredLanes|=a),s&=~a}}function wm(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function IA(){var n=Dd;return Dd<<=1,!(Dd&4194240)&&(Dd=64),n}function xg(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function pd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ei(e),n[e]=t}function Dx(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Ei(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Ty(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Ei(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Le=0;function FA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var NA,Py,OA,jA,zA,_m=!1,Fd=[],Ls=null,Ms=null,Ds=null,yc=new Map,wc=new Map,rs=[],Ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nw(n,e){switch(n){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(e.pointerId)}}function Su(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=md(e),e!==null&&Py(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function Fx(n,e,t,i,r){switch(e){case"focusin":return Ls=Su(Ls,n,e,t,i,r),!0;case"dragenter":return Ms=Su(Ms,n,e,t,i,r),!0;case"mouseover":return Ds=Su(Ds,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return yc.set(s,Su(yc.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,wc.set(s,Su(wc.get(s)||null,n,e,t,i,r)),!0}return!1}function HA(n){var e=lo(n.target);if(e!==null){var t=Ea(e);if(t!==null){if(e=t.tag,e===13){if(e=TA(t),e!==null){n.blockedOn=e,zA(n.priority,function(){OA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function tf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Am(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);gm=i,t.target.dispatchEvent(i),gm=null}else return e=md(t),e!==null&&Py(e),n.blockedOn=t,!1;e.shift()}return!0}function iw(n,e,t){tf(n)&&t.delete(e)}function Nx(){_m=!1,Ls!==null&&tf(Ls)&&(Ls=null),Ms!==null&&tf(Ms)&&(Ms=null),Ds!==null&&tf(Ds)&&(Ds=null),yc.forEach(iw),wc.forEach(iw)}function bu(n,e){n.blockedOn===e&&(n.blockedOn=null,_m||(_m=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,Nx)))}function _c(n){function e(r){return bu(r,n)}if(0<Fd.length){bu(Fd[0],n);for(var t=1;t<Fd.length;t++){var i=Fd[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Ls!==null&&bu(Ls,n),Ms!==null&&bu(Ms,n),Ds!==null&&bu(Ds,n),yc.forEach(e),wc.forEach(e),t=0;t<rs.length;t++)i=rs[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<rs.length&&(t=rs[0],t.blockedOn===null);)HA(t),t.blockedOn===null&&rs.shift()}var il=Gr.ReactCurrentBatchConfig,Vf=!0;function Ox(n,e,t,i){var r=Le,s=il.transition;il.transition=null;try{Le=1,Ry(n,e,t,i)}finally{Le=r,il.transition=s}}function jx(n,e,t,i){var r=Le,s=il.transition;il.transition=null;try{Le=4,Ry(n,e,t,i)}finally{Le=r,il.transition=s}}function Ry(n,e,t,i){if(Vf){var r=Am(n,e,t,i);if(r===null)Fg(n,e,i,Wf,t),nw(n,i);else if(Fx(r,n,e,t,i))i.stopPropagation();else if(nw(n,i),e&4&&-1<Ix.indexOf(n)){for(;r!==null;){var s=md(r);if(s!==null&&NA(s),s=Am(n,e,t,i),s===null&&Fg(n,e,i,Wf,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Fg(n,e,i,null,t)}}var Wf=null;function Am(n,e,t,i){if(Wf=null,n=Cy(i),n=lo(n),n!==null)if(e=Ea(n),e===null)n=null;else if(t=e.tag,t===13){if(n=TA(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Wf=n,null}function BA(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xx()){case ky:return 1;case MA:return 4;case Uf:case Cx:return 16;case DA:return 536870912;default:return 16}default:return 16}}var Ts=null,Ly=null,nf=null;function UA(){if(nf)return nf;var n,e=Ly,t=e.length,i,r="value"in Ts?Ts.value:Ts.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return nf=r.slice(n,1<i?1-i:void 0)}function rf(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Nd(){return!0}function rw(){return!1}function Bn(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nd:rw,this.isPropagationStopped=rw,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Nd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Nd)},persist:function(){},isPersistent:Nd}),e}var pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},My=Bn(pu),gd=Qe({},pu,{view:0,detail:0}),zx=Bn(gd),Cg,kg,xu,Bp=Qe({},gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dy,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==xu&&(xu&&n.type==="mousemove"?(Cg=n.screenX-xu.screenX,kg=n.screenY-xu.screenY):kg=Cg=0,xu=n),Cg)},movementY:function(n){return"movementY"in n?n.movementY:kg}}),sw=Bn(Bp),Hx=Qe({},Bp,{dataTransfer:0}),Bx=Bn(Hx),Ux=Qe({},gd,{relatedTarget:0}),Tg=Bn(Ux),$x=Qe({},pu,{animationName:0,elapsedTime:0,pseudoElement:0}),Vx=Bn($x),Wx=Qe({},pu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Gx=Bn(Wx),Xx=Qe({},pu,{data:0}),ow=Bn(Xx),Kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qx(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Yx[n])?!!e[n]:!1}function Dy(){return Qx}var Jx=Qe({},gd,{key:function(n){if(n.key){var e=Kx[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=rf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dy,charCode:function(n){return n.type==="keypress"?rf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?rf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Zx=Bn(Jx),eC=Qe({},Bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aw=Bn(eC),tC=Qe({},gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dy}),nC=Bn(tC),iC=Qe({},pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),rC=Bn(iC),sC=Qe({},Bp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),oC=Bn(sC),aC=[9,13,27,32],Iy=Hr&&"CompositionEvent"in window,sc=null;Hr&&"documentMode"in document&&(sc=document.documentMode);var lC=Hr&&"TextEvent"in window&&!sc,$A=Hr&&(!Iy||sc&&8<sc&&11>=sc),lw=" ",uw=!1;function VA(n,e){switch(n){case"keyup":return aC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $a=!1;function uC(n,e){switch(n){case"compositionend":return WA(e);case"keypress":return e.which!==32?null:(uw=!0,lw);case"textInput":return n=e.data,n===lw&&uw?null:n;default:return null}}function cC(n,e){if($a)return n==="compositionend"||!Iy&&VA(n,e)?(n=UA(),nf=Ly=Ts=null,$a=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $A&&e.locale!=="ko"?null:e.data;default:return null}}var hC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!hC[n.type]:e==="textarea"}function GA(n,e,t,i){SA(i),e=Gf(e,"onChange"),0<e.length&&(t=new My("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var oc=null,Ac=null;function dC(n){iE(n,0)}function Up(n){var e=Ga(n);if(mA(e))return n}function fC(n,e){if(n==="change")return e}var XA=!1;if(Hr){var Pg;if(Hr){var Rg="oninput"in document;if(!Rg){var hw=document.createElement("div");hw.setAttribute("oninput","return;"),Rg=typeof hw.oninput=="function"}Pg=Rg}else Pg=!1;XA=Pg&&(!document.documentMode||9<document.documentMode)}function dw(){oc&&(oc.detachEvent("onpropertychange",KA),Ac=oc=null)}function KA(n){if(n.propertyName==="value"&&Up(Ac)){var e=[];GA(e,Ac,n,Cy(n)),kA(dC,e)}}function pC(n,e,t){n==="focusin"?(dw(),oc=e,Ac=t,oc.attachEvent("onpropertychange",KA)):n==="focusout"&&dw()}function gC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Up(Ac)}function mC(n,e){if(n==="click")return Up(e)}function vC(n,e){if(n==="input"||n==="change")return Up(e)}function yC(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var bi=typeof Object.is=="function"?Object.is:yC;function Ec(n,e){if(bi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!im.call(e,r)||!bi(n[r],e[r]))return!1}return!0}function fw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function pw(n,e){var t=fw(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=fw(t)}}function qA(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?qA(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function YA(){for(var n=window,e=zf();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=zf(n.document)}return e}function Fy(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function wC(n){var e=YA(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&qA(t.ownerDocument.documentElement,t)){if(i!==null&&Fy(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=pw(t,s);var o=pw(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var _C=Hr&&"documentMode"in document&&11>=document.documentMode,Va=null,Em=null,ac=null,Sm=!1;function gw(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Sm||Va==null||Va!==zf(i)||(i=Va,"selectionStart"in i&&Fy(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ac&&Ec(ac,i)||(ac=i,i=Gf(Em,"onSelect"),0<i.length&&(e=new My("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Va)))}function Od(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Wa={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionend:Od("Transition","TransitionEnd")},Lg={},QA={};Hr&&(QA=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function $p(n){if(Lg[n])return Lg[n];if(!Wa[n])return n;var e=Wa[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in QA)return Lg[n]=e[t];return n}var JA=$p("animationend"),ZA=$p("animationiteration"),eE=$p("animationstart"),tE=$p("transitionend"),nE=new Map,mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vs(n,e){nE.set(n,e),Aa(e,[n])}for(var Mg=0;Mg<mw.length;Mg++){var Dg=mw[Mg],AC=Dg.toLowerCase(),EC=Dg[0].toUpperCase()+Dg.slice(1);Vs(AC,"on"+EC)}Vs(JA,"onAnimationEnd");Vs(ZA,"onAnimationIteration");Vs(eE,"onAnimationStart");Vs("dblclick","onDoubleClick");Vs("focusin","onFocus");Vs("focusout","onBlur");Vs(tE,"onTransitionEnd");ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SC=new Set("cancel close invalid load scroll toggle".split(" ").concat(zu));function vw(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,Ax(i,e,void 0,n),n.currentTarget=null}function iE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&r.isPropagationStopped())break e;vw(r,a,c),s=u}else for(o=0;o<i.length;o++){if(a=i[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&r.isPropagationStopped())break e;vw(r,a,c),s=u}}}if(Bf)throw n=ym,Bf=!1,ym=null,n}function $e(n,e){var t=e[Tm];t===void 0&&(t=e[Tm]=new Set);var i=n+"__bubble";t.has(i)||(rE(e,n,2,!1),t.add(i))}function Ig(n,e,t){var i=0;e&&(i|=4),rE(t,n,i,e)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Sc(n){if(!n[jd]){n[jd]=!0,hA.forEach(function(t){t!=="selectionchange"&&(SC.has(t)||Ig(t,!1,n),Ig(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[jd]||(e[jd]=!0,Ig("selectionchange",!1,e))}}function rE(n,e,t,i){switch(BA(e)){case 1:var r=Ox;break;case 4:r=jx;break;default:r=Ry}t=r.bind(null,e,t,n),r=void 0,!vm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Fg(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;a!==null;){if(o=lo(a),o===null)return;if(u=o.tag,u===5||u===6){i=s=o;continue e}a=a.parentNode}}i=i.return}kA(function(){var c=s,h=Cy(t),d=[];e:{var f=nE.get(n);if(f!==void 0){var p=My,g=n;switch(n){case"keypress":if(rf(t)===0)break e;case"keydown":case"keyup":p=Zx;break;case"focusin":g="focus",p=Tg;break;case"focusout":g="blur",p=Tg;break;case"beforeblur":case"afterblur":p=Tg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nC;break;case JA:case ZA:case eE:p=Vx;break;case tE:p=rC;break;case"scroll":p=zx;break;case"wheel":p=oC;break;case"copy":case"cut":case"paste":p=Gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=aw}var y=(e&4)!==0,S=!y&&n==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,E;v!==null;){E=v;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,m!==null&&(x=vc(v,m),x!=null&&y.push(bc(v,x,E)))),S)break;v=v.return}0<y.length&&(f=new p(f,g,null,t,h),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==gm&&(g=t.relatedTarget||t.fromElement)&&(lo(g)||g[Br]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?lo(g):null,g!==null&&(S=Ea(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=sw,x="onMouseLeave",m="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(y=aw,x="onPointerLeave",m="onPointerEnter",v="pointer"),S=p==null?f:Ga(p),E=g==null?f:Ga(g),f=new y(x,v+"leave",p,t,h),f.target=S,f.relatedTarget=E,x=null,lo(h)===c&&(y=new y(m,v+"enter",g,t,h),y.target=E,y.relatedTarget=S,x=y),S=x,p&&g)t:{for(y=p,m=g,v=0,E=y;E;E=Da(E))v++;for(E=0,x=m;x;x=Da(x))E++;for(;0<v-E;)y=Da(y),v--;for(;0<E-v;)m=Da(m),E--;for(;v--;){if(y===m||m!==null&&y===m.alternate)break t;y=Da(y),m=Da(m)}y=null}else y=null;p!==null&&yw(d,f,p,y,!1),g!==null&&S!==null&&yw(d,S,g,y,!0)}}e:{if(f=c?Ga(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=fC;else if(cw(f))if(XA)k=vC;else{k=gC;var b=pC}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=mC);if(k&&(k=k(n,c))){GA(d,k,t,h);break e}b&&b(n,f,c),n==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&cm(f,"number",f.value)}switch(b=c?Ga(c):window,n){case"focusin":(cw(b)||b.contentEditable==="true")&&(Va=b,Em=c,ac=null);break;case"focusout":ac=Em=Va=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,gw(d,t,h);break;case"selectionchange":if(_C)break;case"keydown":case"keyup":gw(d,t,h)}var L;if(Iy)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else $a?VA(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&($A&&t.locale!=="ko"&&($a||R!=="onCompositionStart"?R==="onCompositionEnd"&&$a&&(L=UA()):(Ts=h,Ly="value"in Ts?Ts.value:Ts.textContent,$a=!0)),b=Gf(c,R),0<b.length&&(R=new ow(R,n,null,t,h),d.push({event:R,listeners:b}),L?R.data=L:(L=WA(t),L!==null&&(R.data=L)))),(L=lC?uC(n,t):cC(n,t))&&(c=Gf(c,"onBeforeInput"),0<c.length&&(h=new ow("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=L))}iE(d,e)})}function bc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Gf(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=vc(n,t),s!=null&&i.unshift(bc(n,s,r)),s=vc(n,e),s!=null&&i.push(bc(n,s,r))),n=n.return}return i}function Da(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function yw(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,u=a.alternate,c=a.stateNode;if(u!==null&&u===i)break;a.tag===5&&c!==null&&(a=c,r?(u=vc(t,s),u!=null&&o.unshift(bc(t,u,a))):r||(u=vc(t,s),u!=null&&o.push(bc(t,u,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var bC=/\r\n?/g,xC=/\u0000|\uFFFD/g;function ww(n){return(typeof n=="string"?n:""+n).replace(bC,`
`).replace(xC,"")}function zd(n,e,t){if(e=ww(e),ww(n)!==e&&t)throw Error(j(425))}function Xf(){}var bm=null,xm=null;function Cm(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var km=typeof setTimeout=="function"?setTimeout:void 0,CC=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(n){return _w.resolve(null).then(n).catch(TC)}:km;function TC(n){setTimeout(function(){throw n})}function Ng(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),_c(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);_c(e)}function Is(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Aw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var gu=Math.random().toString(36).slice(2),Wi="__reactFiber$"+gu,xc="__reactProps$"+gu,Br="__reactContainer$"+gu,Tm="__reactEvents$"+gu,PC="__reactListeners$"+gu,RC="__reactHandles$"+gu;function lo(n){var e=n[Wi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Br]||t[Wi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Aw(n);n!==null;){if(t=n[Wi])return t;n=Aw(n)}return e}n=t,t=n.parentNode}return null}function md(n){return n=n[Wi]||n[Br],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ga(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(j(33))}function Vp(n){return n[xc]||null}var Pm=[],Xa=-1;function Ws(n){return{current:n}}function Ve(n){0>Xa||(n.current=Pm[Xa],Pm[Xa]=null,Xa--)}function Be(n,e){Xa++,Pm[Xa]=n.current,n.current=e}var Hs={},qt=Ws(Hs),vn=Ws(!1),ca=Hs;function su(n,e){var t=n.type.contextTypes;if(!t)return Hs;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function yn(n){return n=n.childContextTypes,n!=null}function Kf(){Ve(vn),Ve(qt)}function Ew(n,e,t){if(qt.current!==Hs)throw Error(j(168));Be(qt,e),Be(vn,t)}function sE(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(j(108,px(n)||"Unknown",r));return Qe({},t,i)}function qf(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Hs,ca=qt.current,Be(qt,n),Be(vn,vn.current),!0}function Sw(n,e,t){var i=n.stateNode;if(!i)throw Error(j(169));t?(n=sE(n,e,ca),i.__reactInternalMemoizedMergedChildContext=n,Ve(vn),Ve(qt),Be(qt,n)):Ve(vn),Be(vn,t)}var or=null,Wp=!1,Og=!1;function oE(n){or===null?or=[n]:or.push(n)}function LC(n){Wp=!0,oE(n)}function Gs(){if(!Og&&or!==null){Og=!0;var n=0,e=Le;try{var t=or;for(Le=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}or=null,Wp=!1}catch(r){throw or!==null&&(or=or.slice(n+1)),LA(ky,Gs),r}finally{Le=e,Og=!1}}return null}var Ka=[],qa=0,Yf=null,Qf=0,Kn=[],qn=0,ha=null,Mr=1,Dr="";function Js(n,e){Ka[qa++]=Qf,Ka[qa++]=Yf,Yf=n,Qf=e}function aE(n,e,t){Kn[qn++]=Mr,Kn[qn++]=Dr,Kn[qn++]=ha,ha=n;var i=Mr;n=Dr;var r=32-Ei(i)-1;i&=~(1<<r),t+=1;var s=32-Ei(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Mr=1<<32-Ei(e)+r|t<<r|i,Dr=s+n}else Mr=1<<s|t<<r|i,Dr=n}function Ny(n){n.return!==null&&(Js(n,1),aE(n,1,0))}function Oy(n){for(;n===Yf;)Yf=Ka[--qa],Ka[qa]=null,Qf=Ka[--qa],Ka[qa]=null;for(;n===ha;)ha=Kn[--qn],Kn[qn]=null,Dr=Kn[--qn],Kn[qn]=null,Mr=Kn[--qn],Kn[qn]=null}var jn=null,On=null,Ge=!1,Ai=null;function lE(n,e){var t=Jn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function bw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,jn=n,On=Is(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,jn=n,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ha!==null?{id:Mr,overflow:Dr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Jn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,jn=n,On=null,!0):!1;default:return!1}}function Rm(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Lm(n){if(Ge){var e=On;if(e){var t=e;if(!bw(n,e)){if(Rm(n))throw Error(j(418));e=Is(t.nextSibling);var i=jn;e&&bw(n,e)?lE(i,t):(n.flags=n.flags&-4097|2,Ge=!1,jn=n)}}else{if(Rm(n))throw Error(j(418));n.flags=n.flags&-4097|2,Ge=!1,jn=n}}}function xw(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;jn=n}function Hd(n){if(n!==jn)return!1;if(!Ge)return xw(n),Ge=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Cm(n.type,n.memoizedProps)),e&&(e=On)){if(Rm(n))throw uE(),Error(j(418));for(;e;)lE(n,e),e=Is(e.nextSibling)}if(xw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(j(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){On=Is(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}On=null}}else On=jn?Is(n.stateNode.nextSibling):null;return!0}function uE(){for(var n=On;n;)n=Is(n.nextSibling)}function ou(){On=jn=null,Ge=!1}function jy(n){Ai===null?Ai=[n]:Ai.push(n)}var MC=Gr.ReactCurrentBatchConfig;function Cu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(j(309));var i=t.stateNode}if(!i)throw Error(j(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(j(284));if(!t._owner)throw Error(j(290,n))}return n}function Bd(n,e){throw n=Object.prototype.toString.call(e),Error(j(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Cw(n){var e=n._init;return e(n._payload)}function cE(n){function e(m,v){if(n){var E=m.deletions;E===null?(m.deletions=[v],m.flags|=16):E.push(v)}}function t(m,v){if(!n)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function i(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function r(m,v){return m=js(m,v),m.index=0,m.sibling=null,m}function s(m,v,E){return m.index=E,n?(E=m.alternate,E!==null?(E=E.index,E<v?(m.flags|=2,v):E):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,v,E,x){return v===null||v.tag!==6?(v=Vg(E,m.mode,x),v.return=m,v):(v=r(v,E),v.return=m,v)}function u(m,v,E,x){var k=E.type;return k===Ua?h(m,v,E.props.children,x,E.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ns&&Cw(k)===v.type)?(x=r(v,E.props),x.ref=Cu(m,v,E),x.return=m,x):(x=hf(E.type,E.key,E.props,null,m.mode,x),x.ref=Cu(m,v,E),x.return=m,x)}function c(m,v,E,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=Wg(E,m.mode,x),v.return=m,v):(v=r(v,E.children||[]),v.return=m,v)}function h(m,v,E,x,k){return v===null||v.tag!==7?(v=ua(E,m.mode,x,k),v.return=m,v):(v=r(v,E),v.return=m,v)}function d(m,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Vg(""+v,m.mode,E),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Rd:return E=hf(v.type,v.key,v.props,null,m.mode,E),E.ref=Cu(m,null,v),E.return=m,E;case Ba:return v=Wg(v,m.mode,E),v.return=m,v;case ns:var x=v._init;return d(m,x(v._payload),E)}if(Ou(v)||Au(v))return v=ua(v,m.mode,E,null),v.return=m,v;Bd(m,v)}return null}function f(m,v,E,x){var k=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return k!==null?null:a(m,v,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Rd:return E.key===k?u(m,v,E,x):null;case Ba:return E.key===k?c(m,v,E,x):null;case ns:return k=E._init,f(m,v,k(E._payload),x)}if(Ou(E)||Au(E))return k!==null?null:h(m,v,E,x,null);Bd(m,E)}return null}function p(m,v,E,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(E)||null,a(v,m,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rd:return m=m.get(x.key===null?E:x.key)||null,u(v,m,x,k);case Ba:return m=m.get(x.key===null?E:x.key)||null,c(v,m,x,k);case ns:var b=x._init;return p(m,v,E,b(x._payload),k)}if(Ou(x)||Au(x))return m=m.get(E)||null,h(v,m,x,k,null);Bd(v,x)}return null}function g(m,v,E,x){for(var k=null,b=null,L=v,R=v=0,F=null;L!==null&&R<E.length;R++){L.index>R?(F=L,L=null):F=L.sibling;var N=f(m,L,E[R],x);if(N===null){L===null&&(L=F);break}n&&L&&N.alternate===null&&e(m,L),v=s(N,v,R),b===null?k=N:b.sibling=N,b=N,L=F}if(R===E.length)return t(m,L),Ge&&Js(m,R),k;if(L===null){for(;R<E.length;R++)L=d(m,E[R],x),L!==null&&(v=s(L,v,R),b===null?k=L:b.sibling=L,b=L);return Ge&&Js(m,R),k}for(L=i(m,L);R<E.length;R++)F=p(L,m,R,E[R],x),F!==null&&(n&&F.alternate!==null&&L.delete(F.key===null?R:F.key),v=s(F,v,R),b===null?k=F:b.sibling=F,b=F);return n&&L.forEach(function(z){return e(m,z)}),Ge&&Js(m,R),k}function y(m,v,E,x){var k=Au(E);if(typeof k!="function")throw Error(j(150));if(E=k.call(E),E==null)throw Error(j(151));for(var b=k=null,L=v,R=v=0,F=null,N=E.next();L!==null&&!N.done;R++,N=E.next()){L.index>R?(F=L,L=null):F=L.sibling;var z=f(m,L,N.value,x);if(z===null){L===null&&(L=F);break}n&&L&&z.alternate===null&&e(m,L),v=s(z,v,R),b===null?k=z:b.sibling=z,b=z,L=F}if(N.done)return t(m,L),Ge&&Js(m,R),k;if(L===null){for(;!N.done;R++,N=E.next())N=d(m,N.value,x),N!==null&&(v=s(N,v,R),b===null?k=N:b.sibling=N,b=N);return Ge&&Js(m,R),k}for(L=i(m,L);!N.done;R++,N=E.next())N=p(L,m,R,N.value,x),N!==null&&(n&&N.alternate!==null&&L.delete(N.key===null?R:N.key),v=s(N,v,R),b===null?k=N:b.sibling=N,b=N);return n&&L.forEach(function(ie){return e(m,ie)}),Ge&&Js(m,R),k}function S(m,v,E,x){if(typeof E=="object"&&E!==null&&E.type===Ua&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Rd:e:{for(var k=E.key,b=v;b!==null;){if(b.key===k){if(k=E.type,k===Ua){if(b.tag===7){t(m,b.sibling),v=r(b,E.props.children),v.return=m,m=v;break e}}else if(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ns&&Cw(k)===b.type){t(m,b.sibling),v=r(b,E.props),v.ref=Cu(m,b,E),v.return=m,m=v;break e}t(m,b);break}else e(m,b);b=b.sibling}E.type===Ua?(v=ua(E.props.children,m.mode,x,E.key),v.return=m,m=v):(x=hf(E.type,E.key,E.props,null,m.mode,x),x.ref=Cu(m,v,E),x.return=m,m=x)}return o(m);case Ba:e:{for(b=E.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){t(m,v.sibling),v=r(v,E.children||[]),v.return=m,m=v;break e}else{t(m,v);break}else e(m,v);v=v.sibling}v=Wg(E,m.mode,x),v.return=m,m=v}return o(m);case ns:return b=E._init,S(m,v,b(E._payload),x)}if(Ou(E))return g(m,v,E,x);if(Au(E))return y(m,v,E,x);Bd(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(t(m,v.sibling),v=r(v,E),v.return=m,m=v):(t(m,v),v=Vg(E,m.mode,x),v.return=m,m=v),o(m)):t(m,v)}return S}var au=cE(!0),hE=cE(!1),Jf=Ws(null),Zf=null,Ya=null,zy=null;function Hy(){zy=Ya=Zf=null}function By(n){var e=Jf.current;Ve(Jf),n._currentValue=e}function Mm(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function rl(n,e){Zf=n,zy=Ya=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(pn=!0),n.firstContext=null)}function ei(n){var e=n._currentValue;if(zy!==n)if(n={context:n,memoizedValue:e,next:null},Ya===null){if(Zf===null)throw Error(j(308));Ya=n,Zf.dependencies={lanes:0,firstContext:n}}else Ya=Ya.next=n;return e}var uo=null;function Uy(n){uo===null?uo=[n]:uo.push(n)}function dE(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Uy(e)):(t.next=r.next,r.next=t),e.interleaved=t,Ur(n,i)}function Ur(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var is=!1;function $y(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ir(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ae&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ur(n,t)}return r=i.interleaved,r===null?(e.next=e,Uy(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ur(n,t)}function sf(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Ty(n,t)}}function kw(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ep(n,e,t,i){var r=n.updateQueue;is=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var d=r.baseState;o=0,h=c=u=null,a=s;do{var f=a.lane,p=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(f=e,p=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=Qe({},d,f);break e;case 2:is=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,u=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(u=d),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);fa|=o,n.lanes=o,n.memoizedState=d}}function Tw(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(j(191,r));r.call(i)}}}var vd={},Xi=Ws(vd),Cc=Ws(vd),kc=Ws(vd);function co(n){if(n===vd)throw Error(j(174));return n}function Vy(n,e){switch(Be(kc,e),Be(Cc,n),Be(Xi,vd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dm(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=dm(e,n)}Ve(Xi),Be(Xi,e)}function lu(){Ve(Xi),Ve(Cc),Ve(kc)}function pE(n){co(kc.current);var e=co(Xi.current),t=dm(e,n.type);e!==t&&(Be(Cc,n),Be(Xi,t))}function Wy(n){Cc.current===n&&(Ve(Xi),Ve(Cc))}var qe=Ws(0);function tp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jg=[];function Gy(){for(var n=0;n<jg.length;n++)jg[n]._workInProgressVersionPrimary=null;jg.length=0}var of=Gr.ReactCurrentDispatcher,zg=Gr.ReactCurrentBatchConfig,da=0,Ye=null,mt=null,St=null,np=!1,lc=!1,Tc=0,DC=0;function zt(){throw Error(j(321))}function Xy(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!bi(n[t],e[t]))return!1;return!0}function Ky(n,e,t,i,r,s){if(da=s,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,of.current=n===null||n.memoizedState===null?OC:jC,n=t(i,r),lc){s=0;do{if(lc=!1,Tc=0,25<=s)throw Error(j(301));s+=1,St=mt=null,e.updateQueue=null,of.current=zC,n=t(i,r)}while(lc)}if(of.current=ip,e=mt!==null&&mt.next!==null,da=0,St=mt=Ye=null,np=!1,e)throw Error(j(300));return n}function qy(){var n=Tc!==0;return Tc=0,n}function Ti(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ye.memoizedState=St=n:St=St.next=n,St}function ti(){if(mt===null){var n=Ye.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var e=St===null?Ye.memoizedState:St.next;if(e!==null)St=e,mt=n;else{if(n===null)throw Error(j(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},St===null?Ye.memoizedState=St=n:St=St.next=n}return St}function Pc(n,e){return typeof e=="function"?e(n):e}function Hg(n){var e=ti(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var i=mt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((da&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,o=i):u=u.next=d,Ye.lanes|=h,fa|=h}c=c.next}while(c!==null&&c!==s);u===null?o=i:u.next=a,bi(i,e.memoizedState)||(pn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Ye.lanes|=s,fa|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Bg(n){var e=ti(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);bi(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function gE(){}function mE(n,e){var t=Ye,i=ti(),r=e(),s=!bi(i.memoizedState,r);if(s&&(i.memoizedState=r,pn=!0),i=i.queue,Yy(wE.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||St!==null&&St.memoizedState.tag&1){if(t.flags|=2048,Rc(9,yE.bind(null,t,i,r,e),void 0,null),bt===null)throw Error(j(349));da&30||vE(t,e,r)}return r}function vE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function yE(n,e,t,i){e.value=t,e.getSnapshot=i,_E(e)&&AE(n)}function wE(n,e,t){return t(function(){_E(e)&&AE(n)})}function _E(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!bi(n,t)}catch{return!0}}function AE(n){var e=Ur(n,1);e!==null&&Si(e,n,1,-1)}function Pw(n){var e=Ti();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:n},e.queue=n,n=n.dispatch=NC.bind(null,Ye,n),[e.memoizedState,n]}function Rc(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function EE(){return ti().memoizedState}function af(n,e,t,i){var r=Ti();Ye.flags|=n,r.memoizedState=Rc(1|e,t,void 0,i===void 0?null:i)}function Gp(n,e,t,i){var r=ti();i=i===void 0?null:i;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,i!==null&&Xy(i,o.deps)){r.memoizedState=Rc(e,t,s,i);return}}Ye.flags|=n,r.memoizedState=Rc(1|e,t,s,i)}function Rw(n,e){return af(8390656,8,n,e)}function Yy(n,e){return Gp(2048,8,n,e)}function SE(n,e){return Gp(4,2,n,e)}function bE(n,e){return Gp(4,4,n,e)}function xE(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function CE(n,e,t){return t=t!=null?t.concat([n]):null,Gp(4,4,xE.bind(null,e,n),t)}function Qy(){}function kE(n,e){var t=ti();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Xy(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function TE(n,e){var t=ti();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Xy(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function PE(n,e,t){return da&21?(bi(t,e)||(t=IA(),Ye.lanes|=t,fa|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,pn=!0),n.memoizedState=t)}function IC(n,e){var t=Le;Le=t!==0&&4>t?t:4,n(!0);var i=zg.transition;zg.transition={};try{n(!1),e()}finally{Le=t,zg.transition=i}}function RE(){return ti().memoizedState}function FC(n,e,t){var i=Os(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},LE(n))ME(e,t);else if(t=dE(n,e,t,i),t!==null){var r=tn();Si(t,n,i,r),DE(t,e,i)}}function NC(n,e,t){var i=Os(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(LE(n))ME(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,bi(a,o)){var u=e.interleaved;u===null?(r.next=r,Uy(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}t=dE(n,e,r,i),t!==null&&(r=tn(),Si(t,n,i,r),DE(t,e,i))}}function LE(n){var e=n.alternate;return n===Ye||e!==null&&e===Ye}function ME(n,e){lc=np=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function DE(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Ty(n,t)}}var ip={readContext:ei,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},OC={readContext:ei,useCallback:function(n,e){return Ti().memoizedState=[n,e===void 0?null:e],n},useContext:ei,useEffect:Rw,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,af(4194308,4,xE.bind(null,e,n),t)},useLayoutEffect:function(n,e){return af(4194308,4,n,e)},useInsertionEffect:function(n,e){return af(4,2,n,e)},useMemo:function(n,e){var t=Ti();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Ti();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=FC.bind(null,Ye,n),[i.memoizedState,n]},useRef:function(n){var e=Ti();return n={current:n},e.memoizedState=n},useState:Pw,useDebugValue:Qy,useDeferredValue:function(n){return Ti().memoizedState=n},useTransition:function(){var n=Pw(!1),e=n[0];return n=IC.bind(null,n[1]),Ti().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Ye,r=Ti();if(Ge){if(t===void 0)throw Error(j(407));t=t()}else{if(t=e(),bt===null)throw Error(j(349));da&30||vE(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Rw(wE.bind(null,i,s,n),[n]),i.flags|=2048,Rc(9,yE.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Ti(),e=bt.identifierPrefix;if(Ge){var t=Dr,i=Mr;t=(i&~(1<<32-Ei(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Tc++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=DC++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},jC={readContext:ei,useCallback:kE,useContext:ei,useEffect:Yy,useImperativeHandle:CE,useInsertionEffect:SE,useLayoutEffect:bE,useMemo:TE,useReducer:Hg,useRef:EE,useState:function(){return Hg(Pc)},useDebugValue:Qy,useDeferredValue:function(n){var e=ti();return PE(e,mt.memoizedState,n)},useTransition:function(){var n=Hg(Pc)[0],e=ti().memoizedState;return[n,e]},useMutableSource:gE,useSyncExternalStore:mE,useId:RE,unstable_isNewReconciler:!1},zC={readContext:ei,useCallback:kE,useContext:ei,useEffect:Yy,useImperativeHandle:CE,useInsertionEffect:SE,useLayoutEffect:bE,useMemo:TE,useReducer:Bg,useRef:EE,useState:function(){return Bg(Pc)},useDebugValue:Qy,useDeferredValue:function(n){var e=ti();return mt===null?e.memoizedState=n:PE(e,mt.memoizedState,n)},useTransition:function(){var n=Bg(Pc)[0],e=ti().memoizedState;return[n,e]},useMutableSource:gE,useSyncExternalStore:mE,useId:RE,unstable_isNewReconciler:!1};function ri(n,e){if(n&&n.defaultProps){e=Qe({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Dm(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Qe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Xp={isMounted:function(n){return(n=n._reactInternals)?Ea(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=tn(),r=Os(n),s=Ir(i,r);s.payload=e,t!=null&&(s.callback=t),e=Fs(n,s,r),e!==null&&(Si(e,n,r,i),sf(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=tn(),r=Os(n),s=Ir(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Fs(n,s,r),e!==null&&(Si(e,n,r,i),sf(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=tn(),i=Os(n),r=Ir(t,i);r.tag=2,e!=null&&(r.callback=e),e=Fs(n,r,i),e!==null&&(Si(e,n,i,t),sf(e,n,i))}};function Lw(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ec(t,i)||!Ec(r,s):!0}function IE(n,e,t){var i=!1,r=Hs,s=e.contextType;return typeof s=="object"&&s!==null?s=ei(s):(r=yn(e)?ca:qt.current,i=e.contextTypes,s=(i=i!=null)?su(n,r):Hs),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xp,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Mw(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Xp.enqueueReplaceState(e,e.state,null)}function Im(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},$y(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ei(s):(s=yn(e)?ca:qt.current,r.context=su(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Dm(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Xp.enqueueReplaceState(r,r.state,null),ep(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function uu(n,e){try{var t="",i=e;do t+=fx(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Ug(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Fm(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var HC=typeof WeakMap=="function"?WeakMap:Map;function FE(n,e,t){t=Ir(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){sp||(sp=!0,Wm=i),Fm(n,e)},t}function NE(n,e,t){t=Ir(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Fm(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Fm(n,e),typeof i!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Dw(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new HC;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=ek.bind(null,n,e,t),e.then(n,n))}function Iw(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Fw(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ir(-1,1),e.tag=2,Fs(t,e,1))),t.lanes|=1),n)}var BC=Gr.ReactCurrentOwner,pn=!1;function Zt(n,e,t,i){e.child=n===null?hE(e,null,t,i):au(e,n.child,t,i)}function Nw(n,e,t,i,r){t=t.render;var s=e.ref;return rl(e,r),i=Ky(n,e,t,i,s,r),t=qy(),n!==null&&!pn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,$r(n,e,r)):(Ge&&t&&Ny(e),e.flags|=1,Zt(n,e,i,r),e.child)}function Ow(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!s0(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,OE(n,e,s,i,r)):(n=hf(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Ec,t(o,i)&&n.ref===e.ref)return $r(n,e,r)}return e.flags|=1,n=js(s,i),n.ref=e.ref,n.return=e,e.child=n}function OE(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Ec(s,i)&&n.ref===e.ref)if(pn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(pn=!0);else return e.lanes=n.lanes,$r(n,e,r)}return Nm(n,e,t,i,r)}function jE(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ja,In),In|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Be(Ja,In),In|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Be(Ja,In),In|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Be(Ja,In),In|=i;return Zt(n,e,r,t),e.child}function zE(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Nm(n,e,t,i,r){var s=yn(t)?ca:qt.current;return s=su(e,s),rl(e,r),t=Ky(n,e,t,i,s,r),i=qy(),n!==null&&!pn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,$r(n,e,r)):(Ge&&i&&Ny(e),e.flags|=1,Zt(n,e,t,r),e.child)}function jw(n,e,t,i,r){if(yn(t)){var s=!0;qf(e)}else s=!1;if(rl(e,r),e.stateNode===null)lf(n,e),IE(e,t,i),Im(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ei(c):(c=yn(t)?ca:qt.current,c=su(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||u!==c)&&Mw(e,o,i,c),is=!1;var f=e.memoizedState;o.state=f,ep(e,i,o,r),u=e.memoizedState,a!==i||f!==u||vn.current||is?(typeof h=="function"&&(Dm(e,t,h,i),u=e.memoizedState),(a=is||Lw(e,t,a,i,f,u,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,fE(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:ri(e.type,a),o.props=c,d=e.pendingProps,f=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=ei(u):(u=yn(t)?ca:qt.current,u=su(e,u));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==u)&&Mw(e,o,i,u),is=!1,f=e.memoizedState,o.state=f,ep(e,i,o,r);var g=e.memoizedState;a!==d||f!==g||vn.current||is?(typeof p=="function"&&(Dm(e,t,p,i),g=e.memoizedState),(c=is||Lw(e,t,c,i,f,g,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=u,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return Om(n,e,t,i,s,r)}function Om(n,e,t,i,r,s){zE(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Sw(e,t,!1),$r(n,e,s);i=e.stateNode,BC.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=au(e,n.child,null,s),e.child=au(e,null,a,s)):Zt(n,e,a,s),e.memoizedState=i.state,r&&Sw(e,t,!0),e.child}function HE(n){var e=n.stateNode;e.pendingContext?Ew(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Ew(n,e.context,!1),Vy(n,e.containerInfo)}function zw(n,e,t,i,r){return ou(),jy(r),e.flags|=256,Zt(n,e,t,i),e.child}var jm={dehydrated:null,treeContext:null,retryLane:0};function zm(n){return{baseLanes:n,cachePool:null,transitions:null}}function BE(n,e,t){var i=e.pendingProps,r=qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Be(qe,r&1),n===null)return Lm(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yp(o,i,0,null),n=ua(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=zm(t),e.memoizedState=jm,n):Jy(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return UC(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=js(r,u),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=js(a,s):(s=ua(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?zm(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=jm,i}return s=n.child,n=s.sibling,i=js(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Jy(n,e){return e=Yp({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ud(n,e,t,i){return i!==null&&jy(i),au(e,n.child,null,t),n=Jy(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function UC(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Ug(Error(j(422))),Ud(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Yp({mode:"visible",children:i.children},r,0,null),s=ua(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&au(e,n.child,null,o),e.child.memoizedState=zm(o),e.memoizedState=jm,s);if(!(e.mode&1))return Ud(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(j(419)),i=Ug(s,i,void 0),Ud(n,e,o,i)}if(a=(o&n.childLanes)!==0,pn||a){if(i=bt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ur(n,r),Si(i,n,r,-1))}return r0(),i=Ug(Error(j(421))),Ud(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=tk.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,On=Is(r.nextSibling),jn=e,Ge=!0,Ai=null,n!==null&&(Kn[qn++]=Mr,Kn[qn++]=Dr,Kn[qn++]=ha,Mr=n.id,Dr=n.overflow,ha=e),e=Jy(e,i.children),e.flags|=4096,e)}function Hw(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Mm(n.return,e,t)}function $g(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function UE(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Zt(n,e,i.children,t),i=qe.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Hw(n,t,e);else if(n.tag===19)Hw(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Be(qe,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&tp(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),$g(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&tp(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}$g(e,!0,t,null,s);break;case"together":$g(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lf(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function $r(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),fa|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(j(153));if(e.child!==null){for(n=e.child,t=js(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=js(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function $C(n,e,t){switch(e.tag){case 3:HE(e),ou();break;case 5:pE(e);break;case 1:yn(e.type)&&qf(e);break;case 4:Vy(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Be(Jf,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Be(qe,qe.current&1),e.flags|=128,null):t&e.child.childLanes?BE(n,e,t):(Be(qe,qe.current&1),n=$r(n,e,t),n!==null?n.sibling:null);Be(qe,qe.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return UE(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Be(qe,qe.current),i)break;return null;case 22:case 23:return e.lanes=0,jE(n,e,t)}return $r(n,e,t)}var $E,Hm,VE,WE;$E=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Hm=function(){};VE=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,co(Xi.current);var s=null;switch(t){case"input":r=lm(n,r),i=lm(n,i),s=[];break;case"select":r=Qe({},r,{value:void 0}),i=Qe({},i,{value:void 0}),s=[];break;case"textarea":r=hm(n,r),i=hm(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Xf)}fm(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var u=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(s||(s=[]),s.push(c,t)),t=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gc.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&$e("scroll",n),s||a===u||(s=[])):(s=s||[]).push(c,u))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};WE=function(n,e,t,i){t!==i&&(e.flags|=4)};function ku(n,e){if(!Ge)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Ht(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function VC(n,e,t){var i=e.pendingProps;switch(Oy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return yn(e.type)&&Kf(),Ht(e),null;case 3:return i=e.stateNode,lu(),Ve(vn),Ve(qt),Gy(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Hd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ai!==null&&(Km(Ai),Ai=null))),Hm(n,e),Ht(e),null;case 5:Wy(e);var r=co(kc.current);if(t=e.type,n!==null&&e.stateNode!=null)VE(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(j(166));return Ht(e),null}if(n=co(Xi.current),Hd(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Wi]=e,i[xc]=s,n=(e.mode&1)!==0,t){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(r=0;r<zu.length;r++)$e(zu[r],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":q0(i,s),$e("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},$e("invalid",i);break;case"textarea":Q0(i,s),$e("invalid",i)}fm(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&zd(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zd(i.textContent,a,n),r=["children",""+a]):gc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",i)}switch(t){case"input":Ld(i),Y0(i,s,!0);break;case"textarea":Ld(i),J0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Xf)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=wA(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Wi]=e,n[xc]=i,$E(n,e,!1,!1),e.stateNode=n;e:{switch(o=pm(t,i),t){case"dialog":$e("cancel",n),$e("close",n),r=i;break;case"iframe":case"object":case"embed":$e("load",n),r=i;break;case"video":case"audio":for(r=0;r<zu.length;r++)$e(zu[r],n);r=i;break;case"source":$e("error",n),r=i;break;case"img":case"image":case"link":$e("error",n),$e("load",n),r=i;break;case"details":$e("toggle",n),r=i;break;case"input":q0(n,i),r=lm(n,i),$e("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Qe({},i,{value:void 0}),$e("invalid",n);break;case"textarea":Q0(n,i),r=hm(n,i),$e("invalid",n);break;default:r=i}fm(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?EA(n,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&_A(n,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&mc(n,u):typeof u=="number"&&mc(n,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&$e("scroll",n):u!=null&&Ey(n,s,u,o))}switch(t){case"input":Ld(n),Y0(n,i,!1);break;case"textarea":Ld(n),J0(n);break;case"option":i.value!=null&&n.setAttribute("value",""+zs(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?el(n,!!i.multiple,s,!1):i.defaultValue!=null&&el(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Xf)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(n&&e.stateNode!=null)WE(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(j(166));if(t=co(kc.current),co(Xi.current),Hd(e)){if(i=e.stateNode,t=e.memoizedProps,i[Wi]=e,(s=i.nodeValue!==t)&&(n=jn,n!==null))switch(n.tag){case 3:zd(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zd(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Wi]=e,e.stateNode=i}return Ht(e),null;case 13:if(Ve(qe),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ge&&On!==null&&e.mode&1&&!(e.flags&128))uE(),ou(),e.flags|=98560,s=!1;else if(s=Hd(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Wi]=e}else ou(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ht(e),s=!1}else Ai!==null&&(Km(Ai),Ai=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||qe.current&1?yt===0&&(yt=3):r0())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return lu(),Hm(n,e),n===null&&Sc(e.stateNode.containerInfo),Ht(e),null;case 10:return By(e.type._context),Ht(e),null;case 17:return yn(e.type)&&Kf(),Ht(e),null;case 19:if(Ve(qe),s=e.memoizedState,s===null)return Ht(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)ku(s,!1);else{if(yt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=tp(n),o!==null){for(e.flags|=128,ku(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Be(qe,qe.current&1|2),e.child}n=n.sibling}s.tail!==null&&rt()>cu&&(e.flags|=128,i=!0,ku(s,!1),e.lanes=4194304)}else{if(!i)if(n=tp(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ku(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Ht(e),null}else 2*rt()-s.renderingStartTime>cu&&t!==1073741824&&(e.flags|=128,i=!0,ku(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,t=qe.current,Be(qe,i?t&1|2:t&1),e):(Ht(e),null);case 22:case 23:return i0(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?In&1073741824&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function WC(n,e){switch(Oy(e),e.tag){case 1:return yn(e.type)&&Kf(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return lu(),Ve(vn),Ve(qt),Gy(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Wy(e),null;case 13:if(Ve(qe),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(j(340));ou()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ve(qe),null;case 4:return lu(),null;case 10:return By(e.type._context),null;case 22:case 23:return i0(),null;case 24:return null;default:return null}}var $d=!1,Xt=!1,GC=typeof WeakSet=="function"?WeakSet:Set,$=null;function Qa(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){tt(n,e,i)}else t.current=null}function Bm(n,e,t){try{t()}catch(i){tt(n,e,i)}}var Bw=!1;function XC(n,e){if(bm=Vf,n=YA(),Fy(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,u=-1,c=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(u=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++c===r&&(a=o),f===s&&++h===i&&(u=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=a===-1||u===-1?null:{start:a,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(xm={focusedElem:n,selectionRange:t},Vf=!1,$=e;$!==null;)if(e=$,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,$=n;else for(;$!==null;){e=$;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,S=g.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:ri(e.type,y),S);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){tt(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}return g=Bw,Bw=!1,g}function uc(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Bm(e,t,s)}r=r.next}while(r!==i)}}function Kp(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Um(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function GE(n){var e=n.alternate;e!==null&&(n.alternate=null,GE(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Wi],delete e[xc],delete e[Tm],delete e[PC],delete e[RC])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function XE(n){return n.tag===5||n.tag===3||n.tag===4}function Uw(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||XE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $m(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Xf));else if(i!==4&&(n=n.child,n!==null))for($m(n,e,t),n=n.sibling;n!==null;)$m(n,e,t),n=n.sibling}function Vm(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Vm(n,e,t),n=n.sibling;n!==null;)Vm(n,e,t),n=n.sibling}var Ft=null,wi=!1;function Qr(n,e,t){for(t=t.child;t!==null;)KE(n,e,t),t=t.sibling}function KE(n,e,t){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(Hp,t)}catch{}switch(t.tag){case 5:Xt||Qa(t,e);case 6:var i=Ft,r=wi;Ft=null,Qr(n,e,t),Ft=i,wi=r,Ft!==null&&(wi?(n=Ft,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ft.removeChild(t.stateNode));break;case 18:Ft!==null&&(wi?(n=Ft,t=t.stateNode,n.nodeType===8?Ng(n.parentNode,t):n.nodeType===1&&Ng(n,t),_c(n)):Ng(Ft,t.stateNode));break;case 4:i=Ft,r=wi,Ft=t.stateNode.containerInfo,wi=!0,Qr(n,e,t),Ft=i,wi=r;break;case 0:case 11:case 14:case 15:if(!Xt&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Bm(t,e,o),r=r.next}while(r!==i)}Qr(n,e,t);break;case 1:if(!Xt&&(Qa(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){tt(t,e,a)}Qr(n,e,t);break;case 21:Qr(n,e,t);break;case 22:t.mode&1?(Xt=(i=Xt)||t.memoizedState!==null,Qr(n,e,t),Xt=i):Qr(n,e,t);break;default:Qr(n,e,t)}}function $w(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new GC),e.forEach(function(i){var r=nk.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function ni(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,wi=!1;break e;case 3:Ft=a.stateNode.containerInfo,wi=!0;break e;case 4:Ft=a.stateNode.containerInfo,wi=!0;break e}a=a.return}if(Ft===null)throw Error(j(160));KE(s,o,r),Ft=null,wi=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(c){tt(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qE(e,n),e=e.sibling}function qE(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ni(e,n),Ci(n),i&4){try{uc(3,n,n.return),Kp(3,n)}catch(y){tt(n,n.return,y)}try{uc(5,n,n.return)}catch(y){tt(n,n.return,y)}}break;case 1:ni(e,n),Ci(n),i&512&&t!==null&&Qa(t,t.return);break;case 5:if(ni(e,n),Ci(n),i&512&&t!==null&&Qa(t,t.return),n.flags&32){var r=n.stateNode;try{mc(r,"")}catch(y){tt(n,n.return,y)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&vA(r,s),pm(a,o);var c=pm(a,s);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];h==="style"?EA(r,d):h==="dangerouslySetInnerHTML"?_A(r,d):h==="children"?mc(r,d):Ey(r,h,d,c)}switch(a){case"input":um(r,s);break;case"textarea":yA(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?el(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?el(r,!!s.multiple,s.defaultValue,!0):el(r,!!s.multiple,s.multiple?[]:"",!1))}r[xc]=s}catch(y){tt(n,n.return,y)}}break;case 6:if(ni(e,n),Ci(n),i&4){if(n.stateNode===null)throw Error(j(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(y){tt(n,n.return,y)}}break;case 3:if(ni(e,n),Ci(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{_c(e.containerInfo)}catch(y){tt(n,n.return,y)}break;case 4:ni(e,n),Ci(n);break;case 13:ni(e,n),Ci(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(t0=rt())),i&4&&$w(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Xt=(c=Xt)||h,ni(e,n),Xt=c):ni(e,n),Ci(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for($=n,h=n.child;h!==null;){for(d=$=h;$!==null;){switch(f=$,p=f.child,f.tag){case 0:case 11:case 14:case 15:uc(4,f,f.return);break;case 1:Qa(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){tt(i,t,y)}}break;case 5:Qa(f,f.return);break;case 22:if(f.memoizedState!==null){Ww(d);continue}}p!==null?(p.return=f,$=p):Ww(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=AA("display",o))}catch(y){tt(n,n.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){tt(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ni(e,n),Ci(n),i&4&&$w(n);break;case 21:break;default:ni(e,n),Ci(n)}}function Ci(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(XE(t)){var i=t;break e}t=t.return}throw Error(j(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(mc(r,""),i.flags&=-33);var s=Uw(n);Vm(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Uw(n);$m(n,a,o);break;default:throw Error(j(161))}}catch(u){tt(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function KC(n,e,t){$=n,YE(n)}function YE(n,e,t){for(var i=(n.mode&1)!==0;$!==null;){var r=$,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||$d;if(!o){var a=r.alternate,u=a!==null&&a.memoizedState!==null||Xt;a=$d;var c=Xt;if($d=o,(Xt=u)&&!c)for($=r;$!==null;)o=$,u=o.child,o.tag===22&&o.memoizedState!==null?Gw(r):u!==null?(u.return=o,$=u):Gw(r);for(;s!==null;)$=s,YE(s),s=s.sibling;$=r,$d=a,Xt=c}Vw(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,$=s):Vw(n)}}function Vw(n){for(;$!==null;){var e=$;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||Kp(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Xt)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:ri(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Tw(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Tw(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&_c(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Xt||e.flags&512&&Um(e)}catch(f){tt(e,e.return,f)}}if(e===n){$=null;break}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}}function Ww(n){for(;$!==null;){var e=$;if(e===n){$=null;break}var t=e.sibling;if(t!==null){t.return=e.return,$=t;break}$=e.return}}function Gw(n){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Kp(4,e)}catch(u){tt(e,t,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){tt(e,r,u)}}var s=e.return;try{Um(e)}catch(u){tt(e,s,u)}break;case 5:var o=e.return;try{Um(e)}catch(u){tt(e,o,u)}}}catch(u){tt(e,e.return,u)}if(e===n){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var qC=Math.ceil,rp=Gr.ReactCurrentDispatcher,Zy=Gr.ReactCurrentOwner,Zn=Gr.ReactCurrentBatchConfig,Ae=0,bt=null,ut=null,Nt=0,In=0,Ja=Ws(0),yt=0,Lc=null,fa=0,qp=0,e0=0,cc=null,fn=null,t0=0,cu=1/0,nr=null,sp=!1,Wm=null,Ns=null,Vd=!1,Ps=null,op=0,hc=0,Gm=null,uf=-1,cf=0;function tn(){return Ae&6?rt():uf!==-1?uf:uf=rt()}function Os(n){return n.mode&1?Ae&2&&Nt!==0?Nt&-Nt:MC.transition!==null?(cf===0&&(cf=IA()),cf):(n=Le,n!==0||(n=window.event,n=n===void 0?16:BA(n.type)),n):1}function Si(n,e,t,i){if(50<hc)throw hc=0,Gm=null,Error(j(185));pd(n,t,i),(!(Ae&2)||n!==bt)&&(n===bt&&(!(Ae&2)&&(qp|=t),yt===4&&ss(n,Nt)),wn(n,i),t===1&&Ae===0&&!(e.mode&1)&&(cu=rt()+500,Wp&&Gs()))}function wn(n,e){var t=n.callbackNode;Mx(n,e);var i=$f(n,n===bt?Nt:0);if(i===0)t!==null&&tw(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&tw(t),e===1)n.tag===0?LC(Xw.bind(null,n)):oE(Xw.bind(null,n)),kC(function(){!(Ae&6)&&Gs()}),t=null;else{switch(FA(i)){case 1:t=ky;break;case 4:t=MA;break;case 16:t=Uf;break;case 536870912:t=DA;break;default:t=Uf}t=rS(t,QE.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function QE(n,e){if(uf=-1,cf=0,Ae&6)throw Error(j(327));var t=n.callbackNode;if(sl()&&n.callbackNode!==t)return null;var i=$f(n,n===bt?Nt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=ap(n,i);else{e=i;var r=Ae;Ae|=2;var s=ZE();(bt!==n||Nt!==e)&&(nr=null,cu=rt()+500,la(n,e));do try{JC();break}catch(a){JE(n,a)}while(!0);Hy(),rp.current=s,Ae=r,ut!==null?e=0:(bt=null,Nt=0,e=yt)}if(e!==0){if(e===2&&(r=wm(n),r!==0&&(i=r,e=Xm(n,r))),e===1)throw t=Lc,la(n,0),ss(n,i),wn(n,rt()),t;if(e===6)ss(n,i);else{if(r=n.current.alternate,!(i&30)&&!YC(r)&&(e=ap(n,i),e===2&&(s=wm(n),s!==0&&(i=s,e=Xm(n,s))),e===1))throw t=Lc,la(n,0),ss(n,i),wn(n,rt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(j(345));case 2:Zs(n,fn,nr);break;case 3:if(ss(n,i),(i&130023424)===i&&(e=t0+500-rt(),10<e)){if($f(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){tn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=km(Zs.bind(null,n,fn,nr),e);break}Zs(n,fn,nr);break;case 4:if(ss(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Ei(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=rt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qC(i/1960))-i,10<i){n.timeoutHandle=km(Zs.bind(null,n,fn,nr),i);break}Zs(n,fn,nr);break;case 5:Zs(n,fn,nr);break;default:throw Error(j(329))}}}return wn(n,rt()),n.callbackNode===t?QE.bind(null,n):null}function Xm(n,e){var t=cc;return n.current.memoizedState.isDehydrated&&(la(n,e).flags|=256),n=ap(n,e),n!==2&&(e=fn,fn=t,e!==null&&Km(e)),n}function Km(n){fn===null?fn=n:fn.push.apply(fn,n)}function YC(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!bi(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ss(n,e){for(e&=~e0,e&=~qp,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ei(e),i=1<<t;n[t]=-1,e&=~i}}function Xw(n){if(Ae&6)throw Error(j(327));sl();var e=$f(n,0);if(!(e&1))return wn(n,rt()),null;var t=ap(n,e);if(n.tag!==0&&t===2){var i=wm(n);i!==0&&(e=i,t=Xm(n,i))}if(t===1)throw t=Lc,la(n,0),ss(n,e),wn(n,rt()),t;if(t===6)throw Error(j(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Zs(n,fn,nr),wn(n,rt()),null}function n0(n,e){var t=Ae;Ae|=1;try{return n(e)}finally{Ae=t,Ae===0&&(cu=rt()+500,Wp&&Gs())}}function pa(n){Ps!==null&&Ps.tag===0&&!(Ae&6)&&sl();var e=Ae;Ae|=1;var t=Zn.transition,i=Le;try{if(Zn.transition=null,Le=1,n)return n()}finally{Le=i,Zn.transition=t,Ae=e,!(Ae&6)&&Gs()}}function i0(){In=Ja.current,Ve(Ja)}function la(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,CC(t)),ut!==null)for(t=ut.return;t!==null;){var i=t;switch(Oy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Kf();break;case 3:lu(),Ve(vn),Ve(qt),Gy();break;case 5:Wy(i);break;case 4:lu();break;case 13:Ve(qe);break;case 19:Ve(qe);break;case 10:By(i.type._context);break;case 22:case 23:i0()}t=t.return}if(bt=n,ut=n=js(n.current,null),Nt=In=e,yt=0,Lc=null,e0=qp=fa=0,fn=cc=null,uo!==null){for(e=0;e<uo.length;e++)if(t=uo[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}uo=null}return n}function JE(n,e){do{var t=ut;try{if(Hy(),of.current=ip,np){for(var i=Ye.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}np=!1}if(da=0,St=mt=Ye=null,lc=!1,Tc=0,Zy.current=null,t===null||t.return===null){yt=1,Lc=e,ut=null;break}e:{var s=n,o=t.return,a=t,u=e;if(e=Nt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Iw(o);if(p!==null){p.flags&=-257,Fw(p,o,a,s,e),p.mode&1&&Dw(s,c,e),e=p,u=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(u),e.updateQueue=y}else g.add(u);break e}else{if(!(e&1)){Dw(s,c,e),r0();break e}u=Error(j(426))}}else if(Ge&&a.mode&1){var S=Iw(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Fw(S,o,a,s,e),jy(uu(u,a));break e}}s=u=uu(u,a),yt!==4&&(yt=2),cc===null?cc=[s]:cc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=FE(s,u,e);kw(s,m);break e;case 1:a=u;var v=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ns===null||!Ns.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=NE(s,a,e);kw(s,x);break e}}s=s.return}while(s!==null)}tS(t)}catch(k){e=k,ut===t&&t!==null&&(ut=t=t.return);continue}break}while(!0)}function ZE(){var n=rp.current;return rp.current=ip,n===null?ip:n}function r0(){(yt===0||yt===3||yt===2)&&(yt=4),bt===null||!(fa&268435455)&&!(qp&268435455)||ss(bt,Nt)}function ap(n,e){var t=Ae;Ae|=2;var i=ZE();(bt!==n||Nt!==e)&&(nr=null,la(n,e));do try{QC();break}catch(r){JE(n,r)}while(!0);if(Hy(),Ae=t,rp.current=i,ut!==null)throw Error(j(261));return bt=null,Nt=0,yt}function QC(){for(;ut!==null;)eS(ut)}function JC(){for(;ut!==null&&!Sx();)eS(ut)}function eS(n){var e=iS(n.alternate,n,In);n.memoizedProps=n.pendingProps,e===null?tS(n):ut=e,Zy.current=null}function tS(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=WC(t,e),t!==null){t.flags&=32767,ut=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{yt=6,ut=null;return}}else if(t=VC(t,e,In),t!==null){ut=t;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=n}while(e!==null);yt===0&&(yt=5)}function Zs(n,e,t){var i=Le,r=Zn.transition;try{Zn.transition=null,Le=1,ZC(n,e,t,i)}finally{Zn.transition=r,Le=i}return null}function ZC(n,e,t,i){do sl();while(Ps!==null);if(Ae&6)throw Error(j(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(j(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Dx(n,s),n===bt&&(ut=bt=null,Nt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Vd||(Vd=!0,rS(Uf,function(){return sl(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Zn.transition,Zn.transition=null;var o=Le;Le=1;var a=Ae;Ae|=4,Zy.current=null,XC(n,t),qE(t,n),wC(xm),Vf=!!bm,xm=bm=null,n.current=t,KC(t),bx(),Ae=a,Le=o,Zn.transition=s}else n.current=t;if(Vd&&(Vd=!1,Ps=n,op=r),s=n.pendingLanes,s===0&&(Ns=null),kx(t.stateNode),wn(n,rt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(sp)throw sp=!1,n=Wm,Wm=null,n;return op&1&&n.tag!==0&&sl(),s=n.pendingLanes,s&1?n===Gm?hc++:(hc=0,Gm=n):hc=0,Gs(),null}function sl(){if(Ps!==null){var n=FA(op),e=Zn.transition,t=Le;try{if(Zn.transition=null,Le=16>n?16:n,Ps===null)var i=!1;else{if(n=Ps,Ps=null,op=0,Ae&6)throw Error(j(331));var r=Ae;for(Ae|=4,$=n.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for($=c;$!==null;){var h=$;switch(h.tag){case 0:case 11:case 15:uc(8,h,s)}var d=h.child;if(d!==null)d.return=h,$=d;else for(;$!==null;){h=$;var f=h.sibling,p=h.return;if(GE(h),h===c){$=null;break}if(f!==null){f.return=p,$=f;break}$=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uc(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,$=m;break e}$=s.return}}var v=n.current;for($=v;$!==null;){o=$;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,$=E;else e:for(o=v;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kp(9,a)}}catch(k){tt(a,a.return,k)}if(a===o){$=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,$=x;break e}$=a.return}}if(Ae=r,Gs(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(Hp,n)}catch{}i=!0}return i}finally{Le=t,Zn.transition=e}}return!1}function Kw(n,e,t){e=uu(t,e),e=FE(n,e,1),n=Fs(n,e,1),e=tn(),n!==null&&(pd(n,1,e),wn(n,e))}function tt(n,e,t){if(n.tag===3)Kw(n,n,t);else for(;e!==null;){if(e.tag===3){Kw(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ns===null||!Ns.has(i))){n=uu(t,n),n=NE(e,n,1),e=Fs(e,n,1),n=tn(),e!==null&&(pd(e,1,n),wn(e,n));break}}e=e.return}}function ek(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=tn(),n.pingedLanes|=n.suspendedLanes&t,bt===n&&(Nt&t)===t&&(yt===4||yt===3&&(Nt&130023424)===Nt&&500>rt()-t0?la(n,0):e0|=t),wn(n,e)}function nS(n,e){e===0&&(n.mode&1?(e=Id,Id<<=1,!(Id&130023424)&&(Id=4194304)):e=1);var t=tn();n=Ur(n,e),n!==null&&(pd(n,e,t),wn(n,t))}function tk(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),nS(n,t)}function nk(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(j(314))}i!==null&&i.delete(e),nS(n,t)}var iS;iS=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||vn.current)pn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return pn=!1,$C(n,e,t);pn=!!(n.flags&131072)}else pn=!1,Ge&&e.flags&1048576&&aE(e,Qf,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;lf(n,e),n=e.pendingProps;var r=su(e,qt.current);rl(e,t),r=Ky(null,e,i,n,r,t);var s=qy();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(i)?(s=!0,qf(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,$y(e),r.updater=Xp,e.stateNode=r,r._reactInternals=e,Im(e,i,n,t),e=Om(null,e,i,!0,s,t)):(e.tag=0,Ge&&s&&Ny(e),Zt(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(lf(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=rk(i),n=ri(i,n),r){case 0:e=Nm(null,e,i,n,t);break e;case 1:e=jw(null,e,i,n,t);break e;case 11:e=Nw(null,e,i,n,t);break e;case 14:e=Ow(null,e,i,ri(i.type,n),t);break e}throw Error(j(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ri(i,r),Nm(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ri(i,r),jw(n,e,i,r,t);case 3:e:{if(HE(e),n===null)throw Error(j(387));i=e.pendingProps,s=e.memoizedState,r=s.element,fE(n,e),ep(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=uu(Error(j(423)),e),e=zw(n,e,i,t,r);break e}else if(i!==r){r=uu(Error(j(424)),e),e=zw(n,e,i,t,r);break e}else for(On=Is(e.stateNode.containerInfo.firstChild),jn=e,Ge=!0,Ai=null,t=hE(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ou(),i===r){e=$r(n,e,t);break e}Zt(n,e,i,t)}e=e.child}return e;case 5:return pE(e),n===null&&Lm(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Cm(i,r)?o=null:s!==null&&Cm(i,s)&&(e.flags|=32),zE(n,e),Zt(n,e,o,t),e.child;case 6:return n===null&&Lm(e),null;case 13:return BE(n,e,t);case 4:return Vy(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=au(e,null,i,t):Zt(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ri(i,r),Nw(n,e,i,r,t);case 7:return Zt(n,e,e.pendingProps,t),e.child;case 8:return Zt(n,e,e.pendingProps.children,t),e.child;case 12:return Zt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Be(Jf,i._currentValue),i._currentValue=o,s!==null)if(bi(s.value,o)){if(s.children===r.children&&!vn.current){e=$r(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=Ir(-1,t&-t),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),Mm(s.return,t,e),a.lanes|=t;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Mm(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zt(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,rl(e,t),r=ei(r),i=i(r),e.flags|=1,Zt(n,e,i,t),e.child;case 14:return i=e.type,r=ri(i,e.pendingProps),r=ri(i.type,r),Ow(n,e,i,r,t);case 15:return OE(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ri(i,r),lf(n,e),e.tag=1,yn(i)?(n=!0,qf(e)):n=!1,rl(e,t),IE(e,i,r),Im(e,i,r,t),Om(null,e,i,!0,n,t);case 19:return UE(n,e,t);case 22:return jE(n,e,t)}throw Error(j(156,e.tag))};function rS(n,e){return LA(n,e)}function ik(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(n,e,t,i){return new ik(n,e,t,i)}function s0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function rk(n){if(typeof n=="function")return s0(n)?1:0;if(n!=null){if(n=n.$$typeof,n===by)return 11;if(n===xy)return 14}return 2}function js(n,e){var t=n.alternate;return t===null?(t=Jn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function hf(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")s0(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ua:return ua(t.children,r,s,e);case Sy:o=8,r|=8;break;case rm:return n=Jn(12,t,e,r|2),n.elementType=rm,n.lanes=s,n;case sm:return n=Jn(13,t,e,r),n.elementType=sm,n.lanes=s,n;case om:return n=Jn(19,t,e,r),n.elementType=om,n.lanes=s,n;case pA:return Yp(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case dA:o=10;break e;case fA:o=9;break e;case by:o=11;break e;case xy:o=14;break e;case ns:o=16,i=null;break e}throw Error(j(130,n==null?n:typeof n,""))}return e=Jn(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function ua(n,e,t,i){return n=Jn(7,n,i,e),n.lanes=t,n}function Yp(n,e,t,i){return n=Jn(22,n,i,e),n.elementType=pA,n.lanes=t,n.stateNode={isHidden:!1},n}function Vg(n,e,t){return n=Jn(6,n,null,e),n.lanes=t,n}function Wg(n,e,t){return e=Jn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function sk(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xg(0),this.expirationTimes=xg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xg(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function o0(n,e,t,i,r,s,o,a,u){return n=new sk(n,e,t,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jn(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},$y(s),n}function ok(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ba,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function sS(n){if(!n)return Hs;n=n._reactInternals;e:{if(Ea(n)!==n||n.tag!==1)throw Error(j(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(n.tag===1){var t=n.type;if(yn(t))return sE(n,t,e)}return e}function oS(n,e,t,i,r,s,o,a,u){return n=o0(t,i,!0,n,r,s,o,a,u),n.context=sS(null),t=n.current,i=tn(),r=Os(t),s=Ir(i,r),s.callback=e??null,Fs(t,s,r),n.current.lanes=r,pd(n,r,i),wn(n,i),n}function Qp(n,e,t,i){var r=e.current,s=tn(),o=Os(r);return t=sS(t),e.context===null?e.context=t:e.pendingContext=t,e=Ir(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Fs(r,e,o),n!==null&&(Si(n,r,o,s),sf(n,r,o)),o}function lp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function qw(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function a0(n,e){qw(n,e),(n=n.alternate)&&qw(n,e)}function ak(){return null}var aS=typeof reportError=="function"?reportError:function(n){console.error(n)};function l0(n){this._internalRoot=n}Jp.prototype.render=l0.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(j(409));Qp(n,e,null,null)};Jp.prototype.unmount=l0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;pa(function(){Qp(null,n,null,null)}),e[Br]=null}};function Jp(n){this._internalRoot=n}Jp.prototype.unstable_scheduleHydration=function(n){if(n){var e=jA();n={blockedOn:null,target:n,priority:e};for(var t=0;t<rs.length&&e!==0&&e<rs[t].priority;t++);rs.splice(t,0,n),t===0&&HA(n)}};function u0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Zp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Yw(){}function lk(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=lp(o);s.call(c)}}var o=oS(e,i,n,0,null,!1,!1,"",Yw);return n._reactRootContainer=o,n[Br]=o.current,Sc(n.nodeType===8?n.parentNode:n),pa(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=lp(u);a.call(c)}}var u=o0(n,0,!1,null,null,!1,!1,"",Yw);return n._reactRootContainer=u,n[Br]=u.current,Sc(n.nodeType===8?n.parentNode:n),pa(function(){Qp(e,u,t,i)}),u}function eg(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var u=lp(o);a.call(u)}}Qp(e,o,n,r)}else o=lk(t,e,n,r,i);return lp(o)}NA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ju(e.pendingLanes);t!==0&&(Ty(e,t|1),wn(e,rt()),!(Ae&6)&&(cu=rt()+500,Gs()))}break;case 13:pa(function(){var i=Ur(n,1);if(i!==null){var r=tn();Si(i,n,1,r)}}),a0(n,1)}};Py=function(n){if(n.tag===13){var e=Ur(n,134217728);if(e!==null){var t=tn();Si(e,n,134217728,t)}a0(n,134217728)}};OA=function(n){if(n.tag===13){var e=Os(n),t=Ur(n,e);if(t!==null){var i=tn();Si(t,n,e,i)}a0(n,e)}};jA=function(){return Le};zA=function(n,e){var t=Le;try{return Le=n,e()}finally{Le=t}};mm=function(n,e,t){switch(e){case"input":if(um(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Vp(i);if(!r)throw Error(j(90));mA(i),um(i,r)}}}break;case"textarea":yA(n,t);break;case"select":e=t.value,e!=null&&el(n,!!t.multiple,e,!1)}};xA=n0;CA=pa;var uk={usingClientEntryPoint:!1,Events:[md,Ga,Vp,SA,bA,n0]},Tu={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ck={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=PA(n),n===null?null:n.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{Hp=Wd.inject(ck),Gi=Wd}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uk;Hn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u0(e))throw Error(j(200));return ok(n,e,null,t)};Hn.createRoot=function(n,e){if(!u0(n))throw Error(j(299));var t=!1,i="",r=aS;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=o0(n,1,!1,null,null,t,!1,i,r),n[Br]=e.current,Sc(n.nodeType===8?n.parentNode:n),new l0(e)};Hn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(j(188)):(n=Object.keys(n).join(","),Error(j(268,n)));return n=PA(e),n=n===null?null:n.stateNode,n};Hn.flushSync=function(n){return pa(n)};Hn.hydrate=function(n,e,t){if(!Zp(e))throw Error(j(200));return eg(null,n,e,!0,t)};Hn.hydrateRoot=function(n,e,t){if(!u0(n))throw Error(j(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=aS;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=oS(e,null,n,1,t??null,r,!1,s,o),n[Br]=e.current,Sc(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Jp(e)};Hn.render=function(n,e,t){if(!Zp(e))throw Error(j(200));return eg(null,n,e,!1,t)};Hn.unmountComponentAtNode=function(n){if(!Zp(n))throw Error(j(40));return n._reactRootContainer?(pa(function(){eg(null,null,n,!1,function(){n._reactRootContainer=null,n[Br]=null})}),!0):!1};Hn.unstable_batchedUpdates=n0;Hn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Zp(t))throw Error(j(200));if(n==null||n._reactInternals===void 0)throw Error(j(38));return eg(n,e,t,!1,i)};Hn.version="18.3.1-next-f1338f8080-20240426";function lS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lS)}catch(n){console.error(n)}}lS(),lA.exports=Hn;var c0=lA.exports;const hk=gy(c0),dk=Y_({__proto__:null,default:hk},[c0]);var Qw=c0;nm.createRoot=Qw.createRoot,nm.hydrateRoot=Qw.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function We(){return We=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},We.apply(this,arguments)}var lt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(lt||(lt={}));const Jw="popstate";function fk(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Mc("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:ga(r)}return gk(e,t,null,n)}function me(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pk(){return Math.random().toString(36).substr(2,8)}function Zw(n,e){return{usr:n.state,key:n.key,idx:e}}function Mc(n,e,t,i){return t===void 0&&(t=null),We({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Xs(e):e,{state:t,key:e&&e.key||i||pk()})}function ga(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Xs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function gk(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=lt.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(We({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=lt.Pop;let S=h(),m=S==null?null:S-c;c=S,u&&u({action:a,location:y.location,delta:m})}function f(S,m){a=lt.Push;let v=Mc(y.location,S,m);c=h()+1;let E=Zw(v,c),x=y.createHref(v);try{o.pushState(E,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(x)}s&&u&&u({action:a,location:y.location,delta:1})}function p(S,m){a=lt.Replace;let v=Mc(y.location,S,m);c=h();let E=Zw(v,c),x=y.createHref(v);o.replaceState(E,"",x),s&&u&&u({action:a,location:y.location,delta:0})}function g(S){let m=r.location.origin!=="null"?r.location.origin:r.location.href,v=typeof S=="string"?S:ga(S);return v=v.replace(/ $/,"%20"),me(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let y={get action(){return a},get location(){return n(r,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Jw,d),u=S,()=>{r.removeEventListener(Jw,d),u=null}},createHref(S){return e(r,S)},createURL:g,encodeLocation(S){let m=g(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(S){return o.go(S)}};return y}var De;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(De||(De={}));const mk=new Set(["lazy","caseSensitive","path","id","index","children"]);function vk(n){return n.index===!0}function up(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((r,s)=>{let o=[...t,String(s)],a=typeof r.id=="string"?r.id:o.join("-");if(me(r.index!==!0||!r.children,"Cannot specify children on an index route"),me(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),vk(r)){let u=We({},r,e(r),{id:a});return i[a]=u,u}else{let u=We({},r,e(r),{id:a,children:void 0});return i[a]=u,r.children&&(u.children=up(r.children,e,o,i)),u}})}function io(n,e,t){return t===void 0&&(t="/"),df(n,e,t,!1)}function df(n,e,t,i){let r=typeof e=="string"?Xs(e):e,s=mu(r.pathname||"/",t);if(s==null)return null;let o=uS(n);wk(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Rk(s);a=Tk(o[u],c,i)}return a}function yk(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function uS(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(me(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let c=Fr([i,u.relativePath]),h=t.concat(u);s.children&&s.children.length>0&&(me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),uS(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Ck(c,s.index),routesMeta:h})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let u of cS(s.path))r(s,o,u)}),e}function cS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=cS(i.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&a.push(...o),a.map(u=>n.startsWith("/")&&u===""?"/":u)}function wk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kk(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const _k=/^:[\w-]+$/,Ak=3,Ek=2,Sk=1,bk=10,xk=-2,e_=n=>n==="*";function Ck(n,e){let t=n.split("/"),i=t.length;return t.some(e_)&&(i+=xk),e&&(i+=Ek),t.filter(r=>!e_(r)).reduce((r,s)=>r+(_k.test(s)?Ak:s===""?Sk:bk),i)}function kk(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Tk(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let u=i[a],c=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=t_({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),f=u.route;if(!d&&c&&t&&!i[i.length-1].route.index&&(d=t_({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Fr([s,d.pathname]),pathnameBase:Dk(Fr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Fr([s,d.pathnameBase]))}return o}function t_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Pk(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,h,d)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function Pk(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),hu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(i.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Rk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hu(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function mu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Lk(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Xs(n):n;return{pathname:t?t.startsWith("/")?t:Mk(t,e):e,search:Ik(i),hash:Fk(r)}}function Mk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Gg(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function h0(n,e){let t=hS(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function d0(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Xs(n):(r=We({},n),me(!r.pathname||!r.pathname.includes("?"),Gg("?","pathname","search",r)),me(!r.pathname||!r.pathname.includes("#"),Gg("#","pathname","hash",r)),me(!r.search||!r.search.includes("#"),Gg("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}a=d>=0?e[d]:"/"}let u=Lk(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Fr=n=>n.join("/").replace(/\/\/+/g,"/"),Dk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ik=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Fk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class cp{constructor(e,t,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function tg(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const dS=["post","put","patch","delete"],Nk=new Set(dS),Ok=["get",...dS],jk=new Set(Ok),zk=new Set([301,302,303,307,308]),Hk=new Set([307,308]),Xg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Pu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},f0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uk=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),fS="remix-router-transitions";function $k(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;me(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(n.mapRouteProperties)r=n.mapRouteProperties;else if(n.detectErrorBoundary){let C=n.detectErrorBoundary;r=T=>({hasErrorBoundary:C(T)})}else r=Uk;let s={},o=up(n.routes,r,void 0,s),a,u=n.basename||"/",c=n.dataStrategy||Xk,h=n.patchRoutesOnNavigation,d=We({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),f=null,p=new Set,g=null,y=null,S=null,m=n.hydrationData!=null,v=io(o,n.history.location,u),E=null;if(v==null&&!h){let C=hn(404,{pathname:n.history.location.pathname}),{matches:T,route:M}=d_(o);v=T,E={[M.id]:C}}v&&!n.hydrationData&&xd(v,o,n.history.location.pathname).active&&(v=null);let x;if(v)if(v.some(C=>C.route.lazy))x=!1;else if(!v.some(C=>C.route.loader))x=!0;else if(d.v7_partialHydration){let C=n.hydrationData?n.hydrationData.loaderData:null,T=n.hydrationData?n.hydrationData.errors:null;if(T){let M=v.findIndex(O=>T[O.route.id]!==void 0);x=v.slice(0,M+1).every(O=>!Ym(O.route,C,T))}else x=v.every(M=>!Ym(M.route,C,T))}else x=n.hydrationData!=null;else if(x=!1,v=[],d.v7_partialHydration){let C=xd(null,o,n.history.location.pathname);C.active&&C.matches&&(v=C.matches)}let k,b={historyAction:n.history.action,location:n.history.location,matches:v,initialized:x,navigation:Xg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||E,fetchers:new Map,blockers:new Map},L=lt.Pop,R=!1,F,N=!1,z=new Map,ie=null,te=!1,q=!1,pe=[],Ee=new Set,U=new Map,D=0,Q=-1,ne=new Map,ue=new Set,ae=new Map,Te=new Map,Ue=new Set,nt=new Map,je=new Map,Se;function an(){if(f=n.history.listen(C=>{let{action:T,location:M,delta:O}=C;if(Se){Se(),Se=void 0;return}hu(je.size===0||O!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let V=j0({currentLocation:b.location,nextLocation:M,historyAction:T});if(V&&O!=null){let J=new Promise(oe=>{Se=oe});n.history.go(O*-1),bd(V,{state:"blocked",location:M,proceed(){bd(V,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),J.then(()=>n.history.go(O))},reset(){let oe=new Map(b.blockers);oe.set(V,Pu),xt({blockers:oe})}});return}return Ct(T,M)}),t){aT(e,z);let C=()=>lT(e,z);e.addEventListener("pagehide",C),ie=()=>e.removeEventListener("pagehide",C)}return b.initialized||Ct(lt.Pop,b.location,{initialHydration:!0}),k}function ka(){f&&f(),ie&&ie(),p.clear(),F&&F.abort(),b.fetchers.forEach((C,T)=>Sd(T)),b.blockers.forEach((C,T)=>O0(T))}function pg(C){return p.add(C),()=>p.delete(C)}function xt(C,T){T===void 0&&(T={}),b=We({},b,C);let M=[],O=[];d.v7_fetcherPersist&&b.fetchers.forEach((V,J)=>{V.state==="idle"&&(Ue.has(J)?O.push(J):M.push(J))}),[...p].forEach(V=>V(b,{deletedFetchers:O,viewTransitionOpts:T.viewTransitionOpts,flushSync:T.flushSync===!0})),d.v7_fetcherPersist&&(M.forEach(V=>b.fetchers.delete(V)),O.forEach(V=>Sd(V)))}function Xr(C,T,M){var O,V;let{flushSync:J}=M===void 0?{}:M,oe=b.actionData!=null&&b.navigation.formMethod!=null&&_i(b.navigation.formMethod)&&b.navigation.state==="loading"&&((O=C.state)==null?void 0:O._isRedirect)!==!0,G;T.actionData?Object.keys(T.actionData).length>0?G=T.actionData:G=null:oe?G=b.actionData:G=null;let K=T.loaderData?c_(b.loaderData,T.loaderData,T.matches||[],T.errors):b.loaderData,W=b.blockers;W.size>0&&(W=new Map(W),W.forEach((we,kt)=>W.set(kt,Pu)));let Z=R===!0||b.navigation.formMethod!=null&&_i(b.navigation.formMethod)&&((V=C.state)==null?void 0:V._isRedirect)!==!0;a&&(o=a,a=void 0),te||L===lt.Pop||(L===lt.Push?n.history.push(C,C.state):L===lt.Replace&&n.history.replace(C,C.state));let ge;if(L===lt.Pop){let we=z.get(b.location.pathname);we&&we.has(C.pathname)?ge={currentLocation:b.location,nextLocation:C}:z.has(C.pathname)&&(ge={currentLocation:C,nextLocation:b.location})}else if(N){let we=z.get(b.location.pathname);we?we.add(C.pathname):(we=new Set([C.pathname]),z.set(b.location.pathname,we)),ge={currentLocation:b.location,nextLocation:C}}xt(We({},T,{actionData:G,loaderData:K,historyAction:L,location:C,initialized:!0,navigation:Xg,revalidation:"idle",restoreScrollPosition:H0(C,T.matches||b.matches),preventScrollReset:Z,blockers:W}),{viewTransitionOpts:ge,flushSync:J===!0}),L=lt.Pop,R=!1,N=!1,te=!1,q=!1,pe=[]}async function wt(C,T){if(typeof C=="number"){n.history.go(C);return}let M=qm(b.location,b.matches,u,d.v7_prependBasename,C,d.v7_relativeSplatPath,T==null?void 0:T.fromRouteId,T==null?void 0:T.relative),{path:O,submission:V,error:J}=n_(d.v7_normalizeFormMethod,!1,M,T),oe=b.location,G=Mc(b.location,O,T&&T.state);G=We({},G,n.history.encodeLocation(G));let K=T&&T.replace!=null?T.replace:void 0,W=lt.Push;K===!0?W=lt.Replace:K===!1||V!=null&&_i(V.formMethod)&&V.formAction===b.location.pathname+b.location.search&&(W=lt.Replace);let Z=T&&"preventScrollReset"in T?T.preventScrollReset===!0:void 0,ge=(T&&T.flushSync)===!0,we=j0({currentLocation:oe,nextLocation:G,historyAction:W});if(we){bd(we,{state:"blocked",location:G,proceed(){bd(we,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),wt(C,T)},reset(){let kt=new Map(b.blockers);kt.set(we,Pu),xt({blockers:kt})}});return}return await Ct(W,G,{submission:V,pendingError:J,preventScrollReset:Z,replace:T&&T.replace,enableViewTransition:T&&T.viewTransition,flushSync:ge})}function An(){if(gg(),xt({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){Ct(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}Ct(L||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:N===!0})}}async function Ct(C,T,M){F&&F.abort(),F=null,L=C,te=(M&&M.startUninterruptedRevalidation)===!0,Mb(b.location,b.matches),R=(M&&M.preventScrollReset)===!0,N=(M&&M.enableViewTransition)===!0;let O=a||o,V=M&&M.overrideNavigation,J=io(O,T,u),oe=(M&&M.flushSync)===!0,G=xd(J,O,T.pathname);if(G.active&&G.matches&&(J=G.matches),!J){let{error:ze,notFoundMatches:Ce,route:Je}=mg(T.pathname);Xr(T,{matches:Ce,loaderData:{},errors:{[Je.id]:ze}},{flushSync:oe});return}if(b.initialized&&!q&&Zk(b.location,T)&&!(M&&M.submission&&_i(M.submission.formMethod))){Xr(T,{matches:J},{flushSync:oe});return}F=new AbortController;let K=Ia(n.history,T,F.signal,M&&M.submission),W;if(M&&M.pendingError)W=[ro(J).route.id,{type:De.error,error:M.pendingError}];else if(M&&M.submission&&_i(M.submission.formMethod)){let ze=await Kr(K,T,M.submission,J,G.active,{replace:M.replace,flushSync:oe});if(ze.shortCircuited)return;if(ze.pendingActionResult){let[Ce,Je]=ze.pendingActionResult;if(Fn(Je)&&tg(Je.error)&&Je.error.status===404){F=null,Xr(T,{matches:ze.matches,loaderData:{},errors:{[Ce]:Je.error}});return}}J=ze.matches||J,W=ze.pendingActionResult,V=Kg(T,M.submission),oe=!1,G.active=!1,K=Ia(n.history,K.url,K.signal)}let{shortCircuited:Z,matches:ge,loaderData:we,errors:kt}=await Ta(K,T,J,G.active,V,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,oe,W);Z||(F=null,Xr(T,We({matches:ge||J},h_(W),{loaderData:we,errors:kt})))}async function Kr(C,T,M,O,V,J){J===void 0&&(J={}),gg();let oe=sT(T,M);if(xt({navigation:oe},{flushSync:J.flushSync===!0}),V){let W=await Cd(O,T.pathname,C.signal);if(W.type==="aborted")return{shortCircuited:!0};if(W.type==="error"){let Z=ro(W.partialMatches).route.id;return{matches:W.partialMatches,pendingActionResult:[Z,{type:De.error,error:W.error}]}}else if(W.matches)O=W.matches;else{let{notFoundMatches:Z,error:ge,route:we}=mg(T.pathname);return{matches:Z,pendingActionResult:[we.id,{type:De.error,error:ge}]}}}let G,K=Hu(O,T);if(!K.route.action&&!K.route.lazy)G={type:De.error,error:hn(405,{method:C.method,pathname:T.pathname,routeId:K.route.id})};else if(G=(await vu("action",b,C,[K],O,null))[K.route.id],C.signal.aborted)return{shortCircuited:!0};if(ho(G)){let W;return J&&J.replace!=null?W=J.replace:W=a_(G.response.headers.get("Location"),new URL(C.url),u)===b.location.pathname+b.location.search,await Ys(C,G,!0,{submission:M,replace:W}),{shortCircuited:!0}}if(Rs(G))throw hn(400,{type:"defer-action"});if(Fn(G)){let W=ro(O,K.route.id);return(J&&J.replace)!==!0&&(L=lt.Push),{matches:O,pendingActionResult:[W.route.id,G]}}return{matches:O,pendingActionResult:[K.route.id,G]}}async function Ta(C,T,M,O,V,J,oe,G,K,W,Z){let ge=V||Kg(T,J),we=J||oe||p_(ge),kt=!te&&(!d.v7_partialHydration||!K);if(O){if(kt){let Ze=Pa(Z);xt(We({navigation:ge},Ze!==void 0?{actionData:Ze}:{}),{flushSync:W})}let be=await Cd(M,T.pathname,C.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let Ze=ro(be.partialMatches).route.id;return{matches:be.partialMatches,loaderData:{},errors:{[Ze]:be.error}}}else if(be.matches)M=be.matches;else{let{error:Ze,notFoundMatches:La,route:_u}=mg(T.pathname);return{matches:La,loaderData:{},errors:{[_u.id]:Ze}}}}let ze=a||o,[Ce,Je]=r_(n.history,b,M,we,T,d.v7_partialHydration&&K===!0,d.v7_skipActionErrorRevalidation,q,pe,Ee,Ue,ae,ue,ze,u,Z);if(vg(be=>!(M&&M.some(Ze=>Ze.route.id===be))||Ce&&Ce.some(Ze=>Ze.route.id===be)),Q=++D,Ce.length===0&&Je.length===0){let be=F0();return Xr(T,We({matches:M,loaderData:{},errors:Z&&Fn(Z[1])?{[Z[0]]:Z[1].error}:null},h_(Z),be?{fetchers:new Map(b.fetchers)}:{}),{flushSync:W}),{shortCircuited:!0}}if(kt){let be={};if(!O){be.navigation=ge;let Ze=Pa(Z);Ze!==void 0&&(be.actionData=Ze)}Je.length>0&&(be.fetchers=xb(Je)),xt(be,{flushSync:W})}Je.forEach(be=>{Yr(be.key),be.controller&&U.set(be.key,be.controller)});let Ra=()=>Je.forEach(be=>Yr(be.key));F&&F.signal.addEventListener("abort",Ra);let{loaderResults:yu,fetcherResults:Ji}=await M0(b,M,Ce,Je,C);if(C.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",Ra),Je.forEach(be=>U.delete(be.key));let xi=Gd(yu);if(xi)return await Ys(C,xi.result,!0,{replace:G}),{shortCircuited:!0};if(xi=Gd(Ji),xi)return ue.add(xi.key),await Ys(C,xi.result,!0,{replace:G}),{shortCircuited:!0};let{loaderData:yg,errors:wu}=u_(b,M,yu,Z,Je,Ji,nt);nt.forEach((be,Ze)=>{be.subscribe(La=>{(La||be.done)&&nt.delete(Ze)})}),d.v7_partialHydration&&K&&b.errors&&(wu=We({},b.errors,wu));let Qs=F0(),kd=N0(Q),Td=Qs||kd||Je.length>0;return We({matches:M,loaderData:yg,errors:wu},Td?{fetchers:new Map(b.fetchers)}:{})}function Pa(C){if(C&&!Fn(C[1]))return{[C[0]]:C[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function xb(C){return C.forEach(T=>{let M=b.fetchers.get(T.key),O=Ru(void 0,M?M.data:void 0);b.fetchers.set(T.key,O)}),new Map(b.fetchers)}function Cb(C,T,M,O){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Yr(C);let V=(O&&O.flushSync)===!0,J=a||o,oe=qm(b.location,b.matches,u,d.v7_prependBasename,M,d.v7_relativeSplatPath,T,O==null?void 0:O.relative),G=io(J,oe,u),K=xd(G,J,oe);if(K.active&&K.matches&&(G=K.matches),!G){Qi(C,T,hn(404,{pathname:oe}),{flushSync:V});return}let{path:W,submission:Z,error:ge}=n_(d.v7_normalizeFormMethod,!0,oe,O);if(ge){Qi(C,T,ge,{flushSync:V});return}let we=Hu(G,W),kt=(O&&O.preventScrollReset)===!0;if(Z&&_i(Z.formMethod)){kb(C,T,W,we,G,K.active,V,kt,Z);return}ae.set(C,{routeId:T,path:W}),Tb(C,T,W,we,G,K.active,V,kt,Z)}async function kb(C,T,M,O,V,J,oe,G,K){gg(),ae.delete(C);function W(ot){if(!ot.route.action&&!ot.route.lazy){let Ma=hn(405,{method:K.formMethod,pathname:M,routeId:T});return Qi(C,T,Ma,{flushSync:oe}),!0}return!1}if(!J&&W(O))return;let Z=b.fetchers.get(C);qr(C,oT(K,Z),{flushSync:oe});let ge=new AbortController,we=Ia(n.history,M,ge.signal,K);if(J){let ot=await Cd(V,M,we.signal);if(ot.type==="aborted")return;if(ot.type==="error"){Qi(C,T,ot.error,{flushSync:oe});return}else if(ot.matches){if(V=ot.matches,O=Hu(V,M),W(O))return}else{Qi(C,T,hn(404,{pathname:M}),{flushSync:oe});return}}U.set(C,ge);let kt=D,Ce=(await vu("action",b,we,[O],V,C))[O.route.id];if(we.signal.aborted){U.get(C)===ge&&U.delete(C);return}if(d.v7_fetcherPersist&&Ue.has(C)){if(ho(Ce)||Fn(Ce)){qr(C,Jr(void 0));return}}else{if(ho(Ce))if(U.delete(C),Q>kt){qr(C,Jr(void 0));return}else return ue.add(C),qr(C,Ru(K)),Ys(we,Ce,!1,{fetcherSubmission:K,preventScrollReset:G});if(Fn(Ce)){Qi(C,T,Ce.error);return}}if(Rs(Ce))throw hn(400,{type:"defer-action"});let Je=b.navigation.location||b.location,Ra=Ia(n.history,Je,ge.signal),yu=a||o,Ji=b.navigation.state!=="idle"?io(yu,b.navigation.location,u):b.matches;me(Ji,"Didn't find any matches after fetcher action");let xi=++D;ne.set(C,xi);let yg=Ru(K,Ce.data);b.fetchers.set(C,yg);let[wu,Qs]=r_(n.history,b,Ji,K,Je,!1,d.v7_skipActionErrorRevalidation,q,pe,Ee,Ue,ae,ue,yu,u,[O.route.id,Ce]);Qs.filter(ot=>ot.key!==C).forEach(ot=>{let Ma=ot.key,B0=b.fetchers.get(Ma),Fb=Ru(void 0,B0?B0.data:void 0);b.fetchers.set(Ma,Fb),Yr(Ma),ot.controller&&U.set(Ma,ot.controller)}),xt({fetchers:new Map(b.fetchers)});let kd=()=>Qs.forEach(ot=>Yr(ot.key));ge.signal.addEventListener("abort",kd);let{loaderResults:Td,fetcherResults:be}=await M0(b,Ji,wu,Qs,Ra);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",kd),ne.delete(C),U.delete(C),Qs.forEach(ot=>U.delete(ot.key));let Ze=Gd(Td);if(Ze)return Ys(Ra,Ze.result,!1,{preventScrollReset:G});if(Ze=Gd(be),Ze)return ue.add(Ze.key),Ys(Ra,Ze.result,!1,{preventScrollReset:G});let{loaderData:La,errors:_u}=u_(b,Ji,Td,void 0,Qs,be,nt);if(b.fetchers.has(C)){let ot=Jr(Ce.data);b.fetchers.set(C,ot)}N0(xi),b.navigation.state==="loading"&&xi>Q?(me(L,"Expected pending action"),F&&F.abort(),Xr(b.navigation.location,{matches:Ji,loaderData:La,errors:_u,fetchers:new Map(b.fetchers)})):(xt({errors:_u,loaderData:c_(b.loaderData,La,Ji,_u),fetchers:new Map(b.fetchers)}),q=!1)}async function Tb(C,T,M,O,V,J,oe,G,K){let W=b.fetchers.get(C);qr(C,Ru(K,W?W.data:void 0),{flushSync:oe});let Z=new AbortController,ge=Ia(n.history,M,Z.signal);if(J){let Ce=await Cd(V,M,ge.signal);if(Ce.type==="aborted")return;if(Ce.type==="error"){Qi(C,T,Ce.error,{flushSync:oe});return}else if(Ce.matches)V=Ce.matches,O=Hu(V,M);else{Qi(C,T,hn(404,{pathname:M}),{flushSync:oe});return}}U.set(C,Z);let we=D,ze=(await vu("loader",b,ge,[O],V,C))[O.route.id];if(Rs(ze)&&(ze=await p0(ze,ge.signal,!0)||ze),U.get(C)===Z&&U.delete(C),!ge.signal.aborted){if(Ue.has(C)){qr(C,Jr(void 0));return}if(ho(ze))if(Q>we){qr(C,Jr(void 0));return}else{ue.add(C),await Ys(ge,ze,!1,{preventScrollReset:G});return}if(Fn(ze)){Qi(C,T,ze.error);return}me(!Rs(ze),"Unhandled fetcher deferred data"),qr(C,Jr(ze.data))}}async function Ys(C,T,M,O){let{submission:V,fetcherSubmission:J,preventScrollReset:oe,replace:G}=O===void 0?{}:O;T.response.headers.has("X-Remix-Revalidate")&&(q=!0);let K=T.response.headers.get("Location");me(K,"Expected a Location header on the redirect Response"),K=a_(K,new URL(C.url),u);let W=Mc(b.location,K,{_isRedirect:!0});if(t){let Ce=!1;if(T.response.headers.has("X-Remix-Reload-Document"))Ce=!0;else if(f0.test(K)){const Je=n.history.createURL(K);Ce=Je.origin!==e.location.origin||mu(Je.pathname,u)==null}if(Ce){G?e.location.replace(K):e.location.assign(K);return}}F=null;let Z=G===!0||T.response.headers.has("X-Remix-Replace")?lt.Replace:lt.Push,{formMethod:ge,formAction:we,formEncType:kt}=b.navigation;!V&&!J&&ge&&we&&kt&&(V=p_(b.navigation));let ze=V||J;if(Hk.has(T.response.status)&&ze&&_i(ze.formMethod))await Ct(Z,W,{submission:We({},ze,{formAction:K}),preventScrollReset:oe||R,enableViewTransition:M?N:void 0});else{let Ce=Kg(W,V);await Ct(Z,W,{overrideNavigation:Ce,fetcherSubmission:J,preventScrollReset:oe||R,enableViewTransition:M?N:void 0})}}async function vu(C,T,M,O,V,J){let oe,G={};try{oe=await Kk(c,C,T,M,O,V,J,s,r)}catch(K){return O.forEach(W=>{G[W.route.id]={type:De.error,error:K}}),G}for(let[K,W]of Object.entries(oe))if(eT(W)){let Z=W.result;G[K]={type:De.redirect,response:Qk(Z,M,K,V,u,d.v7_relativeSplatPath)}}else G[K]=await Yk(W);return G}async function M0(C,T,M,O,V){let J=C.matches,oe=vu("loader",C,V,M,T,null),G=Promise.all(O.map(async Z=>{if(Z.matches&&Z.match&&Z.controller){let we=(await vu("loader",C,Ia(n.history,Z.path,Z.controller.signal),[Z.match],Z.matches,Z.key))[Z.match.route.id];return{[Z.key]:we}}else return Promise.resolve({[Z.key]:{type:De.error,error:hn(404,{pathname:Z.path})}})})),K=await oe,W=(await G).reduce((Z,ge)=>Object.assign(Z,ge),{});return await Promise.all([iT(T,K,V.signal,J,C.loaderData),rT(T,W,O)]),{loaderResults:K,fetcherResults:W}}function gg(){q=!0,pe.push(...vg()),ae.forEach((C,T)=>{U.has(T)&&Ee.add(T),Yr(T)})}function qr(C,T,M){M===void 0&&(M={}),b.fetchers.set(C,T),xt({fetchers:new Map(b.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function Qi(C,T,M,O){O===void 0&&(O={});let V=ro(b.matches,T);Sd(C),xt({errors:{[V.route.id]:M},fetchers:new Map(b.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function D0(C){return d.v7_fetcherPersist&&(Te.set(C,(Te.get(C)||0)+1),Ue.has(C)&&Ue.delete(C)),b.fetchers.get(C)||Bk}function Sd(C){let T=b.fetchers.get(C);U.has(C)&&!(T&&T.state==="loading"&&ne.has(C))&&Yr(C),ae.delete(C),ne.delete(C),ue.delete(C),Ue.delete(C),Ee.delete(C),b.fetchers.delete(C)}function Pb(C){if(d.v7_fetcherPersist){let T=(Te.get(C)||0)-1;T<=0?(Te.delete(C),Ue.add(C)):Te.set(C,T)}else Sd(C);xt({fetchers:new Map(b.fetchers)})}function Yr(C){let T=U.get(C);T&&(T.abort(),U.delete(C))}function I0(C){for(let T of C){let M=D0(T),O=Jr(M.data);b.fetchers.set(T,O)}}function F0(){let C=[],T=!1;for(let M of ue){let O=b.fetchers.get(M);me(O,"Expected fetcher: "+M),O.state==="loading"&&(ue.delete(M),C.push(M),T=!0)}return I0(C),T}function N0(C){let T=[];for(let[M,O]of ne)if(O<C){let V=b.fetchers.get(M);me(V,"Expected fetcher: "+M),V.state==="loading"&&(Yr(M),ne.delete(M),T.push(M))}return I0(T),T.length>0}function Rb(C,T){let M=b.blockers.get(C)||Pu;return je.get(C)!==T&&je.set(C,T),M}function O0(C){b.blockers.delete(C),je.delete(C)}function bd(C,T){let M=b.blockers.get(C)||Pu;me(M.state==="unblocked"&&T.state==="blocked"||M.state==="blocked"&&T.state==="blocked"||M.state==="blocked"&&T.state==="proceeding"||M.state==="blocked"&&T.state==="unblocked"||M.state==="proceeding"&&T.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+T.state);let O=new Map(b.blockers);O.set(C,T),xt({blockers:O})}function j0(C){let{currentLocation:T,nextLocation:M,historyAction:O}=C;if(je.size===0)return;je.size>1&&hu(!1,"A router only supports one blocker at a time");let V=Array.from(je.entries()),[J,oe]=V[V.length-1],G=b.blockers.get(J);if(!(G&&G.state==="proceeding")&&oe({currentLocation:T,nextLocation:M,historyAction:O}))return J}function mg(C){let T=hn(404,{pathname:C}),M=a||o,{matches:O,route:V}=d_(M);return vg(),{notFoundMatches:O,route:V,error:T}}function vg(C){let T=[];return nt.forEach((M,O)=>{(!C||C(O))&&(M.cancel(),T.push(O),nt.delete(O))}),T}function Lb(C,T,M){if(g=C,S=T,y=M||null,!m&&b.navigation===Xg){m=!0;let O=H0(b.location,b.matches);O!=null&&xt({restoreScrollPosition:O})}return()=>{g=null,S=null,y=null}}function z0(C,T){return y&&y(C,T.map(O=>yk(O,b.loaderData)))||C.key}function Mb(C,T){if(g&&S){let M=z0(C,T);g[M]=S()}}function H0(C,T){if(g){let M=z0(C,T),O=g[M];if(typeof O=="number")return O}return null}function xd(C,T,M){if(h)if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:df(T,M,u,!0)}}else return{active:!0,matches:df(T,M,u,!0)||[]};return{active:!1,matches:null}}async function Cd(C,T,M){if(!h)return{type:"success",matches:C};let O=C;for(;;){let V=a==null,J=a||o,oe=s;try{await h({path:T,matches:O,patch:(W,Z)=>{M.aborted||o_(W,Z,J,oe,r)}})}catch(W){return{type:"error",error:W,partialMatches:O}}finally{V&&!M.aborted&&(o=[...o])}if(M.aborted)return{type:"aborted"};let G=io(J,T,u);if(G)return{type:"success",matches:G};let K=df(J,T,u,!0);if(!K||O.length===K.length&&O.every((W,Z)=>W.route.id===K[Z].route.id))return{type:"success",matches:null};O=K}}function Db(C){s={},a=up(C,r,void 0,s)}function Ib(C,T){let M=a==null;o_(C,T,a||o,s,r),M&&(o=[...o],xt({}))}return k={get basename(){return u},get future(){return d},get state(){return b},get routes(){return o},get window(){return e},initialize:an,subscribe:pg,enableScrollRestoration:Lb,navigate:wt,fetch:Cb,revalidate:An,createHref:C=>n.history.createHref(C),encodeLocation:C=>n.history.encodeLocation(C),getFetcher:D0,deleteFetcher:Pb,dispose:ka,getBlocker:Rb,deleteBlocker:O0,patchRoutes:Ib,_internalFetchControllers:U,_internalActiveDeferreds:nt,_internalSetRoutes:Db},k}function Vk(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function qm(n,e,t,i,r,s,o,a){let u,c;if(o){u=[];for(let d of e)if(u.push(d),d.route.id===o){c=d;break}}else u=e,c=e[e.length-1];let h=d0(r||".",h0(u,s),mu(n.pathname,t)||n.pathname,a==="path");if(r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&c){let d=g0(h.search);if(c.route.index&&!d)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(h.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();h.search=g?"?"+g:""}}return i&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Fr([t,h.pathname])),ga(h)}function n_(n,e,t,i){if(!i||!Vk(i))return{path:t};if(i.formMethod&&!nT(i.formMethod))return{path:t,error:hn(405,{method:i.formMethod})};let r=()=>({path:t,error:hn(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=mS(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!_i(o))return r();let f=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((p,g)=>{let[y,S]=g;return""+p+y+"="+S+`
`},""):String(i.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:f}}}else if(i.formEncType==="application/json"){if(!_i(o))return r();try{let f=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}me(typeof FormData=="function","FormData is not available in this environment");let u,c;if(i.formData)u=Qm(i.formData),c=i.formData;else if(i.body instanceof FormData)u=Qm(i.body),c=i.body;else if(i.body instanceof URLSearchParams)u=i.body,c=l_(u);else if(i.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(i.body),c=l_(u)}catch{return r()}let h={formMethod:o,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(_i(h.formMethod))return{path:t,submission:h};let d=Xs(t);return e&&d.search&&g0(d.search)&&u.append("index",""),d.search="?"+u,{path:ga(d),submission:h}}function i_(n,e,t){t===void 0&&(t=!1);let i=n.findIndex(r=>r.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function r_(n,e,t,i,r,s,o,a,u,c,h,d,f,p,g,y){let S=y?Fn(y[1])?y[1].error:y[1].data:void 0,m=n.createURL(e.location),v=n.createURL(r),E=t;s&&e.errors?E=i_(t,Object.keys(e.errors)[0],!0):y&&Fn(y[1])&&(E=i_(t,y[0]));let x=y?y[1].statusCode:void 0,k=o&&x&&x>=400,b=E.filter((R,F)=>{let{route:N}=R;if(N.lazy)return!0;if(N.loader==null)return!1;if(s)return Ym(N,e.loaderData,e.errors);if(Wk(e.loaderData,e.matches[F],R)||u.some(te=>te===R.route.id))return!0;let z=e.matches[F],ie=R;return s_(R,We({currentUrl:m,currentParams:z.params,nextUrl:v,nextParams:ie.params},i,{actionResult:S,actionStatus:x,defaultShouldRevalidate:k?!1:a||m.pathname+m.search===v.pathname+v.search||m.search!==v.search||pS(z,ie)}))}),L=[];return d.forEach((R,F)=>{if(s||!t.some(q=>q.route.id===R.routeId)||h.has(F))return;let N=io(p,R.path,g);if(!N){L.push({key:F,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let z=e.fetchers.get(F),ie=Hu(N,R.path),te=!1;f.has(F)?te=!1:c.has(F)?(c.delete(F),te=!0):z&&z.state!=="idle"&&z.data===void 0?te=a:te=s_(ie,We({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:t[t.length-1].params},i,{actionResult:S,actionStatus:x,defaultShouldRevalidate:k?!1:a})),te&&L.push({key:F,routeId:R.routeId,path:R.path,matches:N,match:ie,controller:new AbortController})}),[b,L]}function Ym(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,r=t!=null&&t[n.id]!==void 0;return!i&&r?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!r}function Wk(n,e,t){let i=!e||t.route.id!==e.route.id,r=n[t.route.id]===void 0;return i||r}function pS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function s_(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function o_(n,e,t,i,r){var s;let o;if(n){let c=i[n];me(c,"No route found to patch children into: routeId = "+n),c.children||(c.children=[]),o=c.children}else o=t;let a=e.filter(c=>!o.some(h=>gS(c,h))),u=up(a,r,[n||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],i);o.push(...u)}function gS(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var r;return(r=e.children)==null?void 0:r.some(s=>gS(t,s))}):!1}async function Gk(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];me(r,"No route found in manifest");let s={};for(let o in i){let u=r[o]!==void 0&&o!=="hasErrorBoundary";hu(!u,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!mk.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,We({},e(r),{lazy:void 0}))}async function Xk(n){let{matches:e}=n,t=e.filter(r=>r.shouldLoad);return(await Promise.all(t.map(r=>r.resolve()))).reduce((r,s,o)=>Object.assign(r,{[t[o].route.id]:s}),{})}async function Kk(n,e,t,i,r,s,o,a,u,c){let h=s.map(p=>p.route.lazy?Gk(p.route,u,a):void 0),d=s.map((p,g)=>{let y=h[g],S=r.some(v=>v.route.id===p.route.id);return We({},p,{shouldLoad:S,resolve:async v=>(v&&i.method==="GET"&&(p.route.lazy||p.route.loader)&&(S=!0),S?qk(e,i,p,y,v,c):Promise.resolve({type:De.data,result:void 0}))})}),f=await n({matches:d,request:i,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(h)}catch{}return f}async function qk(n,e,t,i,r,s){let o,a,u=c=>{let h,d=new Promise((g,y)=>h=y);a=()=>h(),e.signal.addEventListener("abort",a);let f=g=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):c({request:e,params:t.params,context:s},...g!==void 0?[g]:[]),p=(async()=>{try{return{type:"data",result:await(r?r(y=>f(y)):f())}}catch(g){return{type:"error",result:g}}})();return Promise.race([p,d])};try{let c=t.route[n];if(i)if(c){let h,[d]=await Promise.all([u(c).catch(f=>{h=f}),i]);if(h!==void 0)throw h;o=d}else if(await i,c=t.route[n],c)o=await u(c);else if(n==="action"){let h=new URL(e.url),d=h.pathname+h.search;throw hn(405,{method:e.method,pathname:d,routeId:t.route.id})}else return{type:De.data,result:void 0};else if(c)o=await u(c);else{let h=new URL(e.url),d=h.pathname+h.search;throw hn(404,{pathname:d})}me(o.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:De.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Yk(n){let{result:e,type:t}=n;if(vS(e)){let c;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(h){return{type:De.error,error:h}}return t===De.error?{type:De.error,error:new cp(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:De.data,data:c,statusCode:e.status,headers:e.headers}}if(t===De.error){if(f_(e)){var i;if(e.data instanceof Error){var r;return{type:De.error,error:e.data,statusCode:(r=e.init)==null?void 0:r.status}}e=new cp(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:De.error,error:e,statusCode:tg(e)?e.status:void 0}}if(tT(e)){var s,o;return{type:De.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(f_(e)){var a,u;return{type:De.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:De.data,data:e}}function Qk(n,e,t,i,r,s){let o=n.headers.get("Location");if(me(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!f0.test(o)){let a=i.slice(0,i.findIndex(u=>u.route.id===t)+1);o=qm(new URL(e.url),a,r,!0,o,s),n.headers.set("Location",o)}return n}function a_(n,e,t){if(f0.test(n)){let i=n,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=mu(r.pathname,t)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return n}function Ia(n,e,t,i){let r=n.createURL(mS(e)).toString(),s={signal:t};if(i&&_i(i.formMethod)){let{formMethod:o,formEncType:a}=i;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(i.json)):a==="text/plain"?s.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?s.body=Qm(i.formData):s.body=i.formData}return new Request(r,s)}function Qm(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function l_(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function Jk(n,e,t,i,r){let s={},o=null,a,u=!1,c={},h=t&&Fn(t[1])?t[1].error:void 0;return n.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,p=e[f];if(me(!ho(p),"Cannot handle redirect results in processLoaderData"),Fn(p)){let g=p.error;h!==void 0&&(g=h,h=void 0),o=o||{};{let y=ro(n,f);o[y.route.id]==null&&(o[y.route.id]=g)}s[f]=void 0,u||(u=!0,a=tg(p.error)?p.error.status:500),p.headers&&(c[f]=p.headers)}else Rs(p)?(i.set(f,p.deferredData),s[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!u&&(a=p.statusCode),p.headers&&(c[f]=p.headers)):(s[f]=p.data,p.statusCode&&p.statusCode!==200&&!u&&(a=p.statusCode),p.headers&&(c[f]=p.headers))}),h!==void 0&&t&&(o={[t[0]]:h},s[t[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function u_(n,e,t,i,r,s,o){let{loaderData:a,errors:u}=Jk(e,t,i,o);return r.forEach(c=>{let{key:h,match:d,controller:f}=c,p=s[h];if(me(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Fn(p)){let g=ro(n.matches,d==null?void 0:d.route.id);u&&u[g.route.id]||(u=We({},u,{[g.route.id]:p.error})),n.fetchers.delete(h)}else if(ho(p))me(!1,"Unhandled fetcher revalidation redirect");else if(Rs(p))me(!1,"Unhandled fetcher deferred data");else{let g=Jr(p.data);n.fetchers.set(h,g)}}),{loaderData:a,errors:u}}function c_(n,e,t,i){let r=We({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):n[o]!==void 0&&s.route.loader&&(r[o]=n[o]),i&&i.hasOwnProperty(o))break}return r}function h_(n){return n?Fn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ro(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function d_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hn(n,e){let{pathname:t,routeId:i,method:r,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(a="Bad Request",r&&t&&i?u="You made a "+r+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):n===403?(a="Forbidden",u='Route "'+i+'" does not match URL "'+t+'"'):n===404?(a="Not Found",u='No route matches URL "'+t+'"'):n===405&&(a="Method Not Allowed",r&&t&&i?u="You made a "+r.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(u='Invalid request method "'+r.toUpperCase()+'"')),new cp(n||500,a,new Error(u),!0)}function Gd(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,r]=e[t];if(ho(r))return{key:i,result:r}}}function mS(n){let e=typeof n=="string"?Xs(n):n;return ga(We({},e,{hash:""}))}function Zk(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function eT(n){return vS(n.result)&&zk.has(n.result.status)}function Rs(n){return n.type===De.deferred}function Fn(n){return n.type===De.error}function ho(n){return(n&&n.type)===De.redirect}function f_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function tT(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function vS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function nT(n){return jk.has(n.toLowerCase())}function _i(n){return Nk.has(n.toLowerCase())}async function iT(n,e,t,i,r){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,u]=s[o],c=n.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let h=i.find(f=>f.route.id===c.route.id),d=h!=null&&!pS(h,c)&&(r&&r[c.route.id])!==void 0;Rs(u)&&d&&await p0(u,t,!1).then(f=>{f&&(e[a]=f)})}}async function rT(n,e,t){for(let i=0;i<t.length;i++){let{key:r,routeId:s,controller:o}=t[i],a=e[r];n.find(c=>(c==null?void 0:c.route.id)===s)&&Rs(a)&&(me(o,"Expected an AbortController for revalidating fetcher deferred result"),await p0(a,o.signal,!0).then(c=>{c&&(e[r]=c)}))}}async function p0(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:De.data,data:n.deferredData.unwrappedData}}catch(r){return{type:De.error,error:r}}return{type:De.data,data:n.deferredData.data}}}function g0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Hu(n,e){let t=typeof e=="string"?Xs(e).search:e.search;if(n[n.length-1].route.index&&g0(t||""))return n[n.length-1];let i=hS(n);return i[i.length-1]}function p_(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:s,json:o}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:o,text:void 0}}}function Kg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sT(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ru(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oT(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Jr(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function aT(n,e){try{let t=n.sessionStorage.getItem(fS);if(t){let i=JSON.parse(t);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function lT(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem(fS,JSON.stringify(t))}catch(i){hu(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hp.apply(this,arguments)}const ng=I.createContext(null),yS=I.createContext(null),Sa=I.createContext(null),m0=I.createContext(null),Ks=I.createContext({outlet:null,matches:[],isDataRoute:!1}),wS=I.createContext(null);function uT(n,e){let{relative:t}=e===void 0?{}:e;yd()||me(!1);let{basename:i,navigator:r}=I.useContext(Sa),{hash:s,pathname:o,search:a}=AS(n,{relative:t}),u=o;return i!=="/"&&(u=o==="/"?i:Fr([i,o])),r.createHref({pathname:u,search:a,hash:s})}function yd(){return I.useContext(m0)!=null}function ig(){return yd()||me(!1),I.useContext(m0).location}function _S(n){I.useContext(Sa).static||I.useLayoutEffect(n)}function cT(){let{isDataRoute:n}=I.useContext(Ks);return n?bT():hT()}function hT(){yd()||me(!1);let n=I.useContext(ng),{basename:e,future:t,navigator:i}=I.useContext(Sa),{matches:r}=I.useContext(Ks),{pathname:s}=ig(),o=JSON.stringify(h0(r,t.v7_relativeSplatPath)),a=I.useRef(!1);return _S(()=>{a.current=!0}),I.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=d0(c,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Fr([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,o,s,n])}const dT=I.createContext(null);function fT(n){let e=I.useContext(Ks).outlet;return e&&I.createElement(dT.Provider,{value:n},e)}function AS(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=I.useContext(Sa),{matches:r}=I.useContext(Ks),{pathname:s}=ig(),o=JSON.stringify(h0(r,i.v7_relativeSplatPath));return I.useMemo(()=>d0(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function pT(n,e,t,i){yd()||me(!1);let{navigator:r}=I.useContext(Sa),{matches:s}=I.useContext(Ks),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ig(),h;h=c;let d=h.pathname||"/",f=d;if(u!=="/"){let y=u.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=io(n,{pathname:f});return wT(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Fr([u,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Fr([u,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,i)}function gT(){let n=ST(),e=tg(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:r},t):null,null)}const mT=I.createElement(gT,null);class vT extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(Ks.Provider,{value:this.props.routeContext},I.createElement(wS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yT(n){let{routeContext:e,match:t,children:i}=n,r=I.useContext(ng);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(Ks.Provider,{value:e},i)}function wT(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||me(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(t&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:p}=t,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let p,g=!1,y=null,S=null;t&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||mT,u&&(c<0&&f===0?(xT("route-fallback"),g=!0,S=null):c===f&&(g=!0,S=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),v=()=>{let E;return p?E=y:g?E=S:d.route.Component?E=I.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=h,I.createElement(yT,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:t!=null},children:E})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?I.createElement(vT,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var ES=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(ES||{}),dp=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(dp||{});function _T(n){let e=I.useContext(ng);return e||me(!1),e}function AT(n){let e=I.useContext(yS);return e||me(!1),e}function ET(n){let e=I.useContext(Ks);return e||me(!1),e}function SS(n){let e=ET(),t=e.matches[e.matches.length-1];return t.route.id||me(!1),t.route.id}function ST(){var n;let e=I.useContext(wS),t=AT(dp.UseRouteError),i=SS(dp.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function bT(){let{router:n}=_T(ES.UseNavigateStable),e=SS(dp.UseNavigateStable),t=I.useRef(!1);return _S(()=>{t.current=!0}),I.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,hp({fromRouteId:e},s)))},[n,e])}const g_={};function xT(n,e,t){g_[n]||(g_[n]=!0)}function CT(n){return fT(n.context)}function kT(n){let{basename:e="/",children:t=null,location:i,navigationType:r=lt.Pop,navigator:s,static:o=!1,future:a}=n;yd()&&me(!1);let u=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:u,navigator:s,static:o,future:hp({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof i=="string"&&(i=Xs(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:g="default"}=i,y=I.useMemo(()=>{let S=mu(h,u);return S==null?null:{location:{pathname:S,search:d,hash:f,state:p,key:g},navigationType:r}},[u,h,d,f,p,g,r]);return y==null?null:I.createElement(Sa.Provider,{value:c},I.createElement(m0.Provider,{children:t,value:y}))}new Promise(()=>{});function TT(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:I.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:I.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:I.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dc.apply(this,arguments)}function PT(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function RT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function LT(n,e){return n.button===0&&(!e||e==="_self")&&!RT(n)}const MT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DT="6";try{window.__reactRouterVersion=DT}catch{}function IT(n,e){return $k({basename:void 0,future:Dc({},void 0,{v7_prependBasename:!0}),history:fk({window:void 0}),hydrationData:FT(),routes:n,mapRouteProperties:TT,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function FT(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Dc({},e,{errors:NT(e.errors)})),e}function NT(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new cp(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",t[i]=o}catch{}}if(t[i]==null){let s=new Error(r.message);s.stack="",t[i]=s}}else t[i]=r;return t}const OT=I.createContext({isTransitioning:!1}),jT=I.createContext(new Map),zT="startTransition",m_=ex[zT],HT="flushSync",v_=dk[HT];function BT(n){m_?m_(n):n()}function Lu(n){v_?v_(n):n()}class UT{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}}function $T(n){let{fallbackElement:e,router:t,future:i}=n,[r,s]=I.useState(t.state),[o,a]=I.useState(),[u,c]=I.useState({isTransitioning:!1}),[h,d]=I.useState(),[f,p]=I.useState(),[g,y]=I.useState(),S=I.useRef(new Map),{v7_startTransition:m}=i||{},v=I.useCallback(R=>{m?BT(R):R()},[m]),E=I.useCallback((R,F)=>{let{deletedFetchers:N,flushSync:z,viewTransitionOpts:ie}=F;N.forEach(q=>S.current.delete(q)),R.fetchers.forEach((q,pe)=>{q.data!==void 0&&S.current.set(pe,q.data)});let te=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!ie||te){z?Lu(()=>s(R)):v(()=>s(R));return}if(z){Lu(()=>{f&&(h&&h.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})});let q=t.window.document.startViewTransition(()=>{Lu(()=>s(R))});q.finished.finally(()=>{Lu(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),Lu(()=>p(q));return}f?(h&&h.resolve(),f.skipTransition(),y({state:R,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})):(a(R),c({isTransitioning:!0,flushSync:!1,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation}))},[t.window,f,h,S,v]);I.useLayoutEffect(()=>t.subscribe(E),[t,E]),I.useEffect(()=>{u.isTransitioning&&!u.flushSync&&d(new UT)},[u]),I.useEffect(()=>{if(h&&o&&t.window){let R=o,F=h.promise,N=t.window.document.startViewTransition(async()=>{v(()=>s(R)),await F});N.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(N)}},[v,o,h,t.window]),I.useEffect(()=>{h&&o&&r.location.key===o.location.key&&h.resolve()},[h,f,r.location,o]),I.useEffect(()=>{!u.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[u.isTransitioning,g]),I.useEffect(()=>{},[]);let x=I.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:R=>t.navigate(R),push:(R,F,N)=>t.navigate(R,{state:F,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(R,F,N)=>t.navigate(R,{replace:!0,state:F,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[t]),k=t.basename||"/",b=I.useMemo(()=>({router:t,navigator:x,static:!1,basename:k}),[t,x,k]),L=I.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return I.createElement(I.Fragment,null,I.createElement(ng.Provider,{value:b},I.createElement(yS.Provider,{value:r},I.createElement(jT.Provider,{value:S.current},I.createElement(OT.Provider,{value:u},I.createElement(kT,{basename:k,location:r.location,navigationType:r.historyAction,navigator:x,future:L},r.initialized||t.future.v7_partialHydration?I.createElement(VT,{routes:t.routes,future:t.future,state:r}):e))))),null)}const VT=I.memo(WT);function WT(n){let{routes:e,future:t,state:i}=n;return pT(e,void 0,i,t)}const GT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mu=I.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:d}=e,f=PT(e,MT),{basename:p}=I.useContext(Sa),g,y=!1;if(typeof c=="string"&&XT.test(c)&&(g=c,GT))try{let E=new URL(window.location.href),x=c.startsWith("//")?new URL(E.protocol+c):new URL(c),k=mu(x.pathname,p);x.origin===E.origin&&k!=null?c=k+x.search+x.hash:y=!0}catch{}let S=uT(c,{relative:r}),m=KT(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:r,viewTransition:d});function v(E){i&&i(E),E.defaultPrevented||m(E)}return I.createElement("a",Dc({},f,{href:g||S,onClick:y||s?i:v,ref:t,target:u}))});var y_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(y_||(y_={}));var w_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(w_||(w_={}));function KT(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=cT(),c=ig(),h=AS(n,{relative:o});return I.useCallback(d=>{if(LT(d,t)){d.preventDefault();let f=i!==void 0?i:ga(c)===ga(h);u(n,{replace:f,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,h,i,r,t,n,s,o,a])}function qT(){return P.jsxs(P.Fragment,{children:[P.jsx("h2",{children:" ( Page en construction )"}),P.jsxs("form",{children:[P.jsx("label",{children:"Name"})," ",P.jsx("br",{}),P.jsx("input",{type:"text",id:"name",name:"name",required:!0,placeholder:"Entrez votre Prnom"}),P.jsx("br",{}),P.jsx("label",{children:"LastName"})," ",P.jsx("br",{}),P.jsx("input",{type:"text",id:"name",name:"name",required:!0,placeholder:"Entrez votre nom"}),P.jsx("br",{}),P.jsx("label",{children:"Entreprise"})," ",P.jsx("br",{}),P.jsx("input",{type:"text",id:"name",name:"name",required:!0,placeholder:"Entrez votre Entreprise"}),P.jsx("br",{}),P.jsx("label",{children:"Email"}),P.jsx("br",{}),P.jsx("input",{type:"email",id:"email",name:"email",required:!0,placeholder:"Entrez votre email"}),P.jsx("br",{}),P.jsx("label",{children:" Message "}),P.jsx("br",{}),P.jsx("textarea",{id:"message",name:"message",required:!0,maxLength:500,placeholder:"Entrez votre texte",children:" "}),P.jsx("br",{}),P.jsx("input",{className:"cardButton",type:"submit"})]})]})}const YT="modulepreload",QT=function(n){return"/"+n},__={},Xd=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(t.map(u=>{if(u=QT(u),u in __)return;__[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":YT,c||(d.as="script"),d.crossOrigin="",d.href=u,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var dc={};dc.d=(n,e)=>{for(var t in e)dc.o(e,t)&&!dc.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};dc.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var re=globalThis.pdfjsLib={};dc.d(re,{AbortException:()=>xa,AnnotationEditorLayer:()=>ay,AnnotationEditorParamsType:()=>se,AnnotationEditorType:()=>ye,AnnotationEditorUIManager:()=>va,AnnotationLayer:()=>qR,AnnotationMode:()=>os,CMapCompressionType:()=>Zm,ColorPicker:()=>yp,DOMSVGFactory:()=>w0,DrawLayer:()=>hy,FeatureTest:()=>gn,GlobalWorkerOptions:()=>Nr,ImageKind:()=>ff,InvalidPDFException:()=>xS,MissingPDFException:()=>ba,OPS:()=>si,Outliner:()=>Uv,PDFDataRangeTransport:()=>_1,PDFDateString:()=>MS,PDFWorker:()=>al,PasswordResponses:()=>tP,PermissionFlag:()=>eP,PixelsPerInch:()=>Bs,RenderingCancelledException:()=>_0,TextLayer:()=>du,UnexpectedResponseException:()=>ag,Util:()=>Y,VerbosityLevel:()=>rg,XfaLayer:()=>E1,build:()=>PR,createValidAbsoluteUrl:()=>sP,fetchData:()=>dg,getDocument:()=>_R,getFilenameFromUrl:()=>gP,getPdfFilenameFromUrl:()=>mP,getXfaPageViewport:()=>vP,isDataScheme:()=>A0,isPdfFile:()=>E0,noContextMenu:()=>_n,normalizeUnicode:()=>hP,renderTextLayer:()=>hR,setLayerDimensions:()=>ma,shadow:()=>_e,updateTextLayer:()=>dR,version:()=>TR});const Kt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),bS=[1,0,0,1,0,0],Jm=[.001,0,0,.001,0,0],JT=1e7,qg=1.35,Xn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},os={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ZT="pdfjs_internal_editor_",ye={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},se={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},eP={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Bt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ff={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ht={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Du={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},rg={ERRORS:0,WARNINGS:1,INFOS:5},Zm={NONE:0,BINARY:1},si={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},tP={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let sg=rg.WARNINGS;function nP(n){Number.isInteger(n)&&(sg=n)}function iP(){return sg}function og(n){sg>=rg.INFOS&&console.log(`Info: ${n}`)}function ce(n){sg>=rg.WARNINGS&&console.log(`Warning: ${n}`)}function Ie(n){throw new Error(n)}function vt(n,e){n||Ie(e)}function rP(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function sP(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=cP(n)}catch{}}const i=e?new URL(n,e):new URL(n);if(rP(i))return i}catch{}return null}function _e(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const qs=function(){function e(t,i){this.constructor===e&&Ie("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class ev extends qs{constructor(e,t){super(e,"PasswordException"),this.code=t}}class tv extends qs{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class xS extends qs{constructor(e){super(e,"InvalidPDFException")}}class ba extends qs{constructor(e){super(e,"MissingPDFException")}}class ag extends qs{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class oP extends qs{constructor(e){super(e,"FormatError")}}class xa extends qs{constructor(e){super(e,"AbortException")}}function CS(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ie("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function lg(n){typeof n!="string"&&Ie("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function aP(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function v0(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}function lP(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function uP(){try{return new Function(""),!0}catch{return!1}}class gn{static get isLittleEndian(){return _e(this,"isLittleEndian",lP())}static get isEvalSupported(){return _e(this,"isEvalSupported",uP())}static get isOffscreenCanvasSupported(){return _e(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?_e(this,"platform",{isMac:navigator.platform.includes("Mac")}):_e(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return _e(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Yg=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var jr,pf,nv;class Y{static makeHexColor(e,t,i){return`#${Yg[e]}${Yg[t]}${Yg[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[i,r]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,u=Math.sqrt((i+o)**2-4*(i*o-s*r))/2,c=a+u||1,h=a-u||1;return[Math.sqrt(c),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static bezierBoundingBox(e,t,i,r,s,o,a,u,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,u),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,u)):c=[Math.min(e,a),Math.min(t,u),Math.max(e,a),Math.max(t,u)],_(this,jr,nv).call(this,e,i,s,a,t,r,o,u,3*(-e+3*(i-s)+a),6*(e-2*i+s),3*(i-e),c),_(this,jr,nv).call(this,e,i,s,a,t,r,o,u,3*(-t+3*(r-o)+u),6*(t-2*r+o),3*(r-t),c),c}}jr=new WeakSet,pf=function(e,t,i,r,s,o,a,u,c,h){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,g=d*(d*(d*e+3*c*t)+3*f*i)+p*r,y=d*(d*(d*s+3*c*o)+3*f*a)+p*u;h[0]=Math.min(h[0],g),h[1]=Math.min(h[1],y),h[2]=Math.max(h[2],g),h[3]=Math.max(h[3],y)},nv=function(e,t,i,r,s,o,a,u,c,h,d,f){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&_(this,jr,pf).call(this,e,t,i,r,s,o,a,u,-d/h,f);return}const p=h**2-4*d*c;if(p<0)return;const g=Math.sqrt(p),y=2*c;_(this,jr,pf).call(this,e,t,i,r,s,o,a,u,(-h+g)/y,f),_(this,jr,pf).call(this,e,t,i,r,s,o,a,u,(-h-g)/y,f)},A(Y,jr);function cP(n){return decodeURIComponent(escape(n))}let Qg=null,A_=null;function hP(n){return Qg||(Qg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,A_=new Map([["","t"]])),n.replaceAll(Qg,(e,t,i)=>t?t.normalize("NFKC"):A_.get(i))}function dP(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return CS(n)}const kS="pdfjs_internal_id_",Zi={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class ug{constructor(){this.constructor===ug&&Ie("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var Fc;const T0=class T0{constructor({enableHWA:e=!1}={}){A(this,Fc,!1);this.constructor===T0&&Ie("Cannot initialize BaseCanvasFactory."),w(this,Fc,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!l(this,Fc)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ie("Abstract method `_createCanvas` called.")}};Fc=new WeakMap;let fp=T0;class cg{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===cg&&Ie("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?Zm.BINARY:Zm.NONE;return this._fetchData(t,i).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Ie("Abstract method `_fetchData` called.")}}class hg{constructor({baseUrl:e=null}){this.constructor===hg&&Ie("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Ie("Abstract method `_fetchData` called.")}}class y0{constructor(){this.constructor===y0&&Ie("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ie("Abstract method `_createSVG` called.")}}const tr="http://www.w3.org/2000/svg",oo=class oo{};le(oo,"CSS",96),le(oo,"PDF",72),le(oo,"PDF_TO_CSS_UNITS",oo.CSS/oo.PDF);let Bs=oo;var fo,Pi,lr,un,_p,po,X,Ut,Fa,Na,gf,TS,iv,Oa,Bu,Uu,rv,$u;class fP extends ug{constructor({docId:t,ownerDocument:i=globalThis.document}={}){super();A(this,X);A(this,fo);A(this,Pi);A(this,lr);A(this,un);A(this,_p);A(this,po,0);w(this,lr,t),w(this,un,i)}addFilter(t){if(!t)return"none";let i=l(this,X,Ut).get(t);if(i)return i;const[r,s,o]=_(this,X,gf).call(this,t),a=t.length===1?r:`${r}${s}${o}`;if(i=l(this,X,Ut).get(a),i)return l(this,X,Ut).set(t,i),i;const u=`g_${l(this,lr)}_transfer_map_${En(this,po)._++}`,c=`url(#${u})`;l(this,X,Ut).set(t,c),l(this,X,Ut).set(a,c);const h=_(this,X,Oa).call(this,u);return _(this,X,Uu).call(this,r,s,o,h),c}addHCMFilter(t,i){var g;const r=`${t}-${i}`,s="base";let o=l(this,X,Fa).get(s);if((o==null?void 0:o.key)===r||(o?((g=o.filter)==null||g.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},l(this,X,Fa).set(s,o)),!t||!i))return o.url;const a=_(this,X,$u).call(this,t);t=Y.makeHexColor(...a);const u=_(this,X,$u).call(this,i);if(i=Y.makeHexColor(...u),l(this,X,Na).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const c=new Array(256);for(let y=0;y<=255;y++){const S=y/255;c[y]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const h=c.join(","),d=`g_${l(this,lr)}_hcm_filter`,f=o.filter=_(this,X,Oa).call(this,d);_(this,X,Uu).call(this,h,h,h,f),_(this,X,iv).call(this,f);const p=(y,S)=>{const m=a[y]/255,v=u[y]/255,E=new Array(S+1);for(let x=0;x<=S;x++)E[x]=m+x/S*(v-m);return E.join(",")};return _(this,X,Uu).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${d})`,o.url}addAlphaFilter(t){let i=l(this,X,Ut).get(t);if(i)return i;const[r]=_(this,X,gf).call(this,[t]),s=`alpha_${r}`;if(i=l(this,X,Ut).get(s),i)return l(this,X,Ut).set(t,i),i;const o=`g_${l(this,lr)}_alpha_map_${En(this,po)._++}`,a=`url(#${o})`;l(this,X,Ut).set(t,a),l(this,X,Ut).set(s,a);const u=_(this,X,Oa).call(this,o);return _(this,X,rv).call(this,r,u),a}addLuminosityFilter(t){let i=l(this,X,Ut).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=_(this,X,gf).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=l(this,X,Ut).get(s),i)return l(this,X,Ut).set(t,i),i;const o=`g_${l(this,lr)}_luminosity_map_${En(this,po)._++}`,a=`url(#${o})`;l(this,X,Ut).set(t,a),l(this,X,Ut).set(s,a);const u=_(this,X,Oa).call(this,o);return _(this,X,TS).call(this,u),t&&_(this,X,rv).call(this,r,u),a}addHighlightHCMFilter(t,i,r,s,o){var v;const a=`${i}-${r}-${s}-${o}`;let u=l(this,X,Fa).get(t);if((u==null?void 0:u.key)===a||(u?((v=u.filter)==null||v.remove(),u.key=a,u.url="none",u.filter=null):(u={key:a,url:"none",filter:null},l(this,X,Fa).set(t,u)),!i||!r))return u.url;const[c,h]=[i,r].map(_(this,X,$u).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,g]=[s,o].map(_(this,X,$u).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),l(this,X,Na).style.color="";const y=(E,x,k)=>{const b=new Array(256),L=(f-d)/k,R=E/255,F=(x-E)/(255*k);let N=0;for(let z=0;z<=k;z++){const ie=Math.round(d+z*L),te=R+z*F;for(let q=N;q<=ie;q++)b[q]=te;N=ie+1}for(let z=N;z<256;z++)b[z]=b[N-1];return b.join(",")},S=`g_${l(this,lr)}_hcm_${t}_filter`,m=u.filter=_(this,X,Oa).call(this,S);return _(this,X,iv).call(this,m),_(this,X,Uu).call(this,y(p[0],g[0],5),y(p[1],g[1],5),y(p[2],g[2],5),m),u.url=`url(#${S})`,u.url}destroy(t=!1){t&&l(this,X,Fa).size!==0||(l(this,Pi)&&(l(this,Pi).parentNode.parentNode.remove(),w(this,Pi,null)),l(this,fo)&&(l(this,fo).clear(),w(this,fo,null)),w(this,po,0))}}fo=new WeakMap,Pi=new WeakMap,lr=new WeakMap,un=new WeakMap,_p=new WeakMap,po=new WeakMap,X=new WeakSet,Ut=function(){return l(this,fo)||w(this,fo,new Map)},Fa=function(){return l(this,_p)||w(this,_p,new Map)},Na=function(){if(!l(this,Pi)){const t=l(this,un).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=l(this,un).createElementNS(tr,"svg");r.setAttribute("width",0),r.setAttribute("height",0),w(this,Pi,l(this,un).createElementNS(tr,"defs")),t.append(r),r.append(l(this,Pi)),l(this,un).body.append(t)}return l(this,Pi)},gf=function(t){if(t.length===1){const c=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=c[f]/255;const d=h.join(",");return[d,d,d]}const[i,r,s]=t,o=new Array(256),a=new Array(256),u=new Array(256);for(let c=0;c<256;c++)o[c]=i[c]/255,a[c]=r[c]/255,u[c]=s[c]/255;return[o.join(","),a.join(","),u.join(",")]},TS=function(t){const i=l(this,un).createElementNS(tr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},iv=function(t){const i=l(this,un).createElementNS(tr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Oa=function(t){const i=l(this,un).createElementNS(tr,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),l(this,X,Na).append(i),i},Bu=function(t,i,r){const s=l(this,un).createElementNS(tr,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},Uu=function(t,i,r,s){const o=l(this,un).createElementNS(tr,"feComponentTransfer");s.append(o),_(this,X,Bu).call(this,o,"feFuncR",t),_(this,X,Bu).call(this,o,"feFuncG",i),_(this,X,Bu).call(this,o,"feFuncB",r)},rv=function(t,i){const r=l(this,un).createElementNS(tr,"feComponentTransfer");i.append(r),_(this,X,Bu).call(this,r,"feFuncA",t)},$u=function(t){return l(this,X,Na).style.color=t,S0(getComputedStyle(l(this,X,Na)).getPropertyValue("color"))};class pP extends fp{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}async function dg(n,e="text"){if(Vu(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class PS extends cg{_fetchData(e,t){return dg(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):lg(i),compressionType:t}))}}class RS extends hg{_fetchData(e){return dg(e,"arraybuffer").then(t=>new Uint8Array(t))}}class w0 extends y0{_createSVG(e){return document.createElementNS(tr,e)}}class wd{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=s;const a=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let c,h,d,f;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,h=0,d=0,f=1;break;case 90:c=0,h=1,d=1,f=0;break;case 270:c=0,h=-1,d=-1,f=0;break;case 0:c=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f);let p,g,y,S;c===0?(p=Math.abs(u-e[1])*t+r,g=Math.abs(a-e[0])*t+s,y=(e[3]-e[1])*t,S=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+r,g=Math.abs(u-e[1])*t+s,y=(e[2]-e[0])*t,S=(e[3]-e[1])*t),this.transform=[c*t,h*t,d*t,f*t,p-c*t*a-d*t*u,g-h*t*a-f*t*u],this.width=y,this.height=S}get rawDims(){const{viewBox:e}=this;return _e(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new wd({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return Y.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Y.applyTransform([e[0],e[1]],this.transform),i=Y.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return Y.applyInverseTransform([e,t],this.transform)}}class _0 extends qs{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function A0(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function E0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function gP(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function mP(n,e="document.pdf"){if(typeof n!="string")return e;if(A0(n))return ce('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class E_{constructor(){le(this,"started",Object.create(null));le(this,"times",[])}time(e){e in this.started&&ce(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ce(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Vu(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function _n(n){n.preventDefault()}function LS(n){console.log("Deprecated API usage: "+n)}let S_;class MS{static toDateObject(e){if(!e||typeof e!="string")return null;S_||(S_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=S_.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const c=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=h,a+=d):c==="+"&&(o-=h,a-=d),new Date(Date.UTC(i,r,s,o,a,u))}}function vP(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new wd({viewBox:s,scale:e,rotation:t})}function S0(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ce(`Not a valid color format: "${n}"`),[0,0,0])}function yP(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,S0(i))}e.remove()}function Ke(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function er(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function ma(n,e,t=!1,i=!0){if(e instanceof wd){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,a=gn.isCSSRoundSupported,u=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,h=a?`round(${u}, 1px)`:`calc(${u})`,d=a?`round(${c}, 1px)`:`calc(${c})`;!t||e.rotation%180===0?(o.width=h,o.height=d):(o.width=d,o.height=h)}i&&n.setAttribute("data-main-rotation",e.rotation)}var go,mo,Cn,vo,Ap,DS,nn,IS,FS,mf,NS,ov;const Ep=class Ep{constructor(e){A(this,nn);A(this,go,null);A(this,mo,null);A(this,Cn);A(this,vo,null);w(this,Cn,e)}render(){const e=w(this,go,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=l(this,Cn)._uiManager._signal;e.addEventListener("contextmenu",_n,{signal:t}),e.addEventListener("pointerdown",_(Ep,Ap,DS),{signal:t});const i=w(this,vo,document.createElement("div"));i.className="buttons",e.append(i);const r=l(this,Cn).toolbarPosition;if(r){const{style:s}=e,o=l(this,Cn)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,nn,NS).call(this),e}hide(){var e;l(this,go).classList.add("hidden"),(e=l(this,mo))==null||e.hideDropdown()}show(){l(this,go).classList.remove("hidden")}addAltTextButton(e){_(this,nn,mf).call(this,e),l(this,vo).prepend(e,l(this,nn,ov))}addColorPicker(e){w(this,mo,e);const t=e.renderButton();_(this,nn,mf).call(this,t),l(this,vo).prepend(t,l(this,nn,ov))}remove(){var e;l(this,go).remove(),(e=l(this,mo))==null||e.destroy(),w(this,mo,null)}};go=new WeakMap,mo=new WeakMap,Cn=new WeakMap,vo=new WeakMap,Ap=new WeakSet,DS=function(e){e.stopPropagation()},nn=new WeakSet,IS=function(e){l(this,Cn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},FS=function(e){l(this,Cn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},mf=function(e){const t=l(this,Cn)._uiManager._signal;e.addEventListener("focusin",_(this,nn,IS).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",_(this,nn,FS).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",_n,{signal:t})},NS=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${l(this,Cn).editorType}-button`),_(this,nn,mf).call(this,e),e.addEventListener("click",t=>{l(this,Cn)._uiManager.delete()},{signal:l(this,Cn)._uiManager._signal}),l(this,vo).append(e)},ov=function(){const e=document.createElement("div");return e.className="divider",e},A(Ep,Ap);let sv=Ep;var Nc,yo,wo,Us,OS,jS,zS;class wP{constructor(e){A(this,Us);A(this,Nc,null);A(this,yo,null);A(this,wo);w(this,wo,e)}show(e,t,i){const[r,s]=_(this,Us,jS).call(this,t,i),{style:o}=l(this,yo)||w(this,yo,_(this,Us,OS).call(this));e.append(l(this,yo)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,yo).remove()}}Nc=new WeakMap,yo=new WeakMap,wo=new WeakMap,Us=new WeakSet,OS=function(){const e=w(this,yo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",_n,{signal:l(this,wo)._signal});const t=w(this,Nc,document.createElement("div"));return t.className="buttons",e.append(t),_(this,Us,zS).call(this),e},jS=function(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const a=s.x+(t?s.width:0);if(o>i){r=a,i=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,i]},zS=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=l(this,wo)._signal;e.addEventListener("contextmenu",_n,{signal:i}),e.addEventListener("click",()=>{l(this,wo).highlightSelection("floating_button")},{signal:i}),l(this,Nc).append(e)};function pp(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}function _P(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Sp;class AP{constructor(){A(this,Sp,0)}get id(){return`${ZT}${En(this,Sp)._++}`}}Sp=new WeakMap;var Oc,bp,$n,jc,lv;const P0=class P0{constructor(){A(this,jc);A(this,Oc,dP());A(this,bp,0);A(this,$n,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return _e(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return _(this,jc,lv).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return _(this,jc,lv).call(this,e,e)}async getFromId(e){l(this,$n)||w(this,$n,new Map);const t=l(this,$n).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=l(this,$n).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){l(this,$n)||w(this,$n,new Map);const t=l(this,$n).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${l(this,Oc)}_`)}};Oc=new WeakMap,bp=new WeakMap,$n=new WeakMap,jc=new WeakSet,lv=async function(e,t){l(this,$n)||w(this,$n,new Map);let i=l(this,$n).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${l(this,Oc)}_${En(this,bp)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await dg(t,"blob")):r=i.file=t,r.type==="image/svg+xml"){const s=P0._isSVGFittingCanvas,o=new FileReader,a=new Image,u=new Promise((c,h)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,c()},o.onload=async()=>{const d=i.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=h});o.readAsDataURL(r),await u}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return l(this,$n).set(e,i),i&&l(this,$n).set(i.id,i),i};let av=P0;var At,as,zc,Et;class EP{constructor(e=128){A(this,At,[]);A(this,as,!1);A(this,zc);A(this,Et,-1);w(this,zc,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),l(this,as))return;const u={cmd:e,undo:t,post:i,type:s};if(l(this,Et)===-1){l(this,At).length>0&&(l(this,At).length=0),w(this,Et,0),l(this,At).push(u);return}if(o&&l(this,At)[l(this,Et)].type===s){a&&(u.undo=l(this,At)[l(this,Et)].undo),l(this,At)[l(this,Et)]=u;return}const c=l(this,Et)+1;c===l(this,zc)?l(this,At).splice(0,1):(w(this,Et,c),c<l(this,At).length&&l(this,At).splice(c)),l(this,At).push(u)}undo(){if(l(this,Et)===-1)return;w(this,as,!0);const{undo:e,post:t}=l(this,At)[l(this,Et)];e(),t==null||t(),w(this,as,!1),w(this,Et,l(this,Et)-1)}redo(){if(l(this,Et)<l(this,At).length-1){w(this,Et,l(this,Et)+1),w(this,as,!0);const{cmd:e,post:t}=l(this,At)[l(this,Et)];e(),t==null||t(),w(this,as,!1)}}hasSomethingToUndo(){return l(this,Et)!==-1}hasSomethingToRedo(){return l(this,Et)<l(this,At).length-1}destroy(){w(this,At,null)}}At=new WeakMap,as=new WeakMap,zc=new WeakMap,Et=new WeakMap;var xp,HS;class _d{constructor(e){A(this,xp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=gn.platform;for(const[i,r,s={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(_(this,xp,HS).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(r.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}xp=new WeakSet,HS=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Cp=class Cp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return yP(e),_e(this,"_colors",e)}convert(e){const t=S0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return Cp._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Y.makeHexColor(...t):e}};le(Cp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let uv=Cp;var ul,kn,dt,Pt,cl,ur,hl,oi,dl,_o,Ri,ai,Ao,Hc,Bc,Li,fl,ls,Mi,kp,us,Uc,Eo,$c,pl,Rt,Pe,cr,So,Vc,Wc,Gc,Xc,Kc,qc,Yc,Qc,Jc,Zc,eh,th,nh,cs,Di,hr,ih,H,vf,BS,US,yf,$S,VS,WS,cv,GS,hv,dv,XS,Yt,Zr,KS,qS,fv,YS,Wu,pv;const Za=class Za{constructor(e,t,i,r,s,o,a,u,c){A(this,H);A(this,ul,new AbortController);A(this,kn,null);A(this,dt,new Map);A(this,Pt,new Map);A(this,cl,null);A(this,ur,null);A(this,hl,null);A(this,oi,new EP);A(this,dl,0);A(this,_o,new Set);A(this,Ri,null);A(this,ai,null);A(this,Ao,new Set);A(this,Hc,!1);A(this,Bc,null);A(this,Li,null);A(this,fl,null);A(this,ls,!1);A(this,Mi,null);A(this,kp,new AP);A(this,us,!1);A(this,Uc,!1);A(this,Eo,null);A(this,$c,null);A(this,pl,null);A(this,Rt,ye.NONE);A(this,Pe,new Set);A(this,cr,null);A(this,So,null);A(this,Vc,null);A(this,Wc,this.blur.bind(this));A(this,Gc,this.focus.bind(this));A(this,Xc,this.copy.bind(this));A(this,Kc,this.cut.bind(this));A(this,qc,this.paste.bind(this));A(this,Yc,this.keydown.bind(this));A(this,Qc,this.keyup.bind(this));A(this,Jc,this.onEditingAction.bind(this));A(this,Zc,this.onPageChanging.bind(this));A(this,eh,this.onScaleChanging.bind(this));A(this,th,this.onRotationChanging.bind(this));A(this,nh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});A(this,cs,[0,0]);A(this,Di,null);A(this,hr,null);A(this,ih,null);this._signal=l(this,ul).signal,w(this,hr,e),w(this,ih,t),w(this,cl,i),this._eventBus=r,this._eventBus._on("editingaction",l(this,Jc)),this._eventBus._on("pagechanging",l(this,Zc)),this._eventBus._on("scalechanging",l(this,eh)),this._eventBus._on("rotationchanging",l(this,th)),_(this,H,$S).call(this),_(this,H,XS).call(this),_(this,H,cv).call(this),w(this,ur,s.annotationStorage),w(this,Bc,s.filterFactory),w(this,So,o),w(this,fl,a||null),w(this,Hc,u),w(this,pl,c||null),this.viewParameters={realScale:Bs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Za.prototype,t=o=>l(o,hr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:u}=a;return u!=="text"&&u!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return _e(this,"_keyboardManager",new _d([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,hr).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,hr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i;(e=l(this,ul))==null||e.abort(),w(this,ul,null),this._signal=null,this._eventBus._off("editingaction",l(this,Jc)),this._eventBus._off("pagechanging",l(this,Zc)),this._eventBus._off("scalechanging",l(this,eh)),this._eventBus._off("rotationchanging",l(this,th));for(const r of l(this,Pt).values())r.destroy();l(this,Pt).clear(),l(this,dt).clear(),l(this,Ao).clear(),w(this,kn,null),l(this,Pe).clear(),l(this,oi).destroy(),(t=l(this,cl))==null||t.destroy(),(i=l(this,Mi))==null||i.hide(),w(this,Mi,null),l(this,Li)&&(clearTimeout(l(this,Li)),w(this,Li,null)),l(this,Di)&&(clearTimeout(l(this,Di)),w(this,Di,null))}async mlGuess(e){var t;return((t=l(this,pl))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!l(this,pl)}get hcmFilter(){return _e(this,"hcmFilter",l(this,So)?l(this,Bc).addHCMFilter(l(this,So).foreground,l(this,So).background):"none")}get direction(){return _e(this,"direction",getComputedStyle(l(this,hr)).direction)}get highlightColors(){return _e(this,"highlightColors",l(this,fl)?new Map(l(this,fl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return _e(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){w(this,$c,e)}editAltText(e){var t;(t=l(this,cl))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){w(this,dl,e-1)}focusMainContainer(){l(this,hr).focus()}findParent(e,t){for(const i of l(this,Pt).values()){const{x:r,y:s,width:o,height:a}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+a)return i}return null}disableUserSelect(e=!1){l(this,ih).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,Ao).add(e)}removeShouldRescale(e){l(this,Ao).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Bs.PDF_TO_CSS_UNITS;for(const t of l(this,Ao))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}=t,a=t.toString(),c=_(this,H,vf).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(c);if(h){t.empty(),l(this,Rt)===ye.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:ye.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of l(this,Pt).values())if(d.hasTextLayer(c)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&l(this,ur)&&!l(this,ur).has(e.id)&&l(this,ur).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,l(this,ls)&&(w(this,ls,!1),_(this,H,yf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of l(this,Pe))if(t.div.contains(e)){w(this,Eo,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,Eo))return;const[e,t]=l(this,Eo);w(this,Eo,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){_(this,H,cv).call(this),_(this,H,hv).call(this)}removeEditListeners(){_(this,H,GS).call(this),_(this,H,dv).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of l(this,ai))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of l(this,ai))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=l(this,kn))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of l(this,Pe)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of l(this,ai))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){ce(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const u of i){const c=r.deserialize(u);if(!c)return;s.push(c)}const o=()=>{for(const u of s)_(this,H,fv).call(this,u);_(this,H,pv).call(this,s)},a=()=>{for(const u of s)u.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){ce(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,Rt)!==ye.NONE&&!this.isEditorHandlingKeyboard&&Za._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,ls)&&(w(this,ls,!1),_(this,H,yf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_(this,H,VS).call(this),_(this,H,hv).call(this),_(this,H,Yt).call(this,{isEditing:l(this,Rt)!==ye.NONE,isEmpty:_(this,H,Wu).call(this),hasSomethingToUndo:l(this,oi).hasSomethingToUndo(),hasSomethingToRedo:l(this,oi).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,H,WS).call(this),_(this,H,dv).call(this),_(this,H,Yt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,ai)){w(this,ai,e);for(const t of l(this,ai))_(this,H,Zr).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,kp).id}get currentLayer(){return l(this,Pt).get(l(this,dl))}getLayer(e){return l(this,Pt).get(e)}get currentPageIndex(){return l(this,dl)}addLayer(e){l(this,Pt).set(e.pageIndex,e),l(this,us)?e.enable():e.disable()}removeLayer(e){l(this,Pt).delete(e.pageIndex)}updateMode(e,t=null,i=!1){if(l(this,Rt)!==e){if(w(this,Rt,e),e===ye.NONE){this.setEditingState(!1),_(this,H,qS).call(this);return}this.setEditingState(!0),_(this,H,KS).call(this),this.unselectAll();for(const r of l(this,Pt).values())r.updateMode(e);if(!t&&i){this.addNewEditorFromKeyboard();return}if(t){for(const r of l(this,dt).values())if(r.annotationElementId===t){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==l(this,Rt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(l(this,ai)){switch(e){case se.CREATE:this.currentLayer.addNewEditor();return;case se.HIGHLIGHT_DEFAULT_COLOR:(i=l(this,$c))==null||i.updateColor(t);break;case se.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,Vc)||w(this,Vc,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of l(this,Pe))r.updateParams(e,t);for(const r of l(this,ai))r.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const o of l(this,dt).values())o.editorType===e&&o.show(t);(((s=l(this,Vc))==null?void 0:s.get(se.HIGHLIGHT_SHOW_ALL))??!0)!==t&&_(this,H,Zr).call(this,[[se.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,Uc)!==e){w(this,Uc,e);for(const t of l(this,Pt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of l(this,dt).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return l(this,dt).get(e)}addEditor(e){l(this,dt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(l(this,Li)&&clearTimeout(l(this,Li)),w(this,Li,setTimeout(()=>{this.focusMainContainer(),w(this,Li,null)},0))),l(this,dt).delete(e.id),this.unselect(e),(!e.annotationElementId||!l(this,_o).has(e.annotationElementId))&&((t=l(this,ur))==null||t.remove(e.id))}addDeletedAnnotationElement(e){l(this,_o).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,_o).has(e)}removeDeletedAnnotationElement(e){l(this,_o).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,kn)!==e&&(w(this,kn,e),e&&_(this,H,Zr).call(this,e.propertiesToUpdate))}updateUI(e){l(this,H,YS)===e&&_(this,H,Zr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(l(this,Pe).has(e)){l(this,Pe).delete(e),e.unselect(),_(this,H,Yt).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Pe).add(e),e.select(),_(this,H,Zr).call(this,e.propertiesToUpdate),_(this,H,Yt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of l(this,Pe))t!==e&&t.unselect();l(this,Pe).clear(),l(this,Pe).add(e),e.select(),_(this,H,Zr).call(this,e.propertiesToUpdate),_(this,H,Yt).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,Pe).has(e)}get firstSelectedEditor(){return l(this,Pe).values().next().value}unselect(e){e.unselect(),l(this,Pe).delete(e),_(this,H,Yt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Pe).size!==0}get isEnterHandled(){return l(this,Pe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){l(this,oi).undo(),_(this,H,Yt).call(this,{hasSomethingToUndo:l(this,oi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,H,Wu).call(this)})}redo(){l(this,oi).redo(),_(this,H,Yt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,oi).hasSomethingToRedo(),isEmpty:_(this,H,Wu).call(this)})}addCommands(e){l(this,oi).add(e),_(this,H,Yt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,H,Wu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...l(this,Pe)],t=()=>{for(const r of e)r.remove()},i=()=>{for(const r of e)_(this,H,fv).call(this,r)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=l(this,kn))==null||e.commitOrRemove()}hasSomethingToControl(){return l(this,kn)||this.hasSelection}selectAll(){for(const e of l(this,Pe))e.commit();_(this,H,pv).call(this,l(this,dt).values())}unselectAll(){if(!(l(this,kn)&&(l(this,kn).commitOrRemove(),l(this,Rt)!==ye.NONE))&&this.hasSelection){for(const e of l(this,Pe))e.unselect();l(this,Pe).clear(),_(this,H,Yt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;l(this,cs)[0]+=e,l(this,cs)[1]+=t;const[r,s]=l(this,cs),o=[...l(this,Pe)],a=1e3;l(this,Di)&&clearTimeout(l(this,Di)),w(this,Di,setTimeout(()=>{w(this,Di,null),l(this,cs)[0]=l(this,cs)[1]=0,this.addCommands({cmd:()=>{for(const u of o)l(this,dt).has(u.id)&&u.translateInPage(r,s)},undo:()=>{for(const u of o)l(this,dt).has(u.id)&&u.translateInPage(-r,-s)},mustExec:!1})},a));for(const u of o)u.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,Ri,new Map);for(const e of l(this,Pe))l(this,Ri).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,Ri))return!1;this.disableUserSelect(!1);const e=l(this,Ri);w(this,Ri,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},a]of e)a.newX=r,a.newY=s,a.newPageIndex=o,t||(t=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const i=(r,s,o,a)=>{if(l(this,dt).has(r.id)){const u=l(this,Pt).get(a);u?r._setParentAndPosition(u,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of e)i(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of e)i(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,Ri))for(const i of l(this,Ri).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||l(this,Pe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,kn)===e}getActive(){return l(this,kn)}getMode(){return l(this,Rt)}get imageManager(){return _e(this,"imageManager",new av)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,h=t.rangeCount;c<h;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,h,d,f)=>({x:(h-r)/o,y:1-(c+d-i)/s,width:f/o,height:d/s});break;case"180":a=(c,h,d,f)=>({x:1-(c+d-i)/s,y:1-(h+f-r)/o,width:d/s,height:f/o});break;case"270":a=(c,h,d,f)=>({x:1-(h+f-r)/o,y:(c-i)/s,width:f/o,height:d/s});break;default:a=(c,h,d,f)=>({x:(c-i)/s,y:(h-r)/o,width:d/s,height:f/o});break}const u=[];for(let c=0,h=t.rangeCount;c<h;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:g,height:y}of d.getClientRects())g===0||y===0||u.push(a(f,p,g,y))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,hl)||w(this,hl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=l(this,hl))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=l(this,hl))==null?void 0:r.get(e.data.id);if(!t)return;const i=l(this,ur).getRawValue(t);i&&(l(this,Rt)===ye.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};ul=new WeakMap,kn=new WeakMap,dt=new WeakMap,Pt=new WeakMap,cl=new WeakMap,ur=new WeakMap,hl=new WeakMap,oi=new WeakMap,dl=new WeakMap,_o=new WeakMap,Ri=new WeakMap,ai=new WeakMap,Ao=new WeakMap,Hc=new WeakMap,Bc=new WeakMap,Li=new WeakMap,fl=new WeakMap,ls=new WeakMap,Mi=new WeakMap,kp=new WeakMap,us=new WeakMap,Uc=new WeakMap,Eo=new WeakMap,$c=new WeakMap,pl=new WeakMap,Rt=new WeakMap,Pe=new WeakMap,cr=new WeakMap,So=new WeakMap,Vc=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,Xc=new WeakMap,Kc=new WeakMap,qc=new WeakMap,Yc=new WeakMap,Qc=new WeakMap,Jc=new WeakMap,Zc=new WeakMap,eh=new WeakMap,th=new WeakMap,nh=new WeakMap,cs=new WeakMap,Di=new WeakMap,hr=new WeakMap,ih=new WeakMap,H=new WeakSet,vf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},BS=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=_(this,H,vf).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(l(this,Mi)||w(this,Mi,new wP(this)),l(this,Mi).show(i,r,this.direction==="ltr"))},US=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){l(this,cr)&&((s=l(this,Mi))==null||s.hide(),w(this,cr,null),_(this,H,Yt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===l(this,cr))return;if(!_(this,H,vf).call(this,e).closest(".textLayer")){l(this,cr)&&((o=l(this,Mi))==null||o.hide(),w(this,cr,null),_(this,H,Yt).call(this,{hasSelectedText:!1}));return}if((a=l(this,Mi))==null||a.hide(),w(this,cr,t),_(this,H,Yt).call(this,{hasSelectedText:!0}),!(l(this,Rt)!==ye.HIGHLIGHT&&l(this,Rt)!==ye.NONE)&&(l(this,Rt)===ye.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,ls,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=this._signal,c=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),h.type==="pointerup"&&_(this,H,yf).call(this,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:u}),window.addEventListener("blur",c,{signal:u})}},yf=function(e=""){l(this,Rt)===ye.HIGHLIGHT?this.highlightSelection(e):l(this,Hc)&&_(this,H,BS).call(this)},$S=function(){document.addEventListener("selectionchange",_(this,H,US).bind(this),{signal:this._signal})},VS=function(){const e=this._signal;window.addEventListener("focus",l(this,Gc),{signal:e}),window.addEventListener("blur",l(this,Wc),{signal:e})},WS=function(){window.removeEventListener("focus",l(this,Gc)),window.removeEventListener("blur",l(this,Wc))},cv=function(){const e=this._signal;window.addEventListener("keydown",l(this,Yc),{signal:e}),window.addEventListener("keyup",l(this,Qc),{signal:e})},GS=function(){window.removeEventListener("keydown",l(this,Yc)),window.removeEventListener("keyup",l(this,Qc))},hv=function(){const e=this._signal;document.addEventListener("copy",l(this,Xc),{signal:e}),document.addEventListener("cut",l(this,Kc),{signal:e}),document.addEventListener("paste",l(this,qc),{signal:e})},dv=function(){document.removeEventListener("copy",l(this,Xc)),document.removeEventListener("cut",l(this,Kc)),document.removeEventListener("paste",l(this,qc))},XS=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Yt=function(e){Object.entries(e).some(([i,r])=>l(this,nh)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,nh),e)}),l(this,Rt)===ye.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,H,Zr).call(this,[[se.HIGHLIGHT_FREE,!0]]))},Zr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},KS=function(){if(!l(this,us)){w(this,us,!0);for(const e of l(this,Pt).values())e.enable();for(const e of l(this,dt).values())e.enable()}},qS=function(){if(this.unselectAll(),l(this,us)){w(this,us,!1);for(const e of l(this,Pt).values())e.disable();for(const e of l(this,dt).values())e.disable()}},fv=function(e){const t=l(this,Pt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},YS=function(){let e=null;for(e of l(this,Pe));return e},Wu=function(){if(l(this,dt).size===0)return!0;if(l(this,dt).size===1)for(const e of l(this,dt).values())return e.isEmpty();return!1},pv=function(e){for(const t of l(this,Pe))t.unselect();l(this,Pe).clear();for(const t of e)t.isEmpty()||(l(this,Pe).add(t),t.select());_(this,H,Yt).call(this,{hasSelectedEditor:this.hasSelection})},le(Za,"TRANSLATE_SMALL",1),le(Za,"TRANSLATE_BIG",10);let va=Za;var dr,fr,li,pr,Tn,gl,ui,rh,gv;const ir=class ir{constructor(e){A(this,rh);A(this,dr,"");A(this,fr,!1);A(this,li,null);A(this,pr,null);A(this,Tn,null);A(this,gl,!1);A(this,ui,null);w(this,ui,e)}static initialize(e){ir._l10nPromise||(ir._l10nPromise=e)}async render(){const e=w(this,li,document.createElement("button"));e.className="altText";const t=await ir._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const i=l(this,ui)._uiManager._signal;e.addEventListener("contextmenu",_n,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),l(this,ui)._uiManager.editAltText(l(this,ui))};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(w(this,gl,!0),r(s))},{signal:i}),await _(this,rh,gv).call(this),e}finish(){l(this,li)&&(l(this,li).focus({focusVisible:l(this,gl)}),w(this,gl,!1))}isEmpty(){return!l(this,dr)&&!l(this,fr)}get data(){return{altText:l(this,dr),decorative:l(this,fr)}}set data({altText:e,decorative:t}){l(this,dr)===e&&l(this,fr)===t||(w(this,dr,e),w(this,fr,t),_(this,rh,gv).call(this))}toggle(e=!1){l(this,li)&&(!e&&l(this,Tn)&&(clearTimeout(l(this,Tn)),w(this,Tn,null)),l(this,li).disabled=!e)}destroy(){var e;(e=l(this,li))==null||e.remove(),w(this,li,null),w(this,pr,null)}};dr=new WeakMap,fr=new WeakMap,li=new WeakMap,pr=new WeakMap,Tn=new WeakMap,gl=new WeakMap,ui=new WeakMap,rh=new WeakSet,gv=async function(){var r;const e=l(this,li);if(!e)return;if(!l(this,dr)&&!l(this,fr)){e.classList.remove("done"),(r=l(this,pr))==null||r.remove();return}e.classList.add("done"),ir._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=l(this,pr);if(!t){w(this,pr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${l(this,ui).id}`;e.setAttribute("aria-describedby",s);const o=100,a=l(this,ui)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(l(this,Tn)),w(this,Tn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{w(this,Tn,setTimeout(()=>{w(this,Tn,null),l(this,pr).classList.add("show"),l(this,ui)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),e.addEventListener("mouseleave",()=>{var u;l(this,Tn)&&(clearTimeout(l(this,Tn)),w(this,Tn,null)),(u=l(this,pr))==null||u.classList.remove("show")},{signal:a})}t.innerText=l(this,fr)?await ir._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):l(this,dr),t.parentNode||e.append(t);const i=l(this,ui).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},le(ir,"_l10nPromise",null);let gp=ir;var bo,ci,Vt,ml,xo,Lt,Co,vl,yl,Wt,sh,ko,hs,oh,To,gr,Ii,wl,_l,Vn,ah,Tp,he,mv,lh,vv,yv,QS,JS,wv,_v,Av,ZS,e1,t1,n1,Ev,Gu;const Ne=class Ne{constructor(e){A(this,he);A(this,bo,null);A(this,ci,null);A(this,Vt,null);A(this,ml,!1);A(this,xo,!1);A(this,Lt,null);A(this,Co,null);A(this,vl,this.focusin.bind(this));A(this,yl,this.focusout.bind(this));A(this,Wt,null);A(this,sh,"");A(this,ko,!1);A(this,hs,null);A(this,oh,!1);A(this,To,!1);A(this,gr,!1);A(this,Ii,null);A(this,wl,0);A(this,_l,0);A(this,Vn,null);le(this,"_initialOptions",Object.create(null));le(this,"_isVisible",!0);le(this,"_uiManager",null);le(this,"_focusEventsAllowed",!0);le(this,"_l10nPromise",null);A(this,ah,!1);A(this,Tp,Ne._zIndex++);this.constructor===Ne&&Ie("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,u]=this.parentDimensions;this.x=e.x/a,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ne.prototype._resizeWithKeyboard,t=va.TRANSLATE_SMALL,i=va.TRANSLATE_BIG;return _e(this,"_resizerKeyboardManager",new _d([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Ne.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return _e(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new SP({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(Ne._l10nPromise||(Ne._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),i!=null&&i.strings)for(const s of i.strings)Ne._l10nPromise.set(s,e.get(s));if(Ne._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Ne._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ie("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,ah)}set _isDraggable(e){var t;w(this,ah,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,Tp)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_(this,he,Gu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,ko)?w(this,ko,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}translate(e,t){_(this,he,mv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,hs)||w(this,hs,[this.x,this.y]),_(this,he,mv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){l(this,hs)||w(this,hs,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,u]=this.getBaseTranslation();s+=a,o+=u,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!l(this,hs)&&(l(this,hs)[0]!==this.x||l(this,hs)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Ne,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:r,y:s,width:o,height:a}=this;if(o*=t,a*=i,r*=t,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-o,r)),s=Math.max(0,Math.min(i-a,s));break;case 90:r=Math.max(0,Math.min(t-a,r)),s=Math.min(i,Math.max(o,s));break;case 180:r=Math.min(t,Math.max(o,r)),s=Math.min(i,Math.max(a,s));break;case 270:r=Math.min(t,Math.max(a,r)),s=Math.max(0,Math.min(i-o,s));break}this.x=r/=t,this.y=s/=i;const[u,c]=this.getBaseTranslation();r+=u,s+=c;const{style:h}=this.div;h.left=`${(100*r).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return _(i=Ne,lh,vv).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return _(i=Ne,lh,vv).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,r=t*e,s=i*e;return gn.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,l(this,xo)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),s=!l(this,xo)&&t.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!l(this,xo)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=l(this,Vt))==null||e.finish()}async addEditToolbar(){return l(this,Wt)||l(this,To)?l(this,Wt):(w(this,Wt,new sv(this)),this.div.append(l(this,Wt).render()),l(this,Vt)&&l(this,Wt).addAltTextButton(await l(this,Vt).render()),l(this,Wt))}removeEditToolbar(){var e;l(this,Wt)&&(l(this,Wt).remove(),w(this,Wt,null),(e=l(this,Vt))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){l(this,Vt)||(gp.initialize(Ne._l10nPromise),w(this,Vt,new gp(this)),l(this,bo)&&(l(this,Vt).data=l(this,bo),w(this,bo,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=l(this,Vt))==null?void 0:e.data}set altTextData(e){l(this,Vt)&&(l(this,Vt).data=e)}hasAltText(){var e;return!((e=l(this,Vt))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=l(this,ml)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",l(this,vl),{signal:e}),this.div.addEventListener("focusout",l(this,yl),{signal:e});const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),pp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=gn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(w(this,ko,!0),this._isDraggable){_(this,he,ZS).call(this,e);return}_(this,he,Av).call(this,e)}moveInDOM(){l(this,Ii)&&clearTimeout(l(this,Ii)),w(this,Ii,setTimeout(()=>{var e;w(this,Ii,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,u]=this.pageTranslation,c=e/r,h=t/r,d=this.x*s,f=this.y*o,p=this.width*s,g=this.height*o;switch(i){case 0:return[d+c+a,o-f-h-g+u,d+c+p+a,o-f-h+u];case 90:return[d+h+a,o-f+c+u,d+h+g+a,o-f+c+p+u];case 180:return[d-c-p+a,o-f+h+u,d-c+a,o-f+h+g+u];case 270:return[d-h-g+a,o-f-c-p+u,d-h+a,o-f-c+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,a=s-i,u=o-r;switch(this.rotation){case 0:return[i,t-o,a,u];case 90:return[i,t-r,u,a];case 180:return[s,t-r,a,u];case 270:return[s,t-o,u,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){w(this,To,!0)}disableEditMode(){w(this,To,!1)}isInEditMode(){return l(this,To)}shouldGetKeyboardEvents(){return l(this,gr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,i;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",l(this,vl),{signal:e}),(i=this.div)==null||i.addEventListener("focusout",l(this,yl),{signal:e})}rotate(e){}serialize(e=!1,t=null){Ie("An editor must be serializable")}static deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation,w(r,bo,e.accessibilityData);const[s,o]=r.pageDimensions,[a,u,c,h]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=u/o,r.width=c/s,r.height=h/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",l(this,vl)),this.div.removeEventListener("focusout",l(this,yl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Ii)&&(clearTimeout(l(this,Ii)),w(this,Ii,null)),_(this,he,Gu).call(this),this.removeEditToolbar(),l(this,Vn)){for(const e of l(this,Vn).values())clearTimeout(e);w(this,Vn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,he,QS).call(this),l(this,Lt).classList.remove("hidden"),pp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),w(this,Co,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=l(this,Lt).children;if(!l(this,ci)){w(this,ci,Array.from(t));const o=_(this,he,e1).bind(this),a=_(this,he,t1).bind(this),u=this._uiManager._signal;for(const c of l(this,ci)){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:u}),c.addEventListener("blur",a,{signal:u}),c.addEventListener("focus",_(this,he,n1).bind(this,h),{signal:u}),Ne._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(d=>c.setAttribute("aria-label",d))}}const i=l(this,ci)[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(l(this,ci).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)l(this,Lt).append(l(this,Lt).firstChild);else if(s>r)for(let a=0;a<s-r;a++)l(this,Lt).firstChild.before(l(this,Lt).lastChild);let o=0;for(const a of t){const c=l(this,ci)[o++].getAttribute("data-resizer-name");Ne._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(h=>a.setAttribute("aria-label",h))}}_(this,he,Ev).call(this,0),w(this,gr,!0),l(this,Lt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,gr)&&_(this,he,_v).call(this,l(this,sh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){_(this,he,Gu).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!l(this,Wt)){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=l(this,Wt))==null||r.show())});return}(t=l(this,Wt))==null||t.show()}unselect(){var e,t,i,r;(e=l(this,Lt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=l(this,Wt))==null||r.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return l(this,oh)}set isEditing(e){w(this,oh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){w(this,xo,!0);const i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,Vn)||w(this,Vn,new Map);const{action:i}=e;let r=l(this,Vn).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),l(this,Vn).delete(i),l(this,Vn).size===0&&w(this,Vn,null)},Ne._telemetryTimeout),l(this,Vn).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),w(this,ml,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,ml,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};bo=new WeakMap,ci=new WeakMap,Vt=new WeakMap,ml=new WeakMap,xo=new WeakMap,Lt=new WeakMap,Co=new WeakMap,vl=new WeakMap,yl=new WeakMap,Wt=new WeakMap,sh=new WeakMap,ko=new WeakMap,hs=new WeakMap,oh=new WeakMap,To=new WeakMap,gr=new WeakMap,Ii=new WeakMap,wl=new WeakMap,_l=new WeakMap,Vn=new WeakMap,ah=new WeakMap,Tp=new WeakMap,he=new WeakSet,mv=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()},lh=new WeakSet,vv=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},yv=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},QS=function(){if(l(this,Lt))return;w(this,Lt,document.createElement("div")),l(this,Lt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");l(this,Lt).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",_(this,he,JS).bind(this,i),{signal:t}),r.addEventListener("contextmenu",_n,{signal:t}),r.tabIndex=-1}this.div.prepend(l(this,Lt))},JS=function(e,t){var y;t.preventDefault();const{isMac:i}=gn.platform;if(t.button!==0||t.ctrlKey&&i)return;(y=l(this,Vt))==null||y.toggle(!1);const r=_(this,he,_v).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,a),window.addEventListener("contextmenu",_n,{signal:o});const u=this.x,c=this.y,h=this.width,d=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var S;this.parent.togglePointerEvents(!0),(S=l(this,Vt))==null||S.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",r,a),window.removeEventListener("contextmenu",_n),this.parent.div.style.cursor=f,this.div.style.cursor=p,_(this,he,wv).call(this,u,c,h,d)};window.addEventListener("pointerup",g,{signal:o}),window.addEventListener("blur",g,{signal:o})},wv=function(e,t,i,r){const s=this.x,o=this.y,a=this.width,u=this.height;s===e&&o===t&&a===i&&u===r||this.addCommands({cmd:()=>{this.width=a,this.height=u,this.x=s,this.y=o;const[c,h]=this.parentDimensions;this.setDims(c*a,h*u),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;const[c,h]=this.parentDimensions;this.setDims(c*i,h*r),this.fixAndSetPosition()},mustExec:!0})},_v=function(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,u=this.height,c=Ne.MIN_SIZE/i,h=Ne.MIN_SIZE/r,d=U=>Math.round(U*1e4)/1e4,f=_(this,he,yv).call(this,this.rotation),p=(U,D)=>[f[0]*U+f[2]*D,f[1]*U+f[3]*D],g=_(this,he,yv).call(this,360-this.rotation),y=(U,D)=>[g[0]*U+g[2]*D,g[1]*U+g[3]*D];let S,m,v=!1,E=!1;switch(e){case"topLeft":v=!0,S=(U,D)=>[0,0],m=(U,D)=>[U,D];break;case"topMiddle":S=(U,D)=>[U/2,0],m=(U,D)=>[U/2,D];break;case"topRight":v=!0,S=(U,D)=>[U,0],m=(U,D)=>[0,D];break;case"middleRight":E=!0,S=(U,D)=>[U,D/2],m=(U,D)=>[0,D/2];break;case"bottomRight":v=!0,S=(U,D)=>[U,D],m=(U,D)=>[0,0];break;case"bottomMiddle":S=(U,D)=>[U/2,D],m=(U,D)=>[U/2,0];break;case"bottomLeft":v=!0,S=(U,D)=>[0,D],m=(U,D)=>[U,0];break;case"middleLeft":E=!0,S=(U,D)=>[0,D/2],m=(U,D)=>[U,D/2];break}const x=S(a,u),k=m(a,u);let b=p(...k);const L=d(s+b[0]),R=d(o+b[1]);let F=1,N=1,[z,ie]=this.screenToPageTranslation(t.movementX,t.movementY);if([z,ie]=y(z/i,ie/r),v){const U=Math.hypot(a,u);F=N=Math.max(Math.min(Math.hypot(k[0]-x[0]-z,k[1]-x[1]-ie)/U,1/a,1/u),c/a,h/u)}else E?F=Math.max(c,Math.min(1,Math.abs(k[0]-x[0]-z)))/a:N=Math.max(h,Math.min(1,Math.abs(k[1]-x[1]-ie)))/u;const te=d(a*F),q=d(u*N);b=p(...m(te,q));const pe=L-b[0],Ee=R-b[1];this.width=te,this.height=q,this.x=pe,this.y=Ee,this.setDims(i*te,r*q),this.fixAndSetPosition()},Av=function(e){const{isMac:t}=gn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},ZS=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i,r;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),i={passive:!0,capture:!0,signal:s},w(this,wl,e.clientX),w(this,_l,e.clientY),r=a=>{const{clientX:u,clientY:c}=a,[h,d]=this.screenToPageTranslation(u-l(this,wl),c-l(this,_l));w(this,wl,u),w(this,_l,c),this._uiManager.dragSelectedEditors(h,d)},window.addEventListener("pointermove",r,i));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,i)),w(this,ko,!1),this._uiManager.endDragSession()||_(this,he,Av).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},e1=function(e){Ne._resizerKeyboardManager.exec(this,e)},t1=function(e){var t;l(this,gr)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,Lt)&&_(this,he,Gu).call(this)},n1=function(e){w(this,sh,l(this,gr)?e:"")},Ev=function(e){if(l(this,ci))for(const t of l(this,ci))t.tabIndex=e},Gu=function(){if(w(this,gr,!1),_(this,he,Ev).call(this,-1),l(this,Co)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=l(this,Co);_(this,he,wv).call(this,e,t,i,r),w(this,Co,null)}},A(Ne,lh),le(Ne,"_borderLineWidth",-1),le(Ne,"_colorManager",new uv),le(Ne,"_zIndex",1),le(Ne,"_telemetryTimeout",1e3);let Re=Ne;class SP extends Re{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const b_=3285377520,Un=4294901760,ki=65535;class i1{constructor(e){this.h1=e?e&4294967295:b_,this.h2=e?e&4294967295:b_}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let y=0,S=e.length;y<S;y++){const m=e.charCodeAt(y);m<=255?t[i++]=m:(t[i++]=m>>>8,t[i++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,u=0,c=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&ki,g=f&ki;for(let y=0;y<r;y++)y&1?(a=o[y],a=a*d&Un|a*p&ki,a=a<<15|a>>>17,a=a*f&Un|a*g&ki,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(u=o[y],u=u*d&Un|u*p&ki,u=u<<15|u>>>17,u=u*f&Un|u*g&ki,h^=u,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,s){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*d&Un|a*p&ki,a=a<<15|a>>>17,a=a*f&Un|a*g&ki,r&1?c^=a:h^=a}this.h1=c,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Un|e*36045&ki,t=t*4283543511&Un|((t<<16|e>>>16)*2950163797&Un)>>>16,e^=t>>>1,e=e*444984403&Un|e*60499&ki,t=t*3301882366&Un|((t<<16|e>>>16)*3120437893&Un)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Sv=Object.freeze({map:null,hash:"",transfer:void 0});var Po,Mt,Pp,r1;class b0{constructor(){A(this,Pp);A(this,Po,!1);A(this,Mt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=l(this,Mt).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return l(this,Mt).get(e)}remove(e){if(l(this,Mt).delete(e),l(this,Mt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of l(this,Mt).values())if(t instanceof Re)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=l(this,Mt).get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,l(this,Mt).set(e,t);r&&_(this,Pp,r1).call(this),t instanceof Re&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return l(this,Mt).has(e)}getAll(){return l(this,Mt).size>0?v0(l(this,Mt)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return l(this,Mt).size}resetModified(){l(this,Po)&&(w(this,Po,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new s1(this)}get serializable(){if(l(this,Mt).size===0)return Sv;const e=new Map,t=new i1,i=[],r=Object.create(null);let s=!1;for(const[o,a]of l(this,Mt)){const u=a instanceof Re?a.serialize(!1,r):a;u&&(e.set(o,u),t.update(`${o}:${JSON.stringify(u)}`),s||(s=!!u.bitmap))}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Sv}get editorStats(){let e=null;const t=new Map;for(const i of l(this,Mt).values()){if(!(i instanceof Re))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,u]of Object.entries(r)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const h=c.get(u)??0;c.set(u,h+1)}}for(const[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}}Po=new WeakMap,Mt=new WeakMap,Pp=new WeakSet,r1=function(){l(this,Po)||(w(this,Po,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var uh;class s1 extends b0{constructor(t){super();A(this,uh);const{map:i,hash:r,transfer:s}=t.serializable,o=structuredClone(i,s?{transfer:s}:null);w(this,uh,{map:o,hash:r,transfer:s})}get print(){Ie("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,uh)}}uh=new WeakMap;var Al;class bP{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){A(this,Al,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,Al).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||l(this,Al).has(e.loadedName))){if(vt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,o=new FontFace(i,r,s);this.addNativeFontFace(o);try{await o.load(),l(this,Al).add(i),t==null||t(e)}catch{ce(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ie("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw ce(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return _e(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Kt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),_e(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(vt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return _e(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(x,k){return x.charCodeAt(k)<<24|x.charCodeAt(k+1)<<16|x.charCodeAt(k+2)<<8|x.charCodeAt(k+3)&255}function r(x,k,b,L){const R=x.substring(0,k),F=x.substring(k+b);return R+L+F}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const u=a.getContext("2d");let c=0;function h(x,k){if(++c>30){ce("Load test font never loaded."),k();return}if(u.font="30px "+x,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,x,k))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,d.length,d);const g=16,y=1482184792;let S=i(f,g);for(s=0,o=d.length-3;s<o;s+=4)S=S-y+i(d,s)|0;s<d.length&&(S=S-y+i(d+"XXX",s)|0),f=r(f,g,4,aP(S));const m=`url(data:font/opentype;base64,${btoa(f)});`,v=`@font-face {font-family:"${d}";src:${m}}`;this.insertRule(v);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const x of[e.loadedName,d]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=x,E.append(k)}this._document.body.append(E),h(d,()=>{E.remove(),t.complete()})}}Al=new WeakMap;class xP{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=CS(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(r=this._inspectFont)==null||r.call(this,this,t),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(s){ce(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(s,o){};const r=[];for(let s=0,o=i.length;s<o;)switch(i[s++]){case Zi.BEZIER_CURVE_TO:{const[a,u,c,h,d,f]=i.slice(s,s+6);r.push(p=>p.bezierCurveTo(a,u,c,h,d,f)),s+=6}break;case Zi.MOVE_TO:{const[a,u]=i.slice(s,s+2);r.push(c=>c.moveTo(a,u)),s+=2}break;case Zi.LINE_TO:{const[a,u]=i.slice(s,s+2);r.push(c=>c.lineTo(a,u)),s+=2}break;case Zi.QUADRATIC_CURVE_TO:{const[a,u,c,h]=i.slice(s,s+4);r.push(d=>d.quadraticCurveTo(a,u,c,h)),s+=4}break;case Zi.RESTORE:r.push(a=>a.restore());break;case Zi.SAVE:r.push(a=>a.save());break;case Zi.SCALE:vt(r.length===2,"Scale command is only valid at the third position.");break;case Zi.TRANSFORM:{const[a,u,c,h,d,f]=i.slice(s,s+6);r.push(p=>p.transform(a,u,c,h,d,f)),s+=6}break;case Zi.TRANSLATE:{const[a,u]=i.slice(s,s+2);r.push(c=>c.translate(a,u)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let u=2,c=r.length;u<c;u++)r[u](o)}}}if(Kt){var bv=Promise.withResolvers(),fc=null;(async()=>{const e=await Xd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Xd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Xd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Xd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:i,url:r,canvas:s,path2d:o}))})().then(e=>{fc=e,bv.resolve()},e=>{ce(`loadPackages: ${e}`),fc=new Map,bv.resolve()})}class Yi{static get promise(){return bv.promise}static get(e){return fc==null?void 0:fc.get(e)}}const o1=function(n){return Yi.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class CP extends ug{}class kP extends fp{_createCanvas(e,t){return Yi.get("canvas").createCanvas(e,t)}}class TP extends cg{_fetchData(e,t){return o1(e).then(i=>({cMapData:i,compressionType:t}))}}class PP extends hg{_fetchData(e){return o1(e)}}const en={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function xv(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class Ad{constructor(){this.constructor===Ad&&Ie("Cannot initialize BaseShadingPattern.")}getPattern(){Ie("Abstract method `getPattern` called.")}}class RP extends Ad{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===en.STROKE||r===en.FILL){const o=t.current.getClippedPathBoundingBox(r,Ke(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,u,!0),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),i=Y.transform(i,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),xv(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(i);s.setTransform(d)}else xv(e,this._bbox),s=this._createGradient(e);return s}}function Jg(n,e,t,i,r,s,o,a){const u=e.coords,c=e.colors,h=n.data,d=n.width*4;let f;u[t+1]>u[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f),u[i+1]>u[r+1]&&(f=i,i=r,r=f,f=o,o=a,a=f),u[t+1]>u[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f);const p=(u[t]+e.offsetX)*e.scaleX,g=(u[t+1]+e.offsetY)*e.scaleY,y=(u[i]+e.offsetX)*e.scaleX,S=(u[i+1]+e.offsetY)*e.scaleY,m=(u[r]+e.offsetX)*e.scaleX,v=(u[r+1]+e.offsetY)*e.scaleY;if(g>=v)return;const E=c[s],x=c[s+1],k=c[s+2],b=c[o],L=c[o+1],R=c[o+2],F=c[a],N=c[a+1],z=c[a+2],ie=Math.round(g),te=Math.round(v);let q,pe,Ee,U,D,Q,ne,ue;for(let ae=ie;ae<=te;ae++){if(ae<S){const Se=ae<g?0:(g-ae)/(g-S);q=p-(p-y)*Se,pe=E-(E-b)*Se,Ee=x-(x-L)*Se,U=k-(k-R)*Se}else{let Se;ae>v?Se=1:S===v?Se=0:Se=(S-ae)/(S-v),q=y-(y-m)*Se,pe=b-(b-F)*Se,Ee=L-(L-N)*Se,U=R-(R-z)*Se}let Te;ae<g?Te=0:ae>v?Te=1:Te=(g-ae)/(g-v),D=p-(p-m)*Te,Q=E-(E-F)*Te,ne=x-(x-N)*Te,ue=k-(k-z)*Te;const Ue=Math.round(Math.min(q,D)),nt=Math.round(Math.max(q,D));let je=d*ae+Ue*4;for(let Se=Ue;Se<=nt;Se++)Te=(q-Se)/(q-D),Te<0?Te=0:Te>1&&(Te=1),h[je++]=pe-(pe-Q)*Te|0,h[je++]=Ee-(Ee-ne)*Te|0,h[je++]=U-(U-ue)*Te|0,h[je++]=255}}function LP(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,u=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<u;s++){let h=s*a;for(let d=0;d<c;d++,h++)Jg(n,t,i[h],i[h+1],i[h+a],r[h],r[h+1],r[h+a]),Jg(n,t,i[h+a+1],i[h+1],i[h+a],r[h+a+1],r[h+1],r[h+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)Jg(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class MP extends Ad{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-u,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=c/d,g=h/f,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-u,scaleX:1/p,scaleY:1/g},S=d+2*2,m=f+2*2,v=i.getCanvas("mesh",S,m,!1),E=v.context,x=E.createImageData(d,f);if(t){const b=x.data;for(let L=0,R=b.length;L<R;L+=4)b[L]=t[0],b[L+1]=t[1],b[L+2]=t[2],b[L+3]=255}for(const b of this._figures)LP(x,b,y);return E.putImageData(x,2,2),{canvas:v.canvas,offsetX:a-2*p,offsetY:u-2*g,scaleX:p,scaleY:g}}getPattern(e,t,i,r){xv(e,this._bbox);let s;if(r===en.SHADING)s=Y.singularValueDecompose2dScale(Ke(e));else if(s=Y.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=Y.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,r===en.SHADING?null:this._background,t.cachedCanvases);return r!==en.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class DP extends Ad{getPattern(){return"hotpink"}}function IP(n){switch(n[0]){case"RadialAxial":return new RP(n);case"Mesh":return new MP(n);case"Dummy":return new DP}throw new Error(`Unknown IR type: ${n[0]}`)}const x_={COLORED:1,UNCOLORED:2},Rp=class Rp{constructor(e,t,i,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,i=this.bbox,r=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,u=this.color,c=this.canvasGraphicsFactory;og("TilingType: "+a);const h=i[0],d=i[1],f=i[2],p=i[3],g=Y.singularValueDecompose2dScale(this.matrix),y=Y.singularValueDecompose2dScale(this.baseTransform),S=[g[0]*y[0],g[1]*y[1]],m=this.getSizeAndScale(r,this.ctx.canvas.width,S[0]),v=this.getSizeAndScale(s,this.ctx.canvas.height,S[1]),E=e.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),x=E.context,k=c.createCanvasGraphics(x);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,o,u);let b=h,L=d,R=f,F=p;return h<0&&(b=0,R+=Math.abs(h)),d<0&&(L=0,F+=Math.abs(d)),x.translate(-(m.scale*b),-(v.scale*L)),k.transform(m.scale,0,0,v.scale,0,0),x.save(),this.clipBbox(k,b,L,R,F),k.baseTransform=Ke(k.ctx),k.executeOperatorList(t),k.endDrawing(),{canvas:E.canvas,scaleX:m.scale,scaleY:v.scale,offsetX:b,offsetY:L}}getSizeAndScale(e,t,i){e=Math.abs(e);const r=Math.max(Rp.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const o=r-t,a=s-i;e.ctx.rect(t,i,o,a),e.current.updateRectMinMax(Ke(e.ctx),[t,i,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case x_.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case x_.UNCOLORED:const a=Y.makeHexColor(i[0],i[1],i[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new oP(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,r){let s=i;r!==en.SHADING&&(s=Y.transform(s,t.baseTransform),this.matrix&&(s=Y.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(a),u}};le(Rp,"MAX_PATTERN_SIZE",3e3);let Cv=Rp;function FP({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=gn.isLittleEndian?4278190080:255,[u,c]=o?[s,a]:[a,s],h=i>>3,d=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<r;g++){for(const S=e+h;e<S;e++){const m=e<f?n[e]:255;t[p++]=m&128?c:u,t[p++]=m&64?c:u,t[p++]=m&32?c:u,t[p++]=m&16?c:u,t[p++]=m&8?c:u,t[p++]=m&4?c:u,t[p++]=m&2?c:u,t[p++]=m&1?c:u}if(d===0)continue;const y=e<f?n[e++]:255;for(let S=0;S<d;S++)t[p++]=y&1<<7-S?c:u}return{srcPos:e,destPos:p}}const C_=16,k_=100,NP=15,T_=10,P_=1e3,dn=16;function OP(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,o,a,u){e.transform(i,r,s,o,a,u),this.__originalTransform(i,r,s,o,a,u)},n.setTransform=function(i,r,s,o,a,u){e.setTransform(i,r,s,o,a,u),this.__originalSetTransform(i,r,s,o,a,u)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,a){e.bezierCurveTo(t,i,r,s,o,a),this.__originalBezierCurveTo(t,i,r,s,o,a)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class jP{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Kd(n,e,t,i,r,s,o,a,u,c){const[h,d,f,p,g,y]=Ke(n);if(d===0&&f===0){const v=o*h+g,E=Math.round(v),x=a*p+y,k=Math.round(x),b=(o+u)*h+g,L=Math.abs(Math.round(b)-E)||1,R=(a+c)*p+y,F=Math.abs(Math.round(R)-k)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),E,k),n.drawImage(e,t,i,r,s,0,0,L,F),n.setTransform(h,d,f,p,g,y),[L,F]}if(h===0&&p===0){const v=a*f+g,E=Math.round(v),x=o*d+y,k=Math.round(x),b=(a+c)*f+g,L=Math.abs(Math.round(b)-E)||1,R=(o+u)*d+y,F=Math.abs(Math.round(R)-k)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,E,k),n.drawImage(e,t,i,r,s,0,0,F,L),n.setTransform(h,d,f,p,g,y),[F,L]}n.drawImage(e,t,i,r,s,o,a,u,c);const S=Math.hypot(h,d),m=Math.hypot(f,p);return[S*u,m*c]}function zP(n){const{width:e,height:t}=n;if(e>P_||t>P_)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,u,c;const h=e+7&-8;let d=new Uint8Array(h*t),f=0;for(const m of n.data){let v=128;for(;v>0;)d[f++]=m&v?0:255,v>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),u=1;u<e;u++)d[f]!==d[f+1]&&(o[u]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[u]=2,++p),a=1;a<t;a++){f=a*h,c=a*s,d[f-h]!==d[f]&&(o[c]=d[f]?1:8,++p);let m=(d[f]?4:0)+(d[f-h]?8:0);for(u=1;u<e;u++)m=(m>>2)+(d[f+1]?4:0)+(d[f-h+1]?8:0),r[m]&&(o[c+u]=r[m],++p),f++;if(d[f-h]!==d[f]&&(o[c+u]=d[f]?2:4,++p),p>i)return null}for(f=h*(t-1),c=a*s,d[f]!==0&&(o[c]=8,++p),u=1;u<e;u++)d[f]!==d[f+1]&&(o[c+u]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[c+u]=4,++p),p>i)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;p&&a<=t;a++){let m=a*s;const v=m+e;for(;m<v&&!o[m];)m++;if(m===v)continue;y.moveTo(m%s,a);const E=m;let x=o[m];do{const k=g[x];do m+=k;while(!o[m]);const b=o[m];b!==5&&b!==10?(x=b,o[m]=0):(x=b&51*x>>4,o[m]&=x>>2|x<<2),y.lineTo(m%s,m/s|0),o[m]||--p}while(E!==m);--a}return d=null,o=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(y),m.beginPath(),m.restore()}}class R_{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=bS,this.textMatrixScale=1,this.fontMatrix=Jm,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Bt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=Y.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=Y.applyTransform(t,e),r=Y.applyTransform(t.slice(2),e),s=Y.applyTransform([t[0],t[3]],e),o=Y.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,t){Y.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,s,o,a,u,c,h){const d=Y.bezierBoundingBox(t,i,r,s,o,a,u,c,h);h||this.updateRectMinMax(e,d)}getPathBoundingBox(e=en.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===en.STROKE){t||Ie("Stroke bounding box must include transform.");const r=Y.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){const e=Y.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=en.FILL,t=null){return Y.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function L_(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%dn,s=(t-r)/dn,o=r===0?s:s+1,a=n.createImageData(i,dn);let u=0,c;const h=e.data,d=a.data;let f,p,g,y;if(e.kind===ff.GRAYSCALE_1BPP){const S=h.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),v=m.length,E=i+7>>3,x=4294967295,k=gn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<s?dn:r,c=0,p=0;p<g;p++){const b=S-u;let L=0;const R=b>E?i:b*8-7,F=R&-8;let N=0,z=0;for(;L<F;L+=8)z=h[u++],m[c++]=z&128?x:k,m[c++]=z&64?x:k,m[c++]=z&32?x:k,m[c++]=z&16?x:k,m[c++]=z&8?x:k,m[c++]=z&4?x:k,m[c++]=z&2?x:k,m[c++]=z&1?x:k;for(;L<R;L++)N===0&&(z=h[u++],N=128),m[c++]=z&N?x:k,N>>=1}for(;c<v;)m[c++]=0;n.putImageData(a,0,f*dn)}}else if(e.kind===ff.RGBA_32BPP){for(p=0,y=i*dn*4,f=0;f<s;f++)d.set(h.subarray(u,u+y)),u+=y,n.putImageData(a,0,p),p+=dn;f<o&&(y=i*r*4,d.set(h.subarray(u,u+y)),n.putImageData(a,0,p))}else if(e.kind===ff.RGB_24BPP)for(g=dn,y=i*g,f=0;f<o;f++){for(f>=s&&(g=r,y=i*g),c=0,p=y;p--;)d[c++]=h[u++],d[c++]=h[u++],d[c++]=h[u++],d[c++]=255;n.putImageData(a,0,f*dn)}else throw new Error(`bad image kind: ${e.kind}`)}function M_(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%dn,s=(t-r)/dn,o=r===0?s:s+1,a=n.createImageData(i,dn);let u=0;const c=e.data,h=a.data;for(let d=0;d<o;d++){const f=d<s?dn:r;({srcPos:u}=FP({src:c,srcPos:u,dest:h,width:i,height:f,nonBlackColor:0})),n.putImageData(a,0,d*dn)}}function Iu(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function qd(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Kt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function D_(n,e){if(e)return!0;const t=Y.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Bs.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const HP=["butt","round","square"],BP=["miter","round","bevel"],UP={},I_={};var $s,kv,Tv;const R0=class R0{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},u,c){A(this,$s);this.ctx=e,this.current=new R_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new jP(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const u=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Ke(this.compositeCtx))}this.ctx.save(),qd(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ke(this.ctx)}executeOperatorList(e,t,i,r){const s=e.argsArray,o=e.fnArray;let a=t||0;const u=s.length;if(u===a)return a;const c=u-a>T_&&typeof i=="function",h=c?Date.now()+NP:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(g=o[a],g!==si.dependency)this[g].apply(this,s[a]);else for(const y of s[a]){const S=y.startsWith("g_")?f:p;if(!S.has(y))return S.get(y,i),a}if(a++,a===u)return a;if(c&&++d>T_){if(Date.now()>h)return i(),a;d=0}}}endDrawing(){_(this,$s,kv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,$s,Tv).call(this)}_scaleImage(e,t){const i=e.width,r=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,u=r,c="prescale1",h,d;for(;s>2&&a>1||o>2&&u>1;){let f=a,p=u;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&u>1&&(p=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/p),h=this.cachedCanvases.getCanvas(c,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,a,u,0,0,f,p),e=h.canvas,a=f,u=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:u}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=Ke(t);let u,c,h,d;if((e.bitmap||e.data)&&e.count>1){const R=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),u=this._cachedBitmapsMap.get(R),u||(u=new Map,this._cachedBitmapsMap.set(R,u));const F=u.get(c);if(F&&!o){const N=Math.round(Math.min(a[0],a[2])+a[4]),z=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:F,offsetX:N,offsetY:z}}h=F}h||(d=this.cachedCanvases.getCanvas("maskCanvas",i,r),M_(d.context,e));let f=Y.transform(a,[1/i,0,0,-1/r,0,0]);f=Y.transform(f,[1,0,0,1,0,-r]);const[p,g,y,S]=Y.getAxialAlignedBoundingBox([0,0,i,r],f),m=Math.round(y-p)||1,v=Math.round(S-g)||1,E=this.cachedCanvases.getCanvas("fillCanvas",m,v),x=E.context,k=p,b=g;x.translate(-k,-b),x.transform(...f),h||(h=this._scaleImage(d.canvas,er(x)),h=h.img,u&&o&&u.set(c,h)),x.imageSmoothingEnabled=D_(Ke(x),e.interpolate),Kd(x,h,0,0,h.width,h.height,0,0,i,r),x.globalCompositeOperation="source-in";const L=Y.transform(er(x),[1,0,0,1,-k,-b]);return x.fillStyle=o?s.getPattern(t,this,L,en.FILL):s,x.fillRect(0,0,i,r),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(c,E.canvas)),{canvas:E.canvas,offsetX:Math.round(k),offsetY:Math.round(b)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=HP[e]}setLineJoin(e){this.ctx.lineJoin=BP[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...Ke(this.suspendedCtx)),Iu(this.suspendedCtx,s),OP(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Iu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],o=r[1],a=r[2]-s,u=r[3]-o;a===0||u===0||(this.genericComposeSMask(t.context,i,a,u,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,a,u,c,h,d){let f=e.canvas,p=u-h,g=c-d;if(o){if(p<0||g<0||p+i>f.width||g+r>f.height){const S=this.cachedCanvases.getCanvas("maskExtension",i,r),m=S.context;m.drawImage(f,-p,-g),o.some(v=>v!==0)&&(m.globalCompositeOperation="destination-atop",m.fillStyle=Y.makeHexColor(...o),m.fillRect(0,0,i,r),m.globalCompositeOperation="source-over"),f=S.canvas,p=g=0}else if(o.some(S=>S!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(p,g,i,r),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=Y.makeHexColor(...o),e.fillRect(p,g,i,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(u,c,i,r),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(f,p,g,i,r,u,c,i,r),t.restore()}save(){this.inSMaskMode?(Iu(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Iu(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,s,o){this.ctx.transform(e,t,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const r=this.ctx,s=this.current;let o=s.x,a=s.y,u,c;const h=Ke(r),d=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=d?i.slice(0):null;for(let p=0,g=0,y=e.length;p<y;p++)switch(e[p]|0){case si.rectangle:o=t[g++],a=t[g++];const S=t[g++],m=t[g++],v=o+S,E=a+m;r.moveTo(o,a),S===0||m===0?r.lineTo(v,E):(r.lineTo(v,a),r.lineTo(v,E),r.lineTo(o,E)),d||s.updateRectMinMax(h,[o,a,v,E]),r.closePath();break;case si.moveTo:o=t[g++],a=t[g++],r.moveTo(o,a),d||s.updatePathMinMax(h,o,a);break;case si.lineTo:o=t[g++],a=t[g++],r.lineTo(o,a),d||s.updatePathMinMax(h,o,a);break;case si.curveTo:u=o,c=a,o=t[g+4],a=t[g+5],r.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,a),s.updateCurvePathMinMax(h,u,c,t[g],t[g+1],t[g+2],t[g+3],o,a,f),g+=6;break;case si.curveTo2:u=o,c=a,r.bezierCurveTo(o,a,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(h,u,c,o,a,t[g],t[g+1],t[g+2],t[g+3],f),o=t[g+2],a=t[g+3],g+=4;break;case si.curveTo3:u=o,c=a,o=t[g+2],a=t[g+3],r.bezierCurveTo(t[g],t[g+1],o,a,o,a),s.updateCurvePathMinMax(h,u,c,t[g],t[g+1],o,a,o,a,f),g+=4;break;case si.closePath:r.closePath();break}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,er(t),en.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(t.save(),t.fillStyle=i.getPattern(t,this,er(t),en.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=UP}eoClip(){this.pendingClip=I_}beginText(){this.current.textMatrix=bS,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||Jm,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&ce("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((h=i.systemFontInfo)==null?void 0:h.css)||`"${s}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const u=i.italic?"italic":"normal";let c=t;t<C_?c=C_:t>k_&&(c=k_),this.current.fontSizeScale=t/c,this.ctx.font=`${u} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,s,o){this.current.textMatrix=[e,t,i,r,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){const s=this.ctx,o=this.current,a=o.font,u=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,h=u&Bt.FILL_STROKE_MASK,d=!!(u&Bt.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(t,i),s.beginPath(),p(s,c),r&&s.setTransform(...r),(h===Bt.FILL||h===Bt.FILL_STROKE)&&s.fill(),(h===Bt.STROKE||h===Bt.FILL_STROKE)&&s.stroke(),s.restore()):((h===Bt.FILL||h===Bt.FILL_STROKE)&&s.fillText(e,t,i),(h===Bt.STROKE||h===Bt.FILL_STROKE)&&s.strokeText(e,t,i)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ke(s),x:t,y:i,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return _e(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,u=t.wordSpacing,c=t.fontDirection,h=t.textHScale*c,d=e.length,f=i.vertical,p=f?1:-1,g=i.defaultVMetrics,y=r*t.fontMatrix[0],S=t.textRenderingMode===Bt.FILL&&!i.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(h,-1):s.scale(h,1);let m;if(t.patternFill){s.save();const b=t.fillColor.getPattern(s,this,er(s),en.FILL);m=Ke(s),s.restore(),s.fillStyle=b}let v=t.lineWidth;const E=t.textMatrixScale;if(E===0||v===0){const b=t.textRenderingMode&Bt.FILL_STROKE_MASK;(b===Bt.STROKE||b===Bt.FILL_STROKE)&&(v=this.getSinglePixelWidth())}else v/=E;if(o!==1&&(s.scale(o,o),v/=o),s.lineWidth=v,i.isInvalidPDFjsFont){const b=[];let L=0;for(const R of e)b.push(R.unicode),L+=R.width;s.fillText(b.join(""),0,0),t.x+=L*y*h,s.restore(),this.compose();return}let x=0,k;for(k=0;k<d;++k){const b=e[k];if(typeof b=="number"){x+=p*b*r/1e3;continue}let L=!1;const R=(b.isSpace?u:0)+a,F=b.fontChar,N=b.accent;let z,ie,te=b.width;if(f){const pe=b.vmetric||g,Ee=-(b.vmetric?pe[1]:te*.5)*y,U=pe[2]*y;te=pe?-pe[0]:te,z=Ee/o,ie=(x+U)/o}else z=x/o,ie=0;if(i.remeasure&&te>0){const pe=s.measureText(F).width*1e3/r*o;if(te<pe&&this.isFontSubpixelAAEnabled){const Ee=te/pe;L=!0,s.save(),s.scale(Ee,1),z/=Ee}else te!==pe&&(z+=(te-pe)/2e3*r/o)}if(this.contentVisible&&(b.isInFont||i.missingFile)){if(S&&!N)s.fillText(F,z,ie);else if(this.paintChar(F,z,ie,m),N){const pe=z+r*N.offset.x/o,Ee=ie-r*N.offset.y/o;this.paintChar(N.fontChar,pe,Ee,m)}}const q=f?te*y-R*c:te*y+R*c;x+=q,L&&s.restore()}f?t.y-=x:t.x+=x*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,u=i.charSpacing,c=i.wordSpacing,h=i.textHScale*o,d=i.fontMatrix||Jm,f=e.length,p=i.textRenderingMode===Bt.INVISIBLE;let g,y,S,m;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(h,o),g=0;g<f;++g){if(y=e[g],typeof y=="number"){m=a*y*s/1e3,this.ctx.translate(m,0),i.x+=m*h;continue}const v=(y.isSpace?c:0)+u,E=r.charProcOperatorList[y.operatorListId];if(!E){ce(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(E),this.restore()),S=Y.applyTransform([y.width,0],d)[0]*s+v,t.translate(S,0),i.x+=S*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||Ke(this.ctx),s={createCanvasGraphics:o=>new R0(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Cv(e,i,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){const r=Y.makeHexColor(e,t,i);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,i){const r=Y.makeHexColor(e,t,i);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=IP(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,er(t),en.SHADING);const r=er(t);if(r){const{width:s,height:o}=t.canvas,[a,u,c,h]=Y.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,u,c-a,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ie("Should not call beginInlineImage")}beginImageData(){Ie("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ke(this.ctx),t)){const i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.current.updateRectMinMax(Ke(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||og("TODO: Support non-isolated groups."),e.knockout&&ce("Knockout groups not supported.");const i=Ke(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Y.getAxialAlignedBoundingBox(e.bbox,Ke(t));const s=[0,0,t.canvas.width,t.canvas.height];r=Y.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),u=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,u,c]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,u,c),f=d.context;f.translate(-o,-a),f.transform(...i),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Iu(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Ke(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=Y.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,i,r,s){if(_(this,$s,kv).call(this),qd(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[u,c]=Y.singularValueDecompose2dScale(Ke(this.ctx)),{viewportScale:h}=this,d=Math.ceil(o*this.outputScaleX*h),f=Math.ceil(a*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(u,0,0,-c,0,a*c),qd(this.ctx)}else qd(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new R_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,$s,Tv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=zP(e)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(e),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const u=Ke(a);a.transform(t,i,r,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-u[4],c.offsetY-u[5]);for(let h=0,d=o.length;h<d;h+=2){const f=Y.transform(u,[t,i,r,s,o[h],o[h+1]]),[p,g]=Y.applyTransform([0,0],f);a.drawImage(c.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:a,height:u,transform:c}=s,h=this.cachedCanvases.getCanvas("maskCanvas",a,u),d=h.context;d.save();const f=this.getObject(o,s);M_(d,f),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,er(t),en.FILL):i,d.fillRect(0,0,a,u),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),Kd(t,h.canvas,0,0,a,u,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ce("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ce("Dependent image isn't ready yet");return}const o=s.width,a=s.height,u=[];for(let c=0,h=r.length;c<h;c+=2)u.push({transform:[t,0,0,i,r[c],r[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,r=this.ctx;if(this.save(),!Kt){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/t,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",t,i).context;L_(u,e),s=this.applyTransferMapsToCanvas(u)}const o=this._scaleImage(s,er(r));r.imageSmoothingEnabled=D_(Ke(r),e.interpolate),Kd(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,o=e.height,u=this.cachedCanvases.getCanvas("inlineImage",s,o).context;L_(u,e),r=this.applyTransferMapsToCanvas(u)}for(const s of t)i.save(),i.transform(...s.transform),i.scale(1,-1),Kd(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===I_?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ke(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(i===0&&r===0){const u=Math.abs(t),c=Math.abs(s);if(u===c)if(e===0)o=a=1/u;else{const h=u*e;o=a=h<1?1/h:1}else if(e===0)o=1/u,a=1/c;else{const h=u*e,d=c*e;o=h<1?1/h:1,a=d<1?1/d:1}}else{const u=Math.abs(t*s-i*r),c=Math.hypot(t,i),h=Math.hypot(r,s);if(e===0)o=h/u,a=c/u;else{const d=e*u;o=h>d?h/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=i||1,r===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(r,s),o.length>0){const a=Math.max(r,s);t.setLineDash(o.map(u=>u/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};$s=new WeakSet,kv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Tv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let ol=R0;for(const n in si)ol.prototype[n]!==void 0&&(ol.prototype[si[n]]=ol.prototype[n]);var ch,hh;class Nr{static get workerPort(){return l(this,ch)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");w(this,ch,e)}static get workerSrc(){return l(this,hh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");w(this,hh,e)}}ch=new WeakMap,hh=new WeakMap,A(Nr,ch,null),A(Nr,hh,"");const Yd={UNKNOWN:0,DATA:1,ERROR:2},at={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Sn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Ie('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new xa(n.message);case"MissingPDFException":return new ba(n.message);case"PasswordException":return new ev(n.message,n.code);case"UnexpectedResponseException":return new ag(n.message,n.status);case"UnknownErrorException":return new tv(n.message,n.details);default:return new tv(n.message,n.toString())}}var Ki,a1,l1,wf;class Xu{constructor(e,t,i){A(this,Ki);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream){_(this,Ki,l1).call(this,s);return}if(s.callback){const a=s.callbackId,u=this.callbackCapabilities[a];if(!u)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===Yd.DATA)u.resolve(s.data);else if(s.callback===Yd.ERROR)u.reject(Sn(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,u=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){i.postMessage({sourceName:a,targetName:u,callback:Yd.DATA,callbackId:s.callbackId,data:c})},function(c){i.postMessage({sourceName:a,targetName:u,callback:Yd.ERROR,callbackId:s.callbackId,reason:Sn(c)})});return}if(s.streamId){_(this,Ki,a1).call(this,s);return}o(s.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,u=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},r),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,u.postMessage({sourceName:o,targetName:a,stream:at.PULL,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{vt(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:o,targetName:a,stream:at.CANCEL,streamId:s,reason:Sn(c)}),h.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Ki=new WeakSet,a1=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],u={enqueue(c,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:at.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:at.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){vt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:at.ERROR,streamId:t,reason:Sn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise(function(c){c(a(e.data,u))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:at.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:at.START_COMPLETE,streamId:t,reason:Sn(c)})})},l1=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case at.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Sn(e.reason));break;case at.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Sn(e.reason));break;case at.PULL:if(!a){s.postMessage({sourceName:i,targetName:r,stream:at.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(u){var c;u((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:at.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:at.PULL_COMPLETE,streamId:t,reason:Sn(u)})});break;case at.ENQUEUE:if(vt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case at.CLOSE:if(vt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),_(this,Ki,wf).call(this,o,t);break;case at.ERROR:vt(o,"error should have stream controller"),o.controller.error(Sn(e.reason)),_(this,Ki,wf).call(this,o,t);break;case at.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Sn(e.reason)),_(this,Ki,wf).call(this,o,t);break;case at.CANCEL:if(!a)break;new Promise(function(u){var c;u((c=a.onCancel)==null?void 0:c.call(a,Sn(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:at.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:at.CANCEL_COMPLETE,streamId:t,reason:Sn(u)})}),a.sinkCapability.reject(Sn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},wf=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Ro,dh;class $P{constructor({parsedData:e,rawData:t}){A(this,Ro);A(this,dh);w(this,Ro,e),w(this,dh,t)}getRaw(){return l(this,dh)}get(e){return l(this,Ro).get(e)??null}getAll(){return v0(l(this,Ro))}has(e){return l(this,Ro).has(e)}}Ro=new WeakMap,dh=new WeakMap;const es=Symbol("INTERNAL");var fh,ph,gh,El;class VP{constructor(e,{name:t,intent:i,usage:r}){A(this,fh,!1);A(this,ph,!1);A(this,gh,!1);A(this,El,!0);w(this,fh,!!(e&Xn.DISPLAY)),w(this,ph,!!(e&Xn.PRINT)),this.name=t,this.intent=i,this.usage=r}get visible(){if(l(this,gh))return l(this,El);if(!l(this,El))return!1;const{print:e,view:t}=this.usage;return l(this,fh)?(t==null?void 0:t.viewState)!=="OFF":l(this,ph)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==es&&Ie("Internal method `_setVisible` called."),w(this,gh,i),w(this,El,t)}}fh=new WeakMap,ph=new WeakMap,gh=new WeakMap,El=new WeakMap;var ds,Me,Sl,bl,mh,Pv;class WP{constructor(e,t=Xn.DISPLAY){A(this,mh);A(this,ds,null);A(this,Me,new Map);A(this,Sl,null);A(this,bl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,w(this,bl,e.order);for(const i of e.groups)l(this,Me).set(i.id,new VP(t,i));if(e.baseState==="OFF")for(const i of l(this,Me).values())i._setVisible(es,!1);for(const i of e.on)l(this,Me).get(i)._setVisible(es,!0);for(const i of e.off)l(this,Me).get(i)._setVisible(es,!1);w(this,Sl,this.getHash())}}isVisible(e){if(l(this,Me).size===0)return!0;if(!e)return og("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,Me).has(e.id)?l(this,Me).get(e.id).visible:(ce(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,mh,Pv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!l(this,Me).has(t))return ce(`Optional content group not found: ${t}`),!0;if(l(this,Me).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!l(this,Me).has(t))return ce(`Optional content group not found: ${t}`),!0;if(!l(this,Me).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!l(this,Me).has(t))return ce(`Optional content group not found: ${t}`),!0;if(!l(this,Me).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!l(this,Me).has(t))return ce(`Optional content group not found: ${t}`),!0;if(l(this,Me).get(t).visible)return!1}return!0}return ce(`Unknown optional content policy ${e.policy}.`),!0}return ce(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=l(this,Me).get(e);if(!i){ce(`Optional content group not found: ${e}`);return}i._setVisible(es,!!t,!0),w(this,ds,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=l(this,Me).get(r);if(s)switch(i){case"ON":s._setVisible(es,!0);break;case"OFF":s._setVisible(es,!1);break;case"Toggle":s._setVisible(es,!s.visible);break}}w(this,ds,null)}get hasInitialVisibility(){return l(this,Sl)===null||this.getHash()===l(this,Sl)}getOrder(){return l(this,Me).size?l(this,bl)?l(this,bl).slice():[...l(this,Me).keys()]:null}getGroups(){return l(this,Me).size>0?v0(l(this,Me)):null}getGroup(e){return l(this,Me).get(e)||null}getHash(){if(l(this,ds)!==null)return l(this,ds);const e=new i1;for(const[t,i]of l(this,Me))e.update(`${t}:${i.visible}`);return w(this,ds,e.hexdigest())}}ds=new WeakMap,Me=new WeakMap,Sl=new WeakMap,bl=new WeakMap,mh=new WeakSet,Pv=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=_(this,mh,Pv).call(this,s);else if(l(this,Me).has(s))o=l(this,Me).get(s).visible;else return ce(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class GP{constructor(e,{disableRange:t=!1,disableStream:i=!1}){vt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,c)=>{this._onReceiveData({begin:u,chunk:c})}),e.addProgressListener((u,c)=>{this._onProgress({loaded:u,total:c})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});vt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){vt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new XP(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new KP(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class XP{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=E0(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class KP{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function qP(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=u(h),h=c(h),s(h)}if(t=o(n),t){const h=c(t);return s(h)}if(t=i("filename","i").exec(n),t){t=t[1];let h=a(t);return h=c(h),s(h)}function i(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=lg(d);d=f.decode(p),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function o(h){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,y,S,m]=f;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[S,m]}const g=[];for(let y=0;y<d.length&&y in d;++y){let[S,m]=d[y];m=a(m),S&&(m=unescape(m),y===0&&(m=u(m))),g.push(m)}return g.join("")}function a(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function u(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),g=h.slice(d+1).replace(/^[^']*'/,"");return r(f,g)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,S){return String.fromCharCode(parseInt(S,16))}),r(f,g);try{g=atob(g)}catch{}return r(f,g)})}return""}function x0({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function C0(n){const e=n("Content-Disposition");if(e){let t=qP(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(E0(t))return t}return null}function fg(n,e){return n===404||n===0&&e.startsWith("file:")?new ba('Missing PDF "'+e+'".'):new ag(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function u1(n){return n===200||n===206}function c1(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function h1(n){const e=new Headers;for(const t in n){const i=n[t];i!==void 0&&e.append(t,i)}return e}function d1(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ce(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class F_{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return vt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new YP(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new QP(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class YP{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=h1(this._stream.httpHeaders);const i=t.url;fetch(i,c1(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!u1(r.status))throw fg(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=u=>r.headers.get(u),{allowRangeRequests:o,suggestedLength:a}=x0({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=C0(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new xa("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:d1(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class QP{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=h1(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const s=r.url;fetch(s,c1(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!u1(o.status))throw fg(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:d1(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Zg=200,em=206;function JP(n){const e=n.response;return typeof e!="string"?e:lg(e).buffer}class ZP{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const r={begin:e,end:t};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=em):r.expectedStatus=Zg,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){var u,c,h;const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(u=i.onError)==null||u.call(i,r.status);return}const s=r.status||Zg;if(!(s===Zg&&i.expectedStatus===em)&&s!==i.expectedStatus){(c=i.onError)==null||c.call(i,r.status);return}const a=JP(r);if(s===em){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);i.onDone({begin:parseInt(f[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):(h=i.onError)==null||h.call(i,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class eR{constructor(e){this._source=e,this._manager=new ZP(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return vt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new tR(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new nR(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class tR{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=o=>t.getResponseHeader(o),{allowRangeRequests:r,suggestedLength:s}=x0({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=C0(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=fg(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class nR{constructor(e,t,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=fg(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const f1=/^file:\/\/\/[a-zA-Z]:\//;function iR(n){const e=Yi.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class rR{constructor(e){this.source=e,this.url=iR(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return vt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new aR(this):new sR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new lR(this,e,t):new oR(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class p1{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new xa("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class g1{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function mp(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class sR extends p1{constructor(e){super(e);const t=i=>{if(i.statusCode===404){const a=new ba(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=x0({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=C0(r)};if(this._request=null,this._url.protocol==="http:"){const i=Yi.get("http");this._request=i.request(mp(this._url,e.httpHeaders),t)}else{const i=Yi.get("https");this._request=i.request(mp(this._url,e.httpHeaders),t)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class oR extends g1{constructor(e,t,i){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const r=s=>{if(s.statusCode===404){const o=new ba(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Yi.get("http");this._request=s.request(mp(this._url,this._httpHeaders),r)}else{const s=Yi.get("https");this._request=s.request(mp(this._url,this._httpHeaders),r)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class aR extends p1{constructor(e){super(e);let t=decodeURIComponent(this._url.path);f1.test(this._url.href)&&(t=t.replace(/^\//,""));const i=Yi.get("fs");i.promises.lstat(t).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new ba(`Missing PDF "${t}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class lR extends g1{constructor(e,t,i){super(e);let r=decodeURIComponent(this._url.path);f1.test(this._url.href)&&(r=r.replace(/^\//,""));const s=Yi.get("fs");this._setReadableStream(s.createReadStream(r,{start:t,end:i-1}))}}const uR=1e5,ln=30,cR=.8;var q_,fs,cn,vh,yh,Lo,mr,wh,_h,Mo,xl,Cl,ps,kl,Ah,Tl,Do,Eh,Sh,Io,Fo,gs,Pl,Vr,m1,v1,Rv,qi,_f,y1,w1;const $t=class $t{constructor({textContentSource:e,container:t,viewport:i}){A(this,Vr);A(this,fs,Promise.withResolvers());A(this,cn,null);A(this,vh,!1);A(this,yh,!!((q_=globalThis.FontInspector)!=null&&q_.enabled));A(this,Lo,null);A(this,mr,null);A(this,wh,0);A(this,_h,0);A(this,Mo,null);A(this,xl,null);A(this,Cl,0);A(this,ps,0);A(this,kl,Object.create(null));A(this,Ah,[]);A(this,Tl,null);A(this,Do,[]);A(this,Eh,new WeakMap);A(this,Sh,null);var u;if(e instanceof ReadableStream)w(this,Tl,e);else if(typeof e=="object")w(this,Tl,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,cn,w(this,xl,t)),w(this,ps,i.scale*(globalThis.devicePixelRatio||1)),w(this,Cl,i.rotation),w(this,mr,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;w(this,Sh,[1,0,0,-1,-o,a+s]),w(this,_h,r),w(this,wh,s),_(u=$t,qi,y1).call(u),ma(t,i),l(this,fs).promise.catch(()=>{}).then(()=>{l($t,Pl).delete(this),w(this,mr,null),w(this,kl,null)})}render(){const e=()=>{l(this,Mo).read().then(({value:t,done:i})=>{if(i){l(this,fs).resolve();return}l(this,Lo)??w(this,Lo,t.lang),Object.assign(l(this,kl),t.styles),_(this,Vr,m1).call(this,t.items),e()},l(this,fs).reject)};return w(this,Mo,l(this,Tl).getReader()),l($t,Pl).add(this),e(),l(this,fs).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==l(this,Cl)&&(t==null||t(),w(this,Cl,r),ma(l(this,xl),{rotation:r})),i!==l(this,ps)){t==null||t(),w(this,ps,i);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:_(s=$t,qi,_f).call(s,l(this,Lo))};for(const a of l(this,Do))o.properties=l(this,Eh).get(a),o.div=a,_(this,Vr,Rv).call(this,o)}}cancel(){var t;const e=new xa("TextLayer task cancelled.");(t=l(this,Mo))==null||t.cancel(e).catch(()=>{}),w(this,Mo,null),l(this,fs).reject(e)}get textDivs(){return l(this,Do)}get textContentItemsStr(){return l(this,Ah)}static cleanup(){if(!(l(this,Pl).size>0)){l(this,Io).clear();for(const{canvas:e}of l(this,Fo).values())e.remove();l(this,Fo).clear()}}};fs=new WeakMap,cn=new WeakMap,vh=new WeakMap,yh=new WeakMap,Lo=new WeakMap,mr=new WeakMap,wh=new WeakMap,_h=new WeakMap,Mo=new WeakMap,xl=new WeakMap,Cl=new WeakMap,ps=new WeakMap,kl=new WeakMap,Ah=new WeakMap,Tl=new WeakMap,Do=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,Io=new WeakMap,Fo=new WeakMap,gs=new WeakMap,Pl=new WeakMap,Vr=new WeakSet,m1=function(e){var r,s;if(l(this,vh))return;(s=l(this,mr)).ctx??(s.ctx=_(r=$t,qi,_f).call(r,l(this,Lo)));const t=l(this,Do),i=l(this,Ah);for(const o of e){if(t.length>uR){ce("Ignoring additional textDivs for performance reasons."),w(this,vh,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=l(this,cn);w(this,cn,document.createElement("span")),l(this,cn).classList.add("markedContent"),o.id!==null&&l(this,cn).setAttribute("id",`${o.id}`),a.append(l(this,cn))}else o.type==="endMarkedContent"&&w(this,cn,l(this,cn).parentNode);continue}i.push(o.str),_(this,Vr,v1).call(this,o)}},v1=function(e){var y;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,Do).push(t);const r=Y.transform(l(this,Sh),e.transform);let s=Math.atan2(r[1],r[0]);const o=l(this,kl)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=l(this,yh)&&o.fontSubstitution||o.fontFamily,u=Math.hypot(r[2],r[3]),c=u*_(y=$t,qi,w1).call(y,a,l(this,Lo));let h,d;s===0?(h=r[4],d=r[5]-c):(h=r[4]+c*Math.sin(s),d=r[5]-c*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;l(this,cn)===l(this,xl)?(p.left=`${(100*h/l(this,_h)).toFixed(2)}%`,p.top=`${(100*d/l(this,wh)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(l($t,gs)*u).toFixed(2)}px)`,p.fontFamily=a,i.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,yh)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);S!==m&&Math.max(S,m)/Math.min(S,m)>1.5&&(g=!0)}if(g&&(i.canvasWidth=o.vertical?e.height:e.width),l(this,Eh).set(t,i),l(this,mr).div=t,l(this,mr).properties=i,_(this,Vr,Rv).call(this,l(this,mr)),i.hasText&&l(this,cn).append(t),i.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),l(this,cn).append(S)}},Rv=function(e){const{div:t,properties:i,ctx:r,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let u="";if(l($t,gs)>1&&(u=`scale(${1/l($t,gs)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=a,{canvasWidth:h,fontSize:d}=i;(s!==d||o!==c)&&(r.font=`${d*l(this,ps)}px ${c}`,e.prevFontSize=d,e.prevFontFamily=c);const{width:f}=r.measureText(t.textContent);f>0&&(u=`scaleX(${h*l(this,ps)/f}) ${u}`)}i.angle!==0&&(u=`rotate(${i.angle}deg) ${u}`),u.length>0&&(a.transform=u)},qi=new WeakSet,_f=function(e=null){let t=l(this,Fo).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,Fo).set(e,t)}return t},y1=function(){if(l(this,gs)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),w(this,gs,e.getBoundingClientRect().height),e.remove()},w1=function(e,t){const i=l(this,Io).get(e);if(i)return i;const r=_(this,qi,_f).call(this,t),s=r.font;r.canvas.width=r.canvas.height=ln,r.font=`${ln}px ${e}`;const o=r.measureText("");let a=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);if(a){const d=a/(a+u);return l(this,Io).set(e,d),r.canvas.width=r.canvas.height=0,r.font=s,d}r.strokeStyle="red",r.clearRect(0,0,ln,ln),r.strokeText("g",0,0);let c=r.getImageData(0,0,ln,ln).data;u=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){u=Math.ceil(d/4/ln);break}r.clearRect(0,0,ln,ln),r.strokeText("A",0,ln),c=r.getImageData(0,0,ln,ln).data,a=0;for(let d=0,f=c.length;d<f;d+=4)if(c[d]>0){a=ln-Math.floor(d/4/ln);break}r.canvas.width=r.canvas.height=0,r.font=s;const h=a?a/(a+u):cR;return l(this,Io).set(e,h),h},A($t,qi),A($t,Io,new Map),A($t,Fo,new Map),A($t,gs,null),A($t,Pl,new Set);let du=$t;function hR(){LS("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...i}=arguments[0],r=Object.keys(i);r.length>0&&ce("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new du({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function dR(){LS("`updateTextLayer`, please use `TextLayer` instead.")}class Ic{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var u;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Ic.shouldBuildText(a))(u=s==null?void 0:s.attributes)!=null&&u.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)r(c)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const fR=65536,pR=100,gR=5e3,mR=Kt?kP:pP,vR=Kt?TP:PS,yR=Kt?CP:fP,wR=Kt?PP:RS;function _R(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Lv,{docId:t}=e,i=n.url?AR(n.url):null,r=n.data?ER(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,u=n.range instanceof _1?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:fR;let h=n.worker instanceof al?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!A0(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,y=n.CMapReaderFactory||vR,S=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||wR,v=n.stopAtErrors!==!0,E=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,x=n.isEvalSupported!==!1,k=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Kt,b=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,L=typeof n.disableFontFace=="boolean"?n.disableFontFace:Kt,R=n.fontExtraProperties===!0,F=n.enableXfa===!0,N=n.ownerDocument||globalThis.document,z=n.disableRange===!0,ie=n.disableStream===!0,te=n.disableAutoFetch===!0,q=n.pdfBug===!0,pe=n.enableHWA===!0,Ee=u?u.length:n.length??NaN,U=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Kt&&!L,D=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===PS&&m===RS&&p&&S&&Vu(p,document.baseURI)&&Vu(S,document.baseURI),Q=n.canvasFactory||new mR({ownerDocument:N,enableHWA:pe}),ne=n.filterFactory||new yR({docId:t,ownerDocument:N}),ue=null;nP(d);const ae={canvasFactory:Q,filterFactory:ne};if(D||(ae.cMapReaderFactory=new y({baseUrl:p,isCompressed:g}),ae.standardFontDataFactory=new m({baseUrl:S})),!h){const nt={verbosity:d,port:Nr.workerPort};h=nt.port?al.fromPort(nt):new al(nt),e._worker=h}const Te={docId:t,apiVersion:"4.4.168",data:r,password:a,disableAutoFetch:te,rangeChunkSize:c,length:Ee,docBaseUrl:f,enableXfa:F,evaluatorOptions:{maxImageSize:E,disableFontFace:L,ignoreErrors:v,isEvalSupported:x,isOffscreenCanvasSupported:k,canvasMaxAreaInBytes:b,fontExtraProperties:R,useSystemFonts:U,cMapUrl:D?p:null,standardFontDataUrl:D?S:null}},Ue={disableFontFace:L,fontExtraProperties:R,ownerDocument:N,pdfBug:q,styleElement:ue,loadingParams:{disableAutoFetch:te,enableXfa:F}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const nt=h.messageHandler.sendWithPromise("GetDocRequest",Te,r?[r.buffer]:null);let je;if(u)je=new GP(u,{disableRange:z,disableStream:ie});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");je=(an=>Kt?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Vu(an.url)?new F_(an):new rR(an):Vu(an.url)?new F_(an):new eR(an))({url:i,length:Ee,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:z,disableStream:ie})}return nt.then(Se=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const an=new Xu(t,Se,h.port),ka=new CR(an,e,je,Ue,ae);e._transport=ka,an.send("Ready",null)})}).catch(e._capability.reject),e}function AR(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Kt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function ER(n){if(Kt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return lg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function N_(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Lp;const Mp=class Mp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${En(Mp,Lp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Lp=new WeakMap,A(Mp,Lp,0);let Lv=Mp,_1=class{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ie("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class SR{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return _e(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ms,vr,Yn,ja,Af;class bR{constructor(e,t,i,r=!1){A(this,Yn);A(this,ms,null);A(this,vr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new E_:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new A1,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new wd({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return _e(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=os.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:u=null,pageColors:c=null,printAnnotationStorage:h=null}){var E,x;(E=this._stats)==null||E.time("Overall");const d=this._transport.getRenderingIntent(i,r,h),{renderingIntent:f,cacheKey:p}=d;w(this,vr,!1),_(this,Yn,Af).call(this),a||(a=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const y=!!(f&Xn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(d));const S=k=>{var b;g.renderTasks.delete(m),(this._maybeCleanupAfterRender||y)&&w(this,vr,!0),_(this,Yn,ja).call(this,!y),k?(m.capability.reject(k),this._abortOperatorList({intentState:g,reason:k instanceof Error?k:new Error(k)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(b=globalThis.Stats)!=null&&b.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},m=new Dv({callback:S,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(m);const v=m.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([k,b])=>{var L;if(this.destroyed){S();return}if((L=this._stats)==null||L.time("Rendering"),!(b.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");m.initializeGraphics({transparency:k,optionalContentConfig:b}),m.operatorListChanged()}).catch(S),v}getOperatorList({intent:e="display",annotationMode:t=os.ENABLE,printAnnotationStorage:i=null}={}){var u;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Ic.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:u,done:c}){if(c){i(a);return}a.lang??(a.lang=u.lang),Object.assign(a.styles,u.styles),a.items.push(...u.items),s()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),w(this,vr,!1),_(this,Yn,Af).call(this),Promise.all(e)}cleanup(e=!1){w(this,vr,!0);const t=_(this,Yn,ja).call(this,!1);return e&&t&&this._stats&&(this._stats=new E_),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&_(this,Yn,ja).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i}){const{map:r,transfer:s}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},s).getReader(),u=this._intentStates.get(t);u.streamReader=a;const c=()=>{a.read().then(({value:h,done:d})=>{if(d){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),c())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const d of u.renderTasks)d.operatorListChanged();_(this,Yn,ja).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};c()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof _0){let r=pR;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new xa(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ms=new WeakMap,vr=new WeakMap,Yn=new WeakSet,ja=function(e=!1){if(_(this,Yn,Af).call(this),!l(this,vr)||this.destroyed)return!1;if(e)return w(this,ms,setTimeout(()=>{w(this,ms,null),_(this,Yn,ja).call(this,!1)},gR)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,vr,!1),!0},Af=function(){l(this,ms)&&(clearTimeout(l(this,ms)),w(this,ms,null))};var No,Dp;class xR{constructor(){A(this,No,new Set);A(this,Dp,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};l(this,Dp).then(()=>{for(const r of l(this,No))r.call(this,i)})}addEventListener(e,t){l(this,No).add(t)}removeEventListener(e,t){l(this,No).delete(t)}terminate(){l(this,No).clear()}}No=new WeakMap,Dp=new WeakMap;const ar={isWorkerDisabled:!1,fakeWorkerId:0};Kt&&(ar.isWorkerDisabled=!0,Nr.workerSrc||(Nr.workerSrc="./pdf.worker.mjs")),ar.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const i=new URL(e,t);return t.origin===i.origin},ar.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Oo,Rl,Ef,Ll,Sf;const xn=class xn{constructor({name:e=null,port:t=null,verbosity:i=iP()}={}){A(this,Rl);var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=l(xn,Oo))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(l(xn,Oo)||w(xn,Oo,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Kt?Promise.all([Yi.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Xu("main","worker",e),this._messageHandler.on("ready",function(){}),_(this,Rl,Ef).call(this)}_initialize(){if(ar.isWorkerDisabled||l(xn,Ll,Sf)){this._setupFakeWorker();return}let{workerSrc:e}=xn;try{ar.isSameOrigin(window.location.href,e)||(e=ar.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Xu("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",a=>{if(s.abort(),this.destroyed||!a){r();return}this._messageHandler=i,this._port=t,this._webWorker=t,_(this,Rl,Ef).call(this)}),i.on("ready",a=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{og("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){ar.isWorkerDisabled||(ce("Setting up fake worker."),ar.isWorkerDisabled=!0),xn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new xR;this._port=t;const i=`fake${ar.fakeWorkerId++}`,r=new Xu(i+"_worker",i,t);e.setup(r,t),this._messageHandler=new Xu(i,i+"_worker",t),_(this,Rl,Ef).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=l(xn,Oo))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=l(this,Oo))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new xn(e)}static get workerSrc(){if(Nr.workerSrc)return Nr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return _e(this,"_setupFakeWorkerGlobal",(async()=>l(this,Ll,Sf)?l(this,Ll,Sf):(await import(this.workerSrc)).WorkerMessageHandler)())}};Oo=new WeakMap,Rl=new WeakSet,Ef=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Ll=new WeakSet,Sf=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},A(xn,Ll),A(xn,Oo);let al=xn;var yr,Fi,Ml,Dl,Ni,jo,Ku;class CR{constructor(e,t,i,r,s){A(this,jo);A(this,yr,new Map);A(this,Fi,new Map);A(this,Ml,new Map);A(this,Dl,new Map);A(this,Ni,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new A1,this.fontLoader=new bP({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return _e(this,"annotationStorage",new b0)}getRenderingIntent(e,t=os.ENABLE,i=null,r=!1){let s=Xn.DISPLAY,o=Sv;switch(e){case"any":s=Xn.ANY;break;case"display":break;case"print":s=Xn.PRINT;break;default:ce(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case os.DISABLE:s+=Xn.ANNOTATIONS_DISABLE;break;case os.ENABLE:break;case os.ENABLE_FORMS:s+=Xn.ANNOTATIONS_FORMS;break;case os.ENABLE_STORAGE:s+=Xn.ANNOTATIONS_STORAGE,o=(s&Xn.PRINT&&i instanceof s1?i:this.annotationStorage).serializable;break;default:ce(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(s+=Xn.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=l(this,Ni))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of l(this,Fi).values())e.push(r._destroy());l(this,Fi).clear(),l(this,Ml).clear(),l(this,Dl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),l(this,yr).clear(),this.filterFactory.destroy(),du.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new xa("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{vt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}vt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",i=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:a.loaded,total:a.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{vt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}vt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new SR(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new ev(i.message,i.code);break;case"InvalidPDFException":r=new xS(i.message);break;case"MissingPDFException":r=new ba(i.message);break;case"UnexpectedResponseException":r=new ag(i.message,i.status);break;case"UnknownErrorException":r=new tv(i.message,i.details);break;default:Ie("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(w(this,Ni,Promise.withResolvers()),t.onPassword){const r=s=>{s instanceof Error?l(this,Ni).reject(s):l(this,Ni).resolve({password:s})};try{t.onPassword(r,i.code)}catch(s){l(this,Ni).reject(s)}}else l(this,Ni).reject(new ev(i.message,i.code));return l(this,Ni).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;l(this,Fi).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:u,pdfBug:c}=this._params;if("error"in s){const p=s.error;ce(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const h=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new xP(s,{disableFontFace:a,inspectFont:h});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=s;vt(f,"The imageRef must be defined.");for(const p of l(this,Fi).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{var u;if(this.destroyed)return;const a=l(this,Fi).get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){(u=o==null?void 0:o.bitmap)==null||u.close();return}switch(s){case"Image":a.objs.resolve(i,o),(o==null?void 0:o.dataLen)>JT&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ce("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=l(this,Ml).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&l(this,Dl).set(s.refStr,e);const o=new bR(t,s,this,this._params.pdfBug);return l(this,Fi).set(t,o),o});return l(this,Ml).set(t,r),r}getPageIndex(e){return N_(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _(this,jo,Ku).call(this,"GetFieldObjects")}hasJSActions(){return _(this,jo,Ku).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,jo,Ku).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,jo,Ku).call(this,"GetOptionalContentConfig").then(t=>new WP(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=l(this,yr).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new $P(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return l(this,yr).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of l(this,Fi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,yr).clear(),this.filterFactory.destroy(!0),du.cleanup()}}cachedPageNumber(e){if(!N_(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,Dl).get(t)??null}}yr=new WeakMap,Fi=new WeakMap,Ml=new WeakMap,Dl=new WeakMap,Ni=new WeakMap,jo=new WeakSet,Ku=function(e,t=null){const i=l(this,yr).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return l(this,yr).set(e,r),r};const Qd=Symbol("INITIAL_DATA");var hi,bh,Mv;class A1{constructor(){A(this,bh);A(this,hi,Object.create(null))}get(e,t=null){if(t){const r=_(this,bh,Mv).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=l(this,hi)[e];if(!i||i.data===Qd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=l(this,hi)[e];return!!t&&t.data!==Qd}resolve(e,t=null){const i=_(this,bh,Mv).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in l(this,hi)){const{data:i}=l(this,hi)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}w(this,hi,Object.create(null))}*[Symbol.iterator](){for(const e in l(this,hi)){const{data:t}=l(this,hi)[e];t!==Qd&&(yield[e,t])}}}hi=new WeakMap,bh=new WeakSet,Mv=function(e){var t;return(t=l(this,hi))[e]||(t[e]={...Promise.withResolvers(),data:Qd})};var vs;class kR{constructor(e){A(this,vs,null);w(this,vs,e),this.onContinue=null}get promise(){return l(this,vs).capability.promise}cancel(e=0){l(this,vs).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=l(this,vs).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=l(this,vs);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}vs=new WeakMap;var ys,zo;const ao=class ao{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:u,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){A(this,ys,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=u,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new kR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,u;if(this.cancelled)return;if(this._canvas){if(l(ao,zo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(ao,zo).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new ol(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),l(this,ys)&&(window.cancelAnimationFrame(l(this,ys)),w(this,ys,null)),l(ao,zo).delete(this._canvas),this.callback(e||new _0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?w(this,ys,window.requestAnimationFrame(()=>{w(this,ys,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(ao,zo).delete(this._canvas),this.callback())))}};ys=new WeakMap,zo=new WeakMap,A(ao,zo,new WeakSet);let Dv=ao;const TR="4.4.168",PR="19fbc8998";function O_(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Fu(n){return Math.max(0,Math.min(255,255*n))}class j_{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Fu(e),[e,e,e]}static G_HTML([e]){const t=O_(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(Fu)}static RGB_HTML(e){return`#${e.map(O_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[Fu(1-Math.min(1,e+r)),Fu(1-Math.min(1,i+r)),Fu(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class E1{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const u=a.target.options,c=u.selectedIndex===-1?"":u[u.selectedIndex].value;r.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[u,c]of Object.entries(o))if(c!=null)switch(u){case"class":c.length&&e.setAttribute(u,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var d,f;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const a=s!=="richText",u=e.div;if(u.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=p}a&&u.setAttribute("class","xfaLayer xfaFont");const c=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),a&&Ic.shouldBuildText(r.name)&&c.push(p)}return{textDivs:c}}const h=[[r,-1,o]];for(;h.length>0;){const[p,g,y]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const S=p.children[++h.at(-1)[1]];if(S===null)continue;const{name:m}=S;if(m==="#text"){const E=document.createTextNode(S.value);c.push(E),y.append(E);continue}const v=(d=S==null?void 0:S.attributes)!=null&&d.xmlns?document.createElementNS(S.attributes.xmlns,m):document.createElement(m);if(y.append(v),S.attributes&&this.setAttributes({html:v,element:S,storage:t,intent:s,linkService:i}),((f=S.children)==null?void 0:f.length)>0)h.push([S,-1,v]);else if(S.value){const E=document.createTextNode(S.value);a&&Ic.shouldBuildText(m)&&c.push(E),v.append(E)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ed=1e3,RR=9,ya=new WeakSet;function Or(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class LR{static create(e){switch(e.data.annotationType){case ht.LINK:return new S1(e);case ht.TEXT:return new MR(e);case ht.WIDGET:switch(e.data.fieldType){case"Tx":return new DR(e);case"Btn":return e.data.radioButton?new C1(e):e.data.checkBox?new FR(e):new NR(e);case"Ch":return new OR(e);case"Sig":return new IR(e)}return new Ca(e);case ht.POPUP:return new Fv(e);case ht.FREETEXT:return new L1(e);case ht.LINE:return new zR(e);case ht.SQUARE:return new HR(e);case ht.CIRCLE:return new BR(e);case ht.POLYLINE:return new M1(e);case ht.CARET:return new $R(e);case ht.INK:return new D1(e);case ht.POLYGON:return new UR(e);case ht.HIGHLIGHT:return new VR(e);case ht.UNDERLINE:return new WR(e);case ht.SQUIGGLY:return new GR(e);case ht.STRIKEOUT:return new XR(e);case ht.STAMP:return new I1(e);case ht.FILEATTACHMENT:return new KR(e);default:return new st(e)}}}var Ho,Il,Fl,xh,Iv;const L0=class L0{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){A(this,xh);A(this,Ho,null);A(this,Il,!1);A(this,Fl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get hasPopupData(){return L0._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;l(this,Ho)||w(this,Ho,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&_(this,xh,Iv).call(this,t),(i=l(this,Fl))==null||i.popup.updateEdited(e)}resetEdited(){var e;l(this,Ho)&&(_(this,xh,Iv).call(this,l(this,Ho).rect),(e=l(this,Fl))==null||e.popup.resetEdited(),w(this,Ho,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Ca||(s.tabIndex=Ed);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Fv){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:u}=Or(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(y>0||S>0){const v=`calc(${y}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;o.borderRadius=v}else if(this instanceof C1){const v=`calc(${a}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;o.borderRadius=v}switch(t.borderStyle.style){case Du.SOLID:o.borderStyle="solid";break;case Du.DASHED:o.borderStyle="dashed";break;case Du.BEVELED:ce("Unimplemented border style: beveled");break;case Du.INSET:ce("Unimplemented border style: inset");break;case Du.UNDERLINE:o.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(w(this,Il,!0),o.borderColor=Y.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):o.borderWidth=0}const c=Y.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=r.rawDims;o.left=`${100*(c[0]-f)/h}%`,o.top=`${100*(c[1]-p)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/h}%`,o.height=`${100*u/d}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=Or(this.data.rect);let a,u;e%180===0?(a=100*s/i,u=100*o/r):(a=100*o/i,u=100*s/r),t.style.width=`${a}%`,t.style.height=`${u}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[i]=j_[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:j_[`${o}_rgb`](a)})};return _e(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];if(o){const a={detail:{[r]:s},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,S,m,v]=e.subarray(2,6);if(r===y&&s===S&&t===m&&i===v)return}const{style:o}=this.container;let a;if(l(this,Il)){const{borderColor:y,borderWidth:S}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const u=r-t,c=s-i,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let y=2,S=e.length;y<S;y+=8){const m=e[y],v=e[y+1],E=e[y+2],x=e[y+3],k=h.createElement("rect"),b=(E-t)/u,L=(s-v)/c,R=(m-E)/u,F=(v-x)/c;k.setAttribute("x",b),k.setAttribute("y",L),k.setAttribute("width",R),k.setAttribute("height",F),p.append(k),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${b}" y="${L}" width="${R}" height="${F}"/>`)}l(this,Il)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=w(this,Fl,new Fv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){Ie("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===t)continue;const u=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!ya.has(c)){ce(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:u,domElement:c})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&ya.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Ho=new WeakMap,Il=new WeakMap,Fl=new WeakMap,xh=new WeakSet,Iv=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:u}}}}=this;i==null||i.splice(0,4,...e);const{width:c,height:h}=Or(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+u)/o}%`,r===0?(t.width=`${100*c/s}%`,t.height=`${100*h/o}%`):this.setRotation(r)};let st=L0;var Nn,eo,b1,x1;class S1 extends st{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});A(this,Nn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action),s=!0):t.attachment?(_(this,Nn,b1).call(this,r,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(_(this,Nn,x1).call(this,r,t.setOCGState),s=!0):t.dest?(this._bindLink(r,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&_(this,Nn,eo).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),_(this,Nn,eo).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),_(this,Nn,eo).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),_(this,Nn,eo).call(this),!this._fieldObjects){ce('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var d;r==null||r();const{fields:s,refs:o,include:a}=i,u=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:y}of g)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===a&&u.push(g)}else for(const f of Object.values(this._fieldObjects))u.push(...f);const c=this.annotationStorage,h=[];for(const f of u){const{id:p}=f;switch(h.push(p),f.type){case"text":{const y=f.defaultValue||"";c.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;c.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";c.setValue(p,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!ya.has(g)){ce(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Nn=new WeakSet,eo=function(){this.container.setAttribute("data-internal-link","")},b1=function(t,i,r=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},_(this,Nn,eo).call(this)},x1=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),_(this,Nn,eo).call(this)};class MR extends st{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ca extends st{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return gn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,i,r){var s,o,a;for(const[u,c]of i)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,u,c,r),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Y.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||RR,s=e.style;let o;const a=2,u=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(c/(qg*r))||1,d=c/h;o=Math.min(r,u(d/qg))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,u(c/qg))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=Y.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class DR extends Ca{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const u=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;u&&a.length>u&&(a=a.slice(0,u));let c=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",c??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),ya.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Ed,this._setRequired(i,this.data.required),u&&(i.maxLength=u),i.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var y;if(h.focused)return;const{target:g}=p;h.userValue&&(g.value=h.userValue),h.lastCommittedValue=g.value,h.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(y){h.userValue=y.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),y.target.value=h.userValue},formattedValue(y){const{formattedValue:S}=y.detail;h.formattedValue=S,S!=null&&y.target!==document.activeElement&&(y.target.value=S),e.setValue(t,{formattedValue:S})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var E;const{charLimit:S}=y.detail,{target:m}=y;if(S===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",S);let v=h.userValue;!v||v.length<=S||(v=v.slice(0,S),m.value=h.userValue=v,e.setValue(t,{value:v}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),i.addEventListener("keydown",p=>{var S;h.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(h.commitKey=3),g===-1)return;const{value:y}=p.target;h.lastCommittedValue!==y&&(h.lastCommittedValue=y,h.userValue=y,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,i.addEventListener("blur",p=>{var y,S;if(!h.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(h.focused=!1);const{value:g}=p.target;h.userValue=g,h.lastCommittedValue!==g&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",p=>{var k;h.lastCommittedValue=null;const{data:g,target:y}=p,{value:S,selectionStart:m,selectionEnd:v}=y;let E=m,x=v;switch(p.inputType){case"deleteWordBackward":{const b=S.substring(0,m).match(/\w*[^\w]*$/);b&&(E-=b[0].length);break}case"deleteWordForward":{const b=S.substring(m).match(/^[^\w]*\w*/);b&&(x+=b[0].length);break}case"deleteContentBackward":m===v&&(E-=1);break;case"deleteContentForward":m===v&&(x+=1);break}p.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:g||"",willCommit:!1,selStart:E,selEnd:x}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/u;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class IR extends Ca{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class FR extends Ca{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return ya.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Ed,s.addEventListener("change",o=>{const{name:a,checked:u}=o.target;for(const c of this._getElementsByName(a,i)){const h=u&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}e.setValue(i,{value:u})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(i,{value:u.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class C1 extends Ca{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(ya.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=Ed,s.addEventListener("change",o=>{const{name:a,checked:u}=o.target;for(const c of this._getElementsByName(a,i))e.setValue(c.id,{value:!1});e.setValue(i,{value:u})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const u={value:c=>{const h=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=h&&d.id===i;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(u,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class NR extends S1{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class OR extends Ca{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");ya.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Ed;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,i.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),o=()=>{h.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let u=a(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const d={value(f){o==null||o();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const y of r.options)y.selected=g.has(y.value);e.setValue(t,{value:a(!0)}),u=a(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,g=f.detail.remove;p[g].selected=!1,r.remove(g),p.length>0&&Array.prototype.findIndex.call(p,S=>S.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),u=a(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),u=a(!1)},insert(f){const{index:p,displayValue:g,exportValue:y}=f.detail.insert,S=r.children[p],m=document.createElement("option");m.textContent=g,m.value=y,S?S.before(m):r.append(m),e.setValue(t,{value:a(!0),items:c(f)}),u=a(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const g of p){const{displayValue:y,exportValue:S}=g,m=document.createElement("option");m.textContent=y,m.value=S,r.append(m)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),u=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(t,{value:a(!0)}),u=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),r.addEventListener("input",h=>{var p;const d=a(!0),f=a(!1);e.setValue(t,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Fv extends st{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:st._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new jR({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${kS}${i}`).join(",")),this.container}}var Nl,Ip,Fp,Ol,Bo,et,wr,Uo,Ch,kh,jl,_r,di,Ar,Th,Er,Ph,$o,Vo,Fe,bf,Nv,k1,T1,P1,R1,xf,Cf,Ov;class jR{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:u,rect:c,parentRect:h,open:d}){A(this,Fe);A(this,Nl,_(this,Fe,P1).bind(this));A(this,Ip,_(this,Fe,Ov).bind(this));A(this,Fp,_(this,Fe,Cf).bind(this));A(this,Ol,_(this,Fe,xf).bind(this));A(this,Bo,null);A(this,et,null);A(this,wr,null);A(this,Uo,null);A(this,Ch,null);A(this,kh,null);A(this,jl,null);A(this,_r,!1);A(this,di,null);A(this,Ar,null);A(this,Th,null);A(this,Er,null);A(this,Ph,null);A(this,$o,null);A(this,Vo,!1);var f;w(this,et,e),w(this,Ph,r),w(this,wr,o),w(this,Er,a),w(this,kh,u),w(this,Bo,t),w(this,Th,c),w(this,jl,h),w(this,Ch,i),w(this,Uo,MS.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",l(this,Ol)),p.addEventListener("mouseenter",l(this,Fp)),p.addEventListener("mouseleave",l(this,Ip)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",l(this,Nl));l(this,et).hidden=!0,d&&_(this,Fe,xf).call(this)}render(){if(l(this,di))return;const e=w(this,di,document.createElement("div"));if(e.className="popup",l(this,Bo)){const s=e.style.outlineColor=Y.makeHexColor(...l(this,Bo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=Y.makeHexColor(...l(this,Bo).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=l(this,Ph),e.append(t),l(this,Uo)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:l(this,Uo).toLocaleDateString(),time:l(this,Uo).toLocaleTimeString()})),t.append(s)}const r=l(this,Fe,bf);if(r)E1.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(l(this,wr));e.append(s)}l(this,et).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const a=r[s];i.append(document.createTextNode(a)),s<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;l(this,$o)||w(this,$o,{contentsObj:l(this,wr),richText:l(this,Er)}),e&&w(this,Ar,null),t&&(w(this,Er,_(this,Fe,T1).call(this,t)),w(this,wr,null)),(i=l(this,di))==null||i.remove(),w(this,di,null)}resetEdited(){var e;l(this,$o)&&({contentsObj:En(this,wr)._,richText:En(this,Er)._}=l(this,$o),w(this,$o,null),(e=l(this,di))==null||e.remove(),w(this,di,null),w(this,Ar,null))}forceHide(){w(this,Vo,this.isVisible),l(this,Vo)&&(l(this,et).hidden=!0)}maybeShow(){l(this,Vo)&&(l(this,di)||_(this,Fe,Cf).call(this),w(this,Vo,!1),l(this,et).hidden=!1)}get isVisible(){return l(this,et).hidden===!1}}Nl=new WeakMap,Ip=new WeakMap,Fp=new WeakMap,Ol=new WeakMap,Bo=new WeakMap,et=new WeakMap,wr=new WeakMap,Uo=new WeakMap,Ch=new WeakMap,kh=new WeakMap,jl=new WeakMap,_r=new WeakMap,di=new WeakMap,Ar=new WeakMap,Th=new WeakMap,Er=new WeakMap,Ph=new WeakMap,$o=new WeakMap,Vo=new WeakMap,Fe=new WeakSet,bf=function(){const e=l(this,Er),t=l(this,wr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,Er).html||null},Nv=function(){var e,t,i;return((i=(t=(e=l(this,Fe,bf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},k1=function(){var e,t,i;return((i=(t=(e=l(this,Fe,bf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},T1=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:l(this,Fe,k1),fontSize:l(this,Fe,Nv)?`calc(${l(this,Fe,Nv)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},P1=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,_r))&&_(this,Fe,xf).call(this)},R1=function(){if(l(this,Ar)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=l(this,kh);let o=!!l(this,jl),a=o?l(this,jl):l(this,Th);for(const g of l(this,Ch))if(!a||Y.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const u=Y.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=o?a[2]-a[0]+5:0,d=u[0]+h,f=u[1];w(this,Ar,[100*(d-r)/t,100*(f-s)/i]);const{style:p}=l(this,et);p.left=`${l(this,Ar)[0]}%`,p.top=`${l(this,Ar)[1]}%`},xf=function(){w(this,_r,!l(this,_r)),l(this,_r)?(_(this,Fe,Cf).call(this),l(this,et).addEventListener("click",l(this,Ol)),l(this,et).addEventListener("keydown",l(this,Nl))):(_(this,Fe,Ov).call(this),l(this,et).removeEventListener("click",l(this,Ol)),l(this,et).removeEventListener("keydown",l(this,Nl)))},Cf=function(){l(this,di)||this.render(),this.isVisible?l(this,_r)&&l(this,et).classList.add("focused"):(_(this,Fe,R1).call(this),l(this,et).hidden=!1,l(this,et).style.zIndex=parseInt(l(this,et).style.zIndex)+1e3)},Ov=function(){l(this,et).classList.remove("focused"),!(l(this,_r)||!this.isVisible)&&(l(this,et).hidden=!0,l(this,et).style.zIndex=parseInt(l(this,et).style.zIndex)-1e3)};class L1 extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ye.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Rh;class zR extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Rh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:r}=Or(t.rect),s=this.svgFactory.create(i,r,!0),o=w(this,Rh,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Rh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rh=new WeakMap;var Lh;class HR extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Lh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:r}=Or(t.rect),s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=w(this,Lh,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Lh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lh=new WeakMap;var Mh;class BR extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Mh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:r}=Or(t.rect),s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=w(this,Mh,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",r/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Mh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mh=new WeakMap;var Dh;class M1 extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Dh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s}}=this;if(!i)return this.container;const{width:o,height:a}=Or(t),u=this.svgFactory.create(o,a,!0);let c=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-t[0],g=t[3]-i[d+1];c.push(`${p},${g}`)}c=c.join(" ");const h=w(this,Dh,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",c),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),u.append(h),this.container.append(u),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Dh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dh=new WeakMap;class UR extends M1{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $R extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ih;class D1 extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Ih,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ye.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:i,borderStyle:r,popupRef:s}}=this,{width:o,height:a}=Or(t),u=this.svgFactory.create(o,a,!0);for(const c of i){let h=[];for(let f=0,p=c.length;f<p;f+=2){const g=c[f]-t[0],y=t[3]-c[f+1];h.push(`${g},${y}`)}h=h.join(" ");const d=this.svgFactory.createElement(this.svgElementName);l(this,Ih).push(d),d.setAttribute("points",h),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),u.append(d)}return this.container.append(u),this.container}getElementsToTriggerPopup(){return l(this,Ih)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ih=new WeakMap;class VR extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class WR extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class GR extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class XR extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class I1 extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Fh,Nh,jv;class KR extends st{constructor(t){var r;super(t,{isRenderable:!0});A(this,Nh);A(this,Fh,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",_(this,Nh,jv).bind(this)),w(this,Fh,r);const{isMac:s}=gn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&_(this,Nh,jv).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return l(this,Fh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fh=new WeakMap,Nh=new WeakSet,jv=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Oh,Wo,zl,wa,F1,zv;class qR{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o}){A(this,wa);A(this,Oh,null);A(this,Wo,null);A(this,zl,new Map);this.div=e,w(this,Oh,t),w(this,Wo,i),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}async render(e){var o;const{annotations:t}=e,i=this.div;ma(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new w0,annotationStorage:e.annotationStorage||new b0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const u=a.annotationType===ht.POPUP;if(u){const d=r.get(a.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=Or(a.rect);if(d<=0||f<=0)continue}s.data=a;const c=LR.create(s);if(!c.isRenderable)continue;if(!u&&a.popupRef){const d=r.get(a.popupRef);d?d.push(c):r.set(a.popupRef,[c])}const h=c.render();a.hidden&&(h.style.visibility="hidden"),_(this,wa,F1).call(this,h,a.id),c.annotationEditorType>0&&(l(this,zl).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}_(this,wa,zv).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,ma(t,{rotation:e.rotation}),_(this,wa,zv).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,zl).values())}getEditableAnnotation(e){return l(this,zl).get(e)}}Oh=new WeakMap,Wo=new WeakMap,zl=new WeakMap,wa=new WeakSet,F1=function(e,t){var r;const i=e.firstChild||e;i.id=`${kS}${t}`,this.div.append(e),(r=l(this,Oh))==null||r.moveElementInDOM(this.div,e,i,!1)},zv=function(){if(!l(this,Wo))return;const e=this.div;for(const[t,i]of l(this,Wo)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}l(this,Wo).clear()};const Jd=/\r\n?|\n/g;var jh,zh,Hh,Bh,Uh,fi,Pn,$h,Rn,Hl,ct,N1,O1,j1,kf,zr,Tf,Pf,z1,Bv,H1;const He=class He extends Re{constructor(t){super({...t,name:"freeTextEditor"});A(this,ct);A(this,jh,this.editorDivBlur.bind(this));A(this,zh,this.editorDivFocus.bind(this));A(this,Hh,this.editorDivInput.bind(this));A(this,Bh,this.editorDivKeydown.bind(this));A(this,Uh,this.editorDivPaste.bind(this));A(this,fi);A(this,Pn,"");A(this,$h,`${this.id}-editor`);A(this,Rn);A(this,Hl,null);w(this,fi,t.color||He._defaultColor||Re._defaultLineColor),w(this,Rn,t.fontSize||He._defaultFontSize)}static get _keyboardManager(){const t=He.prototype,i=o=>o.isEmpty(),r=va.TRANSLATE_SMALL,s=va.TRANSLATE_BIG;return _e(this,"_keyboardManager",new _d([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){Re.initialize(t,i,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case se.FREETEXT_SIZE:He._defaultFontSize=i;break;case se.FREETEXT_COLOR:He._defaultColor=i;break}}updateParams(t,i){switch(t){case se.FREETEXT_SIZE:_(this,ct,N1).call(this,i);break;case se.FREETEXT_COLOR:_(this,ct,O1).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[se.FREETEXT_SIZE,He._defaultFontSize],[se.FREETEXT_COLOR,He._defaultColor||Re._defaultLineColor]]}get propertiesToUpdate(){return[[se.FREETEXT_SIZE,l(this,Rn)],[se.FREETEXT_COLOR,l(this,fi)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-He._internalPadding*t,-(He._internalPadding+l(this,Rn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(ye.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",l(this,Bh),{signal:t}),this.editorDiv.addEventListener("focus",l(this,zh),{signal:t}),this.editorDiv.addEventListener("blur",l(this,jh),{signal:t}),this.editorDiv.addEventListener("input",l(this,Hh),{signal:t}),this.editorDiv.addEventListener("paste",l(this,Uh),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,$h)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",l(this,Bh)),this.editorDiv.removeEventListener("focus",l(this,zh)),this.editorDiv.removeEventListener("blur",l(this,jh)),this.editorDiv.removeEventListener("input",l(this,Hh)),this.editorDiv.removeEventListener("paste",l(this,Uh)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,Pn),i=w(this,Pn,_(this,ct,j1).call(this).trimEnd());if(t===i)return;const r=s=>{if(w(this,Pn,s),!s){this.remove();return}_(this,ct,Pf).call(this),this._uiManager.rebuild(this),_(this,ct,kf).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),_(this,ct,kf).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){He._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,$h)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Re._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${l(this,Rn)}px * var(--scale-factor))`,r.color=l(this,fi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),pp(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=l(this,Hl);let[u,c]=this.getInitialTranslation();[u,c]=this.pageTranslationToScreen(u,c);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,y;switch(this.rotation){case 0:g=t+(a[0]-f)/h,y=i+this.height-(a[1]-p)/d;break;case 90:g=t+(a[0]-f)/h,y=i-(a[1]-p)/d,[u,c]=[c,-u];break;case 180:g=t-this.width+(a[0]-f)/h,y=i-(a[1]-p)/d,[u,c]=[-u,-c];break;case 270:g=t+(a[0]-f-this.height*d)/h,y=i+(a[1]-p-this.width*h)/d,[u,c]=[-c,u];break}this.setAt(g*s,y*o,u,c)}else this.setAt(t*s,i*o,this.width*s,this.height*o);_(this,ct,Pf).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,y,S;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=_(g=He,zr,Bv).call(g,i.getData("text")||"").replaceAll(Jd,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:c}=a,h=[],d=[];if(u.nodeType===Node.TEXT_NODE){const m=u.parentElement;if(d.push(u.nodeValue.slice(c).replaceAll(Jd,"")),m!==this.editorDiv){let v=h;for(const E of this.editorDiv.childNodes){if(E===m){v=d;continue}v.push(_(y=He,zr,Tf).call(y,E))}}h.push(u.nodeValue.slice(0,c).replaceAll(Jd,""))}else if(u===this.editorDiv){let m=h,v=0;for(const E of this.editorDiv.childNodes)v++===c&&(m=d),m.push(_(S=He,zr,Tf).call(S,E))}w(this,Pn,`${h.join(`
`)}${s}${d.join(`
`)}`),_(this,ct,Pf).call(this);const f=new Range;let p=h.reduce((m,v)=>m+v.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const v=m.nodeValue.length;if(p<=v){f.setStart(m,p),f.setEnd(m,p);break}p-=v}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,i,r){var a;let s=null;if(t instanceof L1){const{data:{defaultAppearanceData:{fontSize:u,fontColor:c},rect:h,rotation:d,id:f},textContent:p,textPosition:g,parent:{page:{pageNumber:y}}}=t;if(!p||p.length===0)return null;s=t={annotationType:ye.FREETEXT,color:Array.from(c),fontSize:u,value:p.join(`
`),position:g,pageIndex:y-1,rect:h.slice(0),rotation:d,id:f,deleted:!1}}const o=super.deserialize(t,i,r);return w(o,Rn,t.fontSize),w(o,fi,Y.makeHexColor(...t.color)),w(o,Pn,_(a=He,zr,Bv).call(a,t.value)),o.annotationElementId=t.id||null,w(o,Hl,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=He._internalPadding*this.parentScale,r=this.getRect(i,i),s=Re._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:l(this,fi)),o={annotationType:ye.FREETEXT,color:s,fontSize:l(this,Rn),value:_(this,ct,z1).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!_(this,ct,H1).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${l(this,Rn)}px * var(--scale-factor))`,r.color=l(this,fi),i.replaceChildren();for(const o of l(this,Pn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),i.append(a)}const s=He._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:l(this,Pn)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};jh=new WeakMap,zh=new WeakMap,Hh=new WeakMap,Bh=new WeakMap,Uh=new WeakMap,fi=new WeakMap,Pn=new WeakMap,$h=new WeakMap,Rn=new WeakMap,Hl=new WeakMap,ct=new WeakSet,N1=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-l(this,Rn))*this.parentScale),w(this,Rn,s),_(this,ct,kf).call(this)},r=l(this,Rn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:se.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},O1=function(t){const i=s=>{w(this,fi,this.editorDiv.style.color=s)},r=l(this,fi);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:se.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},j1=function(){var i;const t=[];this.editorDiv.normalize();for(const r of this.editorDiv.childNodes)t.push(_(i=He,zr,Tf).call(i,r));return t.join(`
`)},kf=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},zr=new WeakSet,Tf=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Jd,"")},Pf=function(){if(this.editorDiv.replaceChildren(),!!l(this,Pn))for(const t of l(this,Pn).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},z1=function(){return l(this,Pn).replaceAll(""," ")},Bv=function(t){return t.replaceAll(" ","")},H1=function(t){const{value:i,fontSize:r,color:s,pageIndex:o}=l(this,Hl);return this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((a,u)=>a!==s[u])||t.pageIndex!==o},A(He,zr),le(He,"_freeTextDefaultContent",""),le(He,"_internalPadding",0),le(He,"_defaultColor",null),le(He,"_defaultFontSize",10),le(He,"_type","freetext"),le(He,"_editorType",ye.FREETEXT);let Hv=He;var Vh,ws,pi,rn,B1,Rf,U1,$1,$v;class Uv{constructor(e,t=0,i=0,r=!0){A(this,rn);A(this,Vh);A(this,ws,[]);A(this,pi,[]);let s=1/0,o=-1/0,a=1/0,u=-1/0;const h=10**-4;for(const{x:m,y:v,width:E,height:x}of e){const k=Math.floor((m-t)/h)*h,b=Math.ceil((m+E+t)/h)*h,L=Math.floor((v-t)/h)*h,R=Math.ceil((v+x+t)/h)*h,F=[k,L,R,!0],N=[b,L,R,!1];l(this,ws).push(F,N),s=Math.min(s,k),o=Math.max(o,b),a=Math.min(a,L),u=Math.max(u,R)}const d=o-s+2*i,f=u-a+2*i,p=s-i,g=a-i,y=l(this,ws).at(r?-1:-2),S=[y[0],y[2]];for(const m of l(this,ws)){const[v,E,x]=m;m[0]=(v-p)/d,m[1]=(E-g)/f,m[2]=(x-g)/f}w(this,Vh,{x:p,y:g,width:d,height:f,lastPoint:S})}getOutlines(){l(this,ws).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of l(this,ws))t[3]?(e.push(..._(this,rn,$v).call(this,t)),_(this,rn,U1).call(this,t)):(_(this,rn,$1).call(this,t),e.push(..._(this,rn,$v).call(this,t)));return _(this,rn,B1).call(this,e)}}Vh=new WeakMap,ws=new WeakMap,pi=new WeakMap,rn=new WeakSet,B1=function(e){const t=[],i=new Set;for(const o of e){const[a,u,c]=o;t.push([a,u,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const u=t[o][2],c=t[o+1][2];u.push(c),c.push(u),i.add(u),i.add(c)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[a,u,c,h,d]=o;i.delete(o);let f=a,p=u;for(s=[a,c],r.push(s);;){let g;if(i.has(h))g=h;else if(i.has(d))g=d;else break;i.delete(g),[a,u,c,h,d]=g,f!==a&&(s.push(f,p,a,p===u?u:c),f=a),p=p===u?c:u}s.push(f,p)}return new YR(r,l(this,Vh))},Rf=function(e){const t=l(this,pi);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1},U1=function([,e,t]){const i=_(this,rn,Rf).call(this,e);l(this,pi).splice(i,0,[e,t])},$1=function([,e,t]){const i=_(this,rn,Rf).call(this,e);for(let r=i;r<l(this,pi).length;r++){const[s,o]=l(this,pi)[r];if(s!==e)break;if(s===e&&o===t){l(this,pi).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=l(this,pi)[r];if(s!==e)break;if(s===e&&o===t){l(this,pi).splice(r,1);return}}},$v=function(e){const[t,i,r]=e,s=[[t,i,r]],o=_(this,rn,Rf).call(this,r);for(let a=0;a<o;a++){const[u,c]=l(this,pi)[a];for(let h=0,d=s.length;h<d;h++){const[,f,p]=s[h];if(!(c<=f||p<=u)){if(f>=u){if(p>c)s[h][1]=c;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=u,p>c&&s.push([t,c,p])}}}return s};class V1{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Wv}}var Wh,Bl;class YR extends V1{constructor(t,i){super();A(this,Wh);A(this,Bl);w(this,Bl,t),w(this,Wh,i)}toSVGPath(){const t=[];for(const i of l(this,Bl)){let[r,s]=i;t.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const a=i[o],u=i[o+1];a===r?(t.push(`V${u}`),s=u):u===s&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],o){const a=[],u=r-t,c=s-i;for(const h of l(this,Bl)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*u,d[f+1]=s-h[f+1]*c;a.push(d)}return a}get box(){return l(this,Wh)}}Wh=new WeakMap,Bl=new WeakMap;var Oi,Sr,Ul,$l,ji,ve,Go,Xo,Gh,Xh,Vl,Wl,_s,Kh,Np,Op,qh,Vv;const rr=class rr{constructor({x:e,y:t},i,r,s,o,a=0){A(this,qh);A(this,Oi);A(this,Sr,[]);A(this,Ul);A(this,$l);A(this,ji,[]);A(this,ve,new Float64Array(18));A(this,Go);A(this,Xo);A(this,Gh);A(this,Xh);A(this,Vl);A(this,Wl);A(this,_s,[]);w(this,Oi,i),w(this,Wl,s*r),w(this,$l,o),l(this,ve).set([NaN,NaN,NaN,NaN,e,t],6),w(this,Ul,a),w(this,Xh,l(rr,Kh)*r),w(this,Gh,l(rr,Op)*r),w(this,Vl,r),l(this,_s).push(e,t)}get free(){return!0}isEmpty(){return isNaN(l(this,ve)[8])}add({x:e,y:t}){var F;w(this,Go,e),w(this,Xo,t);const[i,r,s,o]=l(this,Oi);let[a,u,c,h]=l(this,ve).subarray(8,12);const d=e-c,f=t-h,p=Math.hypot(d,f);if(p<l(this,Gh))return!1;const g=p-l(this,Xh),y=g/p,S=y*d,m=y*f;let v=a,E=u;a=c,u=h,c+=S,h+=m,(F=l(this,_s))==null||F.push(e,t);const x=-m/g,k=S/g,b=x*l(this,Wl),L=k*l(this,Wl);return l(this,ve).set(l(this,ve).subarray(2,8),0),l(this,ve).set([c+b,h+L],4),l(this,ve).set(l(this,ve).subarray(14,18),12),l(this,ve).set([c-b,h-L],16),isNaN(l(this,ve)[6])?(l(this,ji).length===0&&(l(this,ve).set([a+b,u+L],2),l(this,ji).push(NaN,NaN,NaN,NaN,(a+b-i)/s,(u+L-r)/o),l(this,ve).set([a-b,u-L],14),l(this,Sr).push(NaN,NaN,NaN,NaN,(a-b-i)/s,(u-L-r)/o)),l(this,ve).set([v,E,a,u,c,h],6),!this.isEmpty()):(l(this,ve).set([v,E,a,u,c,h],6),Math.abs(Math.atan2(E-u,v-a)-Math.atan2(m,S))<Math.PI/2?([a,u,c,h]=l(this,ve).subarray(2,6),l(this,ji).push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((u+h)/2-r)/o),[a,u,v,E]=l(this,ve).subarray(14,18),l(this,Sr).push(NaN,NaN,NaN,NaN,((v+a)/2-i)/s,((E+u)/2-r)/o),!0):([v,E,a,u,c,h]=l(this,ve).subarray(0,6),l(this,ji).push(((v+5*a)/6-i)/s,((E+5*u)/6-r)/o,((5*a+c)/6-i)/s,((5*u+h)/6-r)/o,((a+c)/2-i)/s,((u+h)/2-r)/o),[c,h,a,u,v,E]=l(this,ve).subarray(12,18),l(this,Sr).push(((v+5*a)/6-i)/s,((E+5*u)/6-r)/o,((5*a+c)/6-i)/s,((5*u+h)/6-r)/o,((a+c)/2-i)/s,((u+h)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=l(this,ji),t=l(this,Sr),i=l(this,ve).subarray(4,6),r=l(this,ve).subarray(16,18),[s,o,a,u]=l(this,Oi),[c,h,d,f]=_(this,qh,Vv).call(this);if(isNaN(l(this,ve)[6])&&!this.isEmpty())return`M${(l(this,ve)[2]-s)/a} ${(l(this,ve)[3]-o)/u} L${(l(this,ve)[4]-s)/a} ${(l(this,ve)[5]-o)/u} L${c} ${h} L${d} ${f} L${(l(this,ve)[16]-s)/a} ${(l(this,ve)[17]-o)/u} L${(l(this,ve)[14]-s)/a} ${(l(this,ve)[15]-o)/u} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);p.push(`L${(i[0]-s)/a} ${(i[1]-o)/u} L${c} ${h} L${d} ${f} L${(r[0]-s)/a} ${(r[1]-o)/u}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var m;const e=l(this,ji),t=l(this,Sr),i=l(this,ve),r=i.subarray(4,6),s=i.subarray(16,18),[o,a,u,c]=l(this,Oi),h=new Float64Array((((m=l(this,_s))==null?void 0:m.length)??0)+2);for(let v=0,E=h.length-2;v<E;v+=2)h[v]=(l(this,_s)[v]-o)/u,h[v+1]=(l(this,_s)[v+1]-a)/c;h[h.length-2]=(l(this,Go)-o)/u,h[h.length-1]=(l(this,Xo)-a)/c;const[d,f,p,g]=_(this,qh,Vv).call(this);if(isNaN(i[6])&&!this.isEmpty()){const v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(i[2]-o)/u,(i[3]-a)/c,NaN,NaN,NaN,NaN,(i[4]-o)/u,(i[5]-a)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[16]-o)/u,(i[17]-a)/c,NaN,NaN,NaN,NaN,(i[14]-o)/u,(i[15]-a)/c],0),new Wv(v,h,l(this,Oi),l(this,Vl),l(this,Ul),l(this,$l))}const y=new Float64Array(l(this,ji).length+24+l(this,Sr).length);let S=e.length;for(let v=0;v<S;v+=2){if(isNaN(e[v])){y[v]=y[v+1]=NaN;continue}y[v]=e[v],y[v+1]=e[v+1]}y.set([NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-a)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[0]-o)/u,(s[1]-a)/c],S),S+=24;for(let v=t.length-6;v>=6;v-=6)for(let E=0;E<6;E+=2){if(isNaN(t[v+E])){y[S]=y[S+1]=NaN,S+=2;continue}y[S]=t[v+E],y[S+1]=t[v+E+1],S+=2}return y.set([NaN,NaN,NaN,NaN,t[4],t[5]],S),new Wv(y,h,l(this,Oi),l(this,Vl),l(this,Ul),l(this,$l))}};Oi=new WeakMap,Sr=new WeakMap,Ul=new WeakMap,$l=new WeakMap,ji=new WeakMap,ve=new WeakMap,Go=new WeakMap,Xo=new WeakMap,Gh=new WeakMap,Xh=new WeakMap,Vl=new WeakMap,Wl=new WeakMap,_s=new WeakMap,Kh=new WeakMap,Np=new WeakMap,Op=new WeakMap,qh=new WeakSet,Vv=function(){const e=l(this,ve).subarray(4,6),t=l(this,ve).subarray(16,18),[i,r,s,o]=l(this,Oi);return[(l(this,Go)+(e[0]-t[0])/2-i)/s,(l(this,Xo)+(e[1]-t[1])/2-r)/o,(l(this,Go)+(t[0]-e[0])/2-i)/s,(l(this,Xo)+(t[1]-e[1])/2-r)/o]},A(rr,Kh,8),A(rr,Np,2),A(rr,Op,l(rr,Kh)+l(rr,Np));let vp=rr;var Gl,Ko,br,Yh,Ln,Qh,it,mn,qu,Yu,W1;class Wv extends V1{constructor(t,i,r,s,o,a){super();A(this,mn);A(this,Gl);A(this,Ko,null);A(this,br);A(this,Yh);A(this,Ln);A(this,Qh);A(this,it);w(this,it,t),w(this,Ln,i),w(this,Gl,r),w(this,Qh,s),w(this,br,o),w(this,Yh,a),_(this,mn,W1).call(this,a);const{x:u,y:c,width:h,height:d}=l(this,Ko);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-u)/h,t[f+1]=(t[f+1]-c)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-u)/h,i[f+1]=(i[f+1]-c)/d}toSVGPath(){const t=[`M${l(this,it)[4]} ${l(this,it)[5]}`];for(let i=6,r=l(this,it).length;i<r;i+=6){if(isNaN(l(this,it)[i])){t.push(`L${l(this,it)[i+4]} ${l(this,it)[i+5]}`);continue}t.push(`C${l(this,it)[i]} ${l(this,it)[i+1]} ${l(this,it)[i+2]} ${l(this,it)[i+3]} ${l(this,it)[i+4]} ${l(this,it)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],o){const a=r-t,u=s-i;let c,h;switch(o){case 0:c=_(this,mn,qu).call(this,l(this,it),t,s,a,-u),h=_(this,mn,qu).call(this,l(this,Ln),t,s,a,-u);break;case 90:c=_(this,mn,Yu).call(this,l(this,it),t,i,a,u),h=_(this,mn,Yu).call(this,l(this,Ln),t,i,a,u);break;case 180:c=_(this,mn,qu).call(this,l(this,it),r,i,-a,u),h=_(this,mn,qu).call(this,l(this,Ln),r,i,-a,u);break;case 270:c=_(this,mn,Yu).call(this,l(this,it),r,s,-a,-u),h=_(this,mn,Yu).call(this,l(this,Ln),r,s,-a,-u);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return l(this,Ko)}getNewOutline(t,i){const{x:r,y:s,width:o,height:a}=l(this,Ko),[u,c,h,d]=l(this,Gl),f=o*h,p=a*d,g=r*h+u,y=s*d+c,S=new vp({x:l(this,Ln)[0]*f+g,y:l(this,Ln)[1]*p+y},l(this,Gl),l(this,Qh),t,l(this,Yh),i??l(this,br));for(let m=2;m<l(this,Ln).length;m+=2)S.add({x:l(this,Ln)[m]*f+g,y:l(this,Ln)[m+1]*p+y});return S.getOutlines()}}Gl=new WeakMap,Ko=new WeakMap,br=new WeakMap,Yh=new WeakMap,Ln=new WeakMap,Qh=new WeakMap,it=new WeakMap,mn=new WeakSet,qu=function(t,i,r,s,o){const a=new Float64Array(t.length);for(let u=0,c=t.length;u<c;u+=2)a[u]=i+t[u]*s,a[u+1]=r+t[u+1]*o;return a},Yu=function(t,i,r,s,o){const a=new Float64Array(t.length);for(let u=0,c=t.length;u<c;u+=2)a[u]=i+t[u+1]*s,a[u+1]=r+t[u]*o;return a},W1=function(t){const i=l(this,it);let r=i[4],s=i[5],o=r,a=s,u=r,c=s,h=r,d=s;const f=t?Math.max:Math.min;for(let m=6,v=i.length;m<v;m+=6){if(isNaN(i[m]))o=Math.min(o,i[m+4]),a=Math.min(a,i[m+5]),u=Math.max(u,i[m+4]),c=Math.max(c,i[m+5]),d<i[m+5]?(h=i[m+4],d=i[m+5]):d===i[m+5]&&(h=f(h,i[m+4]));else{const E=Y.bezierBoundingBox(r,s,...i.slice(m,m+6));o=Math.min(o,E[0]),a=Math.min(a,E[1]),u=Math.max(u,E[2]),c=Math.max(c,E[3]),d<E[3]?(h=E[2],d=E[3]):d===E[3]&&(h=f(h,E[2]))}r=i[m+4],s=i[m+5]}const p=o-l(this,br),g=a-l(this,br),y=u-o+2*l(this,br),S=c-a+2*l(this,br);w(this,Ko,{x:p,y:g,width:y,height:S,lastPoint:[h,d]})};var Jh,Zh,gi,qo,Xl,ft,ed,Kl,td,nd,mi,ql,Oe,Gv,Xv,G1,to,X1,ts;const sr=class sr{constructor({editor:e=null,uiManager:t=null}){A(this,Oe);A(this,Jh,_(this,Oe,G1).bind(this));A(this,Zh,_(this,Oe,X1).bind(this));A(this,gi,null);A(this,qo,null);A(this,Xl);A(this,ft,null);A(this,ed,!1);A(this,Kl,!1);A(this,td,null);A(this,nd);A(this,mi,null);A(this,ql);var i;e?(w(this,Kl,!1),w(this,ql,se.HIGHLIGHT_COLOR),w(this,td,e)):(w(this,Kl,!0),w(this,ql,se.HIGHLIGHT_DEFAULT_COLOR)),w(this,mi,(e==null?void 0:e._uiManager)||t),w(this,nd,l(this,mi)._eventBus),w(this,Xl,(e==null?void 0:e.color)||((i=l(this,mi))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return _e(this,"_keyboardManager",new _d([[["Escape","mac+Escape"],sr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],sr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],sr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],sr.prototype._moveToPrevious],[["Home","mac+Home"],sr.prototype._moveToBeginning],[["End","mac+End"],sr.prototype._moveToEnd]]))}renderButton(){const e=w(this,gi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=l(this,mi)._signal;e.addEventListener("click",_(this,Oe,to).bind(this),{signal:t}),e.addEventListener("keydown",l(this,Jh),{signal:t});const i=w(this,qo,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=l(this,Xl),e.append(i),e}renderMainDropdown(){const e=w(this,ft,_(this,Oe,Gv).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===l(this,gi)){_(this,Oe,to).call(this,e);return}const t=e.target.getAttribute("data-color");t&&_(this,Oe,Xv).call(this,t,e)}_moveToNext(e){var t,i;if(!l(this,Oe,ts)){_(this,Oe,to).call(this,e);return}if(e.target===l(this,gi)){(t=l(this,ft).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=l(this,ft))==null?void 0:t.firstChild)||e.target===l(this,gi)){l(this,Oe,ts)&&this._hideDropdownFromKeyboard();return}l(this,Oe,ts)||_(this,Oe,to).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!l(this,Oe,ts)){_(this,Oe,to).call(this,e);return}(t=l(this,ft).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!l(this,Oe,ts)){_(this,Oe,to).call(this,e);return}(t=l(this,ft).lastChild)==null||t.focus()}hideDropdown(){var e;(e=l(this,ft))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",l(this,Zh))}_hideDropdownFromKeyboard(){var e;if(!l(this,Kl)){if(!l(this,Oe,ts)){(e=l(this,td))==null||e.unselect();return}this.hideDropdown(),l(this,gi).focus({preventScroll:!0,focusVisible:l(this,ed)})}}updateColor(e){if(l(this,qo)&&(l(this,qo).style.backgroundColor=e),!l(this,ft))return;const t=l(this,mi).highlightColors.values();for(const i of l(this,ft).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=l(this,gi))==null||e.remove(),w(this,gi,null),w(this,qo,null),(t=l(this,ft))==null||t.remove(),w(this,ft,null)}};Jh=new WeakMap,Zh=new WeakMap,gi=new WeakMap,qo=new WeakMap,Xl=new WeakMap,ft=new WeakMap,ed=new WeakMap,Kl=new WeakMap,td=new WeakMap,nd=new WeakMap,mi=new WeakMap,ql=new WeakMap,Oe=new WeakSet,Gv=function(){const e=document.createElement("div"),t=l(this,mi)._signal;e.addEventListener("contextmenu",_n,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of l(this,mi).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===l(this,Xl)),s.addEventListener("click",_(this,Oe,Xv).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",l(this,Jh),{signal:t}),e},Xv=function(e,t){t.stopPropagation(),l(this,nd).dispatch("switchannotationeditorparams",{source:this,type:l(this,ql),value:e})},G1=function(e){sr._keyboardManager.exec(this,e)},to=function(e){if(l(this,Oe,ts)){this.hideDropdown();return}if(w(this,ed,e.detail===0),window.addEventListener("pointerdown",l(this,Zh),{signal:l(this,mi)._signal}),l(this,ft)){l(this,ft).classList.remove("hidden");return}const t=w(this,ft,_(this,Oe,Gv).call(this));l(this,gi).append(t)},X1=function(e){var t;(t=l(this,ft))!=null&&t.contains(e.target)||this.hideDropdown()},ts=function(){return l(this,ft)&&!l(this,ft).classList.contains("hidden")};let yp=sr;var Yl,id,As,Yo,Ql,Wn,rd,sd,Qo,vi,Qt,Mn,jp,Jl,Jo,pt,Zl,zi,od,de,Kv,qv,K1,q1,Y1,Yv,Qu,Qn,za,Q1,Lf,Ju,J1,Z1,eb,tb;const ke=class ke extends Re{constructor(t){super({...t,name:"highlightEditor"});A(this,de);A(this,Yl,null);A(this,id,0);A(this,As);A(this,Yo,null);A(this,Ql,null);A(this,Wn,null);A(this,rd,null);A(this,sd,0);A(this,Qo,null);A(this,vi,null);A(this,Qt,null);A(this,Mn,!1);A(this,jp,_(this,de,Q1).bind(this));A(this,Jl,null);A(this,Jo);A(this,pt,null);A(this,Zl,"");A(this,zi);A(this,od,"");this.color=t.color||ke._defaultColor,w(this,zi,t.thickness||ke._defaultThickness),w(this,Jo,t.opacity||ke._defaultOpacity),w(this,As,t.boxes||null),w(this,od,t.methodOfCreation||""),w(this,Zl,t.text||""),this._isDraggable=!1,t.highlightId>-1?(w(this,Mn,!0),_(this,de,qv).call(this,t),_(this,de,Qu).call(this)):(w(this,Yl,t.anchorNode),w(this,id,t.anchorOffset),w(this,rd,t.focusNode),w(this,sd,t.focusOffset),_(this,de,Kv).call(this),_(this,de,Qu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=ke.prototype;return _e(this,"_keyboardManager",new _d([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,Mn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:l(this,zi),methodOfCreation:l(this,od)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Re.initialize(t,i),ke._defaultColor||(ke._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case se.HIGHLIGHT_DEFAULT_COLOR:ke._defaultColor=i;break;case se.HIGHLIGHT_THICKNESS:ke._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return l(this,Jl)}updateParams(t,i){switch(t){case se.HIGHLIGHT_COLOR:_(this,de,K1).call(this,i);break;case se.HIGHLIGHT_THICKNESS:_(this,de,q1).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[se.HIGHLIGHT_DEFAULT_COLOR,ke._defaultColor],[se.HIGHLIGHT_THICKNESS,ke._defaultThickness]]}get propertiesToUpdate(){return[[se.HIGHLIGHT_COLOR,this.color||ke._defaultColor],[se.HIGHLIGHT_THICKNESS,l(this,zi)||ke._defaultThickness],[se.HIGHLIGHT_FREE,l(this,Mn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(w(this,Ql,new yp({editor:this})),t.addColorPicker(l(this,Ql))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,de,Ju).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,_(this,de,Ju).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,de,Yv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,de,Qu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?_(this,de,Yv).call(this):t&&(_(this,de,Qu).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,o,a;const{drawLayer:i}=this.parent;let r;l(this,Mn)?(t=(t-this.rotation+360)%360,r=_(s=ke,Qn,za).call(s,l(this,vi).box,t)):r=_(o=ke,Qn,za).call(o,this,t),i.rotate(l(this,Qt),t),i.rotate(l(this,pt),t),i.updateBox(l(this,Qt),r),i.updateBox(l(this,pt),_(a=ke,Qn,za).call(a,l(this,Wn).box,t))}render(){if(this.div)return this.div;const t=super.render();l(this,Zl)&&(t.setAttribute("aria-label",l(this,Zl)),t.setAttribute("role","mark")),l(this,Mn)?t.classList.add("free"):this.div.addEventListener("keydown",l(this,jp),{signal:this._uiManager._signal});const i=w(this,Qo,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=l(this,Yo);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),pp(this,l(this,Qo),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(l(this,pt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(l(this,pt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:_(this,de,Lf).call(this,!0);break;case 1:case 3:_(this,de,Lf).call(this,!1);break}}select(){var t,i;super.select(),l(this,pt)&&((t=this.parent)==null||t.drawLayer.removeClass(l(this,pt),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(l(this,pt),"selected"))}unselect(){var t;super.unselect(),l(this,pt)&&((t=this.parent)==null||t.drawLayer.removeClass(l(this,pt),"selected"),l(this,Mn)||_(this,de,Lf).call(this,!1))}get _mustFixPosition(){return!l(this,Mn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(l(this,Qt),t),this.parent.drawLayer.show(l(this,pt),t))}static startHighlighting(t,i,{target:r,x:s,y:o}){const{x:a,y:u,width:c,height:h}=r.getBoundingClientRect(),d=S=>{_(this,Qn,eb).call(this,t,S)},f=t._signal,p={capture:!0,passive:!1,signal:f},g=S=>{S.preventDefault(),S.stopPropagation()},y=S=>{r.removeEventListener("pointermove",d),window.removeEventListener("blur",y),window.removeEventListener("pointerup",y),window.removeEventListener("pointerdown",g,p),window.removeEventListener("contextmenu",_n),_(this,Qn,tb).call(this,t,S)};window.addEventListener("blur",y,{signal:f}),window.addEventListener("pointerup",y,{signal:f}),window.addEventListener("pointerdown",g,p),window.addEventListener("contextmenu",_n,{signal:f}),r.addEventListener("pointermove",d,{signal:f}),this._freeHighlight=new vp({x:s,y:o},[a,u,c,h],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,i,r){var y;const s=super.deserialize(t,i,r),{rect:[o,a,u,c],color:h,quadPoints:d}=t;s.color=Y.makeHexColor(...h),w(s,Jo,t.opacity);const[f,p]=s.pageDimensions;s.width=(u-o)/f,s.height=(c-a)/p;const g=w(s,As,[]);for(let S=0;S<d.length;S+=8)g.push({x:(d[4]-u)/f,y:(c-(1-d[S+5]))/p,width:(d[S+2]-d[S])/f,height:(d[S+5]-d[S+1])/p});return _(y=s,de,Kv).call(y),s}serialize(t=!1){if(this.isEmpty()||t)return null;const i=this.getRect(0,0),r=Re._colorManager.convert(this.color);return{annotationType:ye.HIGHLIGHT,color:r,opacity:l(this,Jo),thickness:l(this,zi),quadPoints:_(this,de,J1).call(this),outlines:_(this,de,Z1).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:_(this,de,Ju).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Yl=new WeakMap,id=new WeakMap,As=new WeakMap,Yo=new WeakMap,Ql=new WeakMap,Wn=new WeakMap,rd=new WeakMap,sd=new WeakMap,Qo=new WeakMap,vi=new WeakMap,Qt=new WeakMap,Mn=new WeakMap,jp=new WeakMap,Jl=new WeakMap,Jo=new WeakMap,pt=new WeakMap,Zl=new WeakMap,zi=new WeakMap,od=new WeakMap,de=new WeakSet,Kv=function(){const t=new Uv(l(this,As),.001);w(this,vi,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=l(this,vi).box;const i=new Uv(l(this,As),.0025,.001,this._uiManager.direction==="ltr");w(this,Wn,i.getOutlines());const{lastPoint:r}=l(this,Wn).box;w(this,Jl,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},qv=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var d,f;if(w(this,vi,t),w(this,Wn,t.getNewOutline(l(this,zi)/2+1.5,.0025)),i>=0)w(this,Qt,i),w(this,Yo,r),this.parent.drawLayer.finalizeLine(i,t),w(this,pt,this.parent.drawLayer.highlightOutline(l(this,Wn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(l(this,Qt),t),this.parent.drawLayer.updateBox(l(this,Qt),_(d=ke,Qn,za).call(d,l(this,vi).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(l(this,pt),l(this,Wn)),this.parent.drawLayer.updateBox(l(this,pt),_(f=ke,Qn,za).call(f,l(this,Wn).box,p))}const{x:o,y:a,width:u,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=u,this.height=c;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=u*g/p,this.height=c*p/g;break}case 180:this.x=1-o,this.y=1-a,this.width=u,this.height=c;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=u*g/p,this.height=c*p/g;break}}const{lastPoint:h}=l(this,Wn).box;w(this,Jl,[(h[0]-o)/u,(h[1]-a)/c])},K1=function(t){const i=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(l(this,Qt),s),(a=l(this,Ql))==null||a.updateColor(s)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:se.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},q1=function(t){const i=l(this,zi),r=s=>{w(this,zi,s),_(this,de,Y1).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:se.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Y1=function(t){if(!l(this,Mn))return;_(this,de,qv).call(this,{highlightOutlines:l(this,vi).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},Yv=function(){l(this,Qt)===null||!this.parent||(this.parent.drawLayer.remove(l(this,Qt)),w(this,Qt,null),this.parent.drawLayer.remove(l(this,pt)),w(this,pt,null))},Qu=function(t=this.parent){l(this,Qt)===null&&({id:En(this,Qt)._,clipPathId:En(this,Yo)._}=t.drawLayer.highlight(l(this,vi),this.color,l(this,Jo)),w(this,pt,t.drawLayer.highlightOutline(l(this,Wn))),l(this,Qo)&&(l(this,Qo).style.clipPath=l(this,Yo)))},Qn=new WeakSet,za=function({x:t,y:i,width:r,height:s},o){switch(o){case 90:return{x:1-i-s,y:t,width:s,height:r};case 180:return{x:1-t-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-t-r,width:s,height:r}}return{x:t,y:i,width:r,height:s}},Q1=function(t){ke._keyboardManager.exec(this,t)},Lf=function(t){if(!l(this,Yl))return;const i=window.getSelection();t?i.setPosition(l(this,Yl),l(this,id)):i.setPosition(l(this,rd),l(this,sd))},Ju=function(){return l(this,Mn)?this.rotation:0},J1=function(){if(l(this,Mn))return null;const[t,i]=this.pageDimensions,r=l(this,As),s=new Float32Array(r.length*8);let o=0;for(const{x:a,y:u,width:c,height:h}of r){const d=a*t,f=(1-u-h)*i;s[o]=s[o+4]=d,s[o+1]=s[o+3]=f,s[o+2]=s[o+6]=d+c*t,s[o+5]=s[o+7]=f+h*i,o+=8}return s},Z1=function(t){return l(this,vi).serialize(t,_(this,de,Ju).call(this))},eb=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},tb=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},A(ke,Qn),le(ke,"_defaultColor",null),le(ke,"_defaultOpacity",1),le(ke,"_defaultThickness",12),le(ke,"_l10nPromise"),le(ke,"_type","highlight"),le(ke,"_editorType",ye.HIGHLIGHT),le(ke,"_freeHighlightId",-1),le(ke,"_freeHighlight",null),le(ke,"_freeHighlightClipId","");let wp=ke;var Zo,ea,ad,ld,ud,ta,Hi,xr,Gn,na,ia,Cr,ra,sa,Es,B,nb,ib,rb,sb,Jv,ob,Zv,ab,lb,ub,cb,hb,no,ey,Mf,Df,Ha,ty,If,Wr,db,ny,fb,pb,iy,Ff,Zu;const Xe=class Xe extends Re{constructor(t){super({...t,name:"inkEditor"});A(this,B);A(this,Zo,0);A(this,ea,0);A(this,ad,this.canvasPointermove.bind(this));A(this,ld,this.canvasPointerleave.bind(this));A(this,ud,this.canvasPointerup.bind(this));A(this,ta,this.canvasPointerdown.bind(this));A(this,Hi,null);A(this,xr,new Path2D);A(this,Gn,!1);A(this,na,!1);A(this,ia,!1);A(this,Cr,null);A(this,ra,0);A(this,sa,0);A(this,Es,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){Re.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case se.INK_THICKNESS:Xe._defaultThickness=i;break;case se.INK_COLOR:Xe._defaultColor=i;break;case se.INK_OPACITY:Xe._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case se.INK_THICKNESS:_(this,B,nb).call(this,i);break;case se.INK_COLOR:_(this,B,ib).call(this,i);break;case se.INK_OPACITY:_(this,B,rb).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[se.INK_THICKNESS,Xe._defaultThickness],[se.INK_COLOR,Xe._defaultColor||Re._defaultLineColor],[se.INK_OPACITY,Math.round(Xe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[se.INK_THICKNESS,this.thickness||Xe._defaultThickness],[se.INK_COLOR,this.color||Xe._defaultColor||Re._defaultLineColor],[se.INK_OPACITY,Math.round(100*(this.opacity??Xe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,B,Mf).call(this),_(this,B,Df).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,B,Ha).call(this)),_(this,B,Zu).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,l(this,Hi)&&(clearTimeout(l(this,Hi)),w(this,Hi,null)),(t=l(this,Cr))==null||t.disconnect(),w(this,Cr,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,r=this.width*t,s=this.height*i;this.setDimensions(r,s)}enableEditMode(){l(this,Gn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",l(this,ta),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",l(this,ta)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){l(this,Gn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),w(this,Gn,!0),this.div.classList.add("disabled"),_(this,B,Zu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||l(this,Gn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,B,ob).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),_(this,B,Zv).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),_(this,B,ey).call(this,t)}canvasPointerleave(t){_(this,B,ey).call(this,t)}get isResizable(){return!this.isEmpty()&&l(this,Gn)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,o,a]=_(this,B,sb).call(this);if(this.setAt(r,s,0,0),this.setDims(o,a),_(this,B,Mf).call(this),this.width){const[u,c]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*c),this.setAt(t*u,i*c,this.width*u,this.height*c),w(this,ia,!0),_(this,B,Ha).call(this),this.setDims(this.width*u,this.height*c),_(this,B,no).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,B,Df).call(this),this.div}setDimensions(t,i){const r=Math.round(t),s=Math.round(i);if(l(this,ra)===r&&l(this,sa)===s)return;w(this,ra,r),w(this,sa,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=i/a,this.fixAndSetPosition(),l(this,Gn)&&_(this,B,ty).call(this,t,i),_(this,B,Ha).call(this),_(this,B,no).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,i,r){var S,m,v;if(t instanceof D1)return null;const s=super.deserialize(t,i,r);s.thickness=t.thickness,s.color=Y.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,u=s.width*o,c=s.height*a,h=s.parentScale,d=t.thickness/2;w(s,Gn,!0),w(s,ra,Math.round(u)),w(s,sa,Math.round(c));const{paths:f,rect:p,rotation:g}=t;for(let{bezier:E}of f){E=_(S=Xe,Wr,fb).call(S,E,p,g);const x=[];s.paths.push(x);let k=h*(E[0]-d),b=h*(E[1]-d);for(let R=2,F=E.length;R<F;R+=6){const N=h*(E[R]-d),z=h*(E[R+1]-d),ie=h*(E[R+2]-d),te=h*(E[R+3]-d),q=h*(E[R+4]-d),pe=h*(E[R+5]-d);x.push([[k,b],[N,z],[ie,te],[q,pe]]),k=q,b=pe}const L=_(this,Wr,db).call(this,x);s.bezierPath2D.push(L)}const y=_(m=s,B,iy).call(m);return w(s,ea,Math.max(Re.MIN_SIZE,y[2]-y[0])),w(s,Zo,Math.max(Re.MIN_SIZE,y[3]-y[1])),_(v=s,B,ty).call(v,u,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=Re._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ye.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:_(this,B,pb).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Zo=new WeakMap,ea=new WeakMap,ad=new WeakMap,ld=new WeakMap,ud=new WeakMap,ta=new WeakMap,Hi=new WeakMap,xr=new WeakMap,Gn=new WeakMap,na=new WeakMap,ia=new WeakMap,Cr=new WeakMap,ra=new WeakMap,sa=new WeakMap,Es=new WeakMap,B=new WeakSet,nb=function(t){const i=s=>{this.thickness=s,_(this,B,Zu).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:se.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ib=function(t){const i=s=>{this.color=s,_(this,B,no).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:se.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},rb=function(t){const i=s=>{this.opacity=s,_(this,B,no).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:se.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},sb=function(){const{parentRotation:t,parentDimensions:[i,r]}=this;switch(t){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},Jv=function(){const{ctx:t,color:i,opacity:r,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${_P(r)}`},ob=function(t,i){const r=this._uiManager._signal;this.canvas.addEventListener("contextmenu",_n,{signal:r}),this.canvas.addEventListener("pointerleave",l(this,ld),{signal:r}),this.canvas.addEventListener("pointermove",l(this,ad),{signal:r}),this.canvas.addEventListener("pointerup",l(this,ud),{signal:r}),this.canvas.removeEventListener("pointerdown",l(this,ta)),this.isEditing=!0,l(this,ia)||(w(this,ia,!0),_(this,B,Ha).call(this),this.thickness||(this.thickness=Xe._defaultThickness),this.color||(this.color=Xe._defaultColor||Re._defaultLineColor),this.opacity??(this.opacity=Xe._defaultOpacity)),this.currentPath.push([t,i]),w(this,na,!1),_(this,B,Jv).call(this),w(this,Es,()=>{_(this,B,ub).call(this),l(this,Es)&&window.requestAnimationFrame(l(this,Es))}),window.requestAnimationFrame(l(this,Es))},Zv=function(t,i){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&i===s)return;const o=this.currentPath;let a=l(this,xr);if(o.push([t,i]),w(this,na,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,i);return}o.length===3&&(w(this,xr,a=new Path2D),a.moveTo(...o[0])),_(this,B,cb).call(this,a,...o.at(-3),...o.at(-2),t,i)},ab=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);l(this,xr).lineTo(...t)},lb=function(t,i){w(this,Es,null),t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),_(this,B,Zv).call(this,t,i),_(this,B,ab).call(this);let r;if(this.currentPath.length!==1)r=_(this,B,hb).call(this);else{const c=[t,i];r=[[c,c.slice(),c.slice(),c]]}const s=l(this,xr),o=this.currentPath;this.currentPath=[],w(this,xr,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,B,Mf).call(this),_(this,B,Df).call(this)),_(this,B,Zu).call(this))};this.addCommands({cmd:a,undo:u,mustExec:!0})},ub=function(){if(!l(this,na))return;w(this,na,!1);const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(a=>a[0]),s=i.map(a=>a[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(l(this,xr)),o.restore()},cb=function(t,i,r,s,o,a,u){const c=(i+s)/2,h=(r+o)/2,d=(s+a)/2,f=(o+u)/2;t.bezierCurveTo(c+2*(s-c)/3,h+2*(o-h)/3,d+2*(s-d)/3,f+2*(o-f)/3,d,f)},hb=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let r,[s,o]=t[0];for(r=1;r<t.length-2;r++){const[p,g]=t[r],[y,S]=t[r+1],m=(p+y)/2,v=(g+S)/2,E=[s+2*(p-s)/3,o+2*(g-o)/3],x=[m+2*(p-m)/3,v+2*(g-v)/3];i.push([[s,o],E,x,[m,v]]),[s,o]=[m,v]}const[a,u]=t[r],[c,h]=t[r+1],d=[s+2*(a-s)/3,o+2*(u-o)/3],f=[c+2*(a-c)/3,h+2*(u-h)/3];return i.push([[s,o],d,f,[c,h]]),i},no=function(){if(this.isEmpty()){_(this,B,If).call(this);return}_(this,B,Jv).call(this);const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),_(this,B,If).call(this);for(const r of this.bezierPath2D)i.stroke(r)},ey=function(t){this.canvas.removeEventListener("pointerleave",l(this,ld)),this.canvas.removeEventListener("pointermove",l(this,ad)),this.canvas.removeEventListener("pointerup",l(this,ud)),this.canvas.addEventListener("pointerdown",l(this,ta),{signal:this._uiManager._signal}),l(this,Hi)&&clearTimeout(l(this,Hi)),w(this,Hi,setTimeout(()=>{w(this,Hi,null),this.canvas.removeEventListener("contextmenu",_n)},10)),_(this,B,lb).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Mf=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Df=function(){w(this,Cr,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),l(this,Cr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=l(this,Cr))==null||t.disconnect(),w(this,Cr,null)},{once:!0})},Ha=function(){if(!l(this,ia))return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),_(this,B,If).call(this)},ty=function(t,i){const r=_(this,B,Ff).call(this),s=(t-r)/l(this,ea),o=(i-r)/l(this,Zo);this.scaleFactor=Math.min(s,o)},If=function(){const t=_(this,B,Ff).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Wr=new WeakSet,db=function(t){const i=new Path2D;for(let r=0,s=t.length;r<s;r++){const[o,a,u,c]=t[r];r===0&&i.moveTo(...o),i.bezierCurveTo(a[0],a[1],u[0],u[1],c[0],c[1])}return i},ny=function(t,i,r){const[s,o,a,u]=i;switch(r){case 0:for(let c=0,h=t.length;c<h;c+=2)t[c]+=s,t[c+1]=u-t[c+1];break;case 90:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=t[c+1]+s,t[c+1]=d+o}break;case 180:for(let c=0,h=t.length;c<h;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=a-t[c+1],t[c+1]=u-d}break;default:throw new Error("Invalid rotation")}return t},fb=function(t,i,r){const[s,o,a,u]=i;switch(r){case 0:for(let c=0,h=t.length;c<h;c+=2)t[c]-=s,t[c+1]=u-t[c+1];break;case 90:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=t[c+1]-o,t[c+1]=d-s}break;case 180:for(let c=0,h=t.length;c<h;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=u-t[c+1],t[c+1]=a-d}break;default:throw new Error("Invalid rotation")}return t},pb=function(t,i,r,s){var h,d;const o=[],a=this.thickness/2,u=t*i+a,c=t*r+a;for(const f of this.paths){const p=[],g=[];for(let y=0,S=f.length;y<S;y++){const[m,v,E,x]=f[y];if(m[0]===x[0]&&m[1]===x[1]&&S===1){const te=t*m[0]+u,q=t*m[1]+c;p.push(te,q),g.push(te,q);break}const k=t*m[0]+u,b=t*m[1]+c,L=t*v[0]+u,R=t*v[1]+c,F=t*E[0]+u,N=t*E[1]+c,z=t*x[0]+u,ie=t*x[1]+c;y===0&&(p.push(k,b),g.push(k,b)),p.push(L,R,F,N,z,ie),g.push(L,R),y===S-1&&g.push(z,ie)}o.push({bezier:_(h=Xe,Wr,ny).call(h,p,s,this.rotation),points:_(d=Xe,Wr,ny).call(d,g,s,this.rotation)})}return o},iy=function(){let t=1/0,i=-1/0,r=1/0,s=-1/0;for(const o of this.paths)for(const[a,u,c,h]of o){const d=Y.bezierBoundingBox(...a,...u,...c,...h);t=Math.min(t,d[0]),r=Math.min(r,d[1]),i=Math.max(i,d[2]),s=Math.max(s,d[3])}return[t,r,i,s]},Ff=function(){return l(this,Gn)?Math.ceil(this.thickness*this.parentScale):0},Zu=function(t=!1){if(this.isEmpty())return;if(!l(this,Gn)){_(this,B,no).call(this);return}const i=_(this,B,iy).call(this),r=_(this,B,Ff).call(this);w(this,ea,Math.max(Re.MIN_SIZE,i[2]-i[0])),w(this,Zo,Math.max(Re.MIN_SIZE,i[3]-i[1]));const s=Math.ceil(r+l(this,ea)*this.scaleFactor),o=Math.ceil(r+l(this,Zo)*this.scaleFactor),[a,u]=this.parentDimensions;this.width=s/a,this.height=o/u,this.setAspectRatio(s,o);const c=this.translationX,h=this.translationY;this.translationX=-i[0],this.translationY=-i[1],_(this,B,Ha).call(this),_(this,B,no).call(this),w(this,ra,s),w(this,sa,o),this.setDims(s,o);const d=t?r/this.scaleFactor/2:0;this.translate(c-this.translationX-d,h-this.translationY-d)},A(Xe,Wr),le(Xe,"_defaultColor",null),le(Xe,"_defaultOpacity",1),le(Xe,"_defaultThickness",1),le(Xe,"_type","ink"),le(Xe,"_editorType",ye.INK);let Qv=Xe;var Dt,It,Ss,kr,bs,eu,Bi,Tr,Ui,yi,cd,xe,ec,tc,Nf,sy,gb,mb,oy,Of,vb;const pc=class pc extends Re{constructor(t){super({...t,name:"stampEditor"});A(this,xe);A(this,Dt,null);A(this,It,null);A(this,Ss,null);A(this,kr,null);A(this,bs,null);A(this,eu,"");A(this,Bi,null);A(this,Tr,null);A(this,Ui,null);A(this,yi,!1);A(this,cd,!1);w(this,kr,t.bitmapUrl),w(this,bs,t.bitmapFile)}static initialize(t,i){Re.initialize(t,i)}static get supportedTypes(){return _e(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return _e(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(ye.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,i;l(this,It)&&(w(this,Dt,null),this._uiManager.imageManager.deleteId(l(this,It)),(t=l(this,Bi))==null||t.remove(),w(this,Bi,null),(i=l(this,Tr))==null||i.disconnect(),w(this,Tr,null),l(this,Ui)&&(clearTimeout(l(this,Ui)),w(this,Ui,null))),super.remove()}rebuild(){if(!this.parent){l(this,It)&&_(this,xe,Nf).call(this);return}super.rebuild(),this.div!==null&&(l(this,It)&&l(this,Bi)===null&&_(this,xe,Nf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(l(this,Ss)||l(this,Dt)||l(this,kr)||l(this,bs)||l(this,It))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),l(this,Dt)?_(this,xe,sy).call(this):_(this,xe,Nf).call(this),this.width){const[r,s]=this.parentDimensions;this.setAt(t*r,i*s,this.width*r,this.height*s)}return this.div}getImageForAltText(){return l(this,Bi)}static deserialize(t,i,r){if(t instanceof I1)return null;const s=super.deserialize(t,i,r),{rect:o,bitmapUrl:a,bitmapId:u,isSvg:c,accessibilityData:h}=t;u&&r.imageManager.isValidId(u)?w(s,It,u):w(s,kr,a),w(s,yi,c);const[d,f]=s.pageDimensions;return s.width=(o[2]-o[0])/d,s.height=(o[3]-o[1])/f,h&&(s.altTextData=h),s}serialize(t=!1,i=null){if(this.isEmpty())return null;const r={annotationType:ye.STAMP,bitmapId:l(this,It),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:l(this,yi),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=_(this,xe,Of).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),i===null)return r;i.stamps||(i.stamps=new Map);const a=l(this,yi)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(l(this,It)))i.stamps.set(l(this,It),{area:a,serialized:r}),r.bitmap=_(this,xe,Of).call(this,!1);else if(l(this,yi)){const u=i.stamps.get(l(this,It));a>u.area&&(u.area=a,u.serialized.bitmap.close(),u.serialized.bitmap=_(this,xe,Of).call(this,!1))}return r}};Dt=new WeakMap,It=new WeakMap,Ss=new WeakMap,kr=new WeakMap,bs=new WeakMap,eu=new WeakMap,Bi=new WeakMap,Tr=new WeakMap,Ui=new WeakMap,yi=new WeakMap,cd=new WeakMap,xe=new WeakSet,ec=function(t,i=!1){if(!t){this.remove();return}w(this,Dt,t.bitmap),i||(w(this,It,t.id),w(this,yi,t.isSvg)),t.file&&w(this,eu,t.file.name),_(this,xe,sy).call(this)},tc=function(){w(this,Ss,null),this._uiManager.enableWaiting(!1),l(this,Bi)&&this.div.focus()},Nf=function(){if(l(this,It)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,It)).then(r=>_(this,xe,ec).call(this,r,!0)).finally(()=>_(this,xe,tc).call(this));return}if(l(this,kr)){const r=l(this,kr);w(this,kr,null),this._uiManager.enableWaiting(!0),w(this,Ss,this._uiManager.imageManager.getFromUrl(r).then(s=>_(this,xe,ec).call(this,s)).finally(()=>_(this,xe,tc).call(this)));return}if(l(this,bs)){const r=l(this,bs);w(this,bs,null),this._uiManager.enableWaiting(!0),w(this,Ss,this._uiManager.imageManager.getFromFile(r).then(s=>_(this,xe,ec).call(this,s)).finally(()=>_(this,xe,tc).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=pc.supportedTypesStr;const i=this._uiManager._signal;w(this,Ss,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);_(this,xe,ec).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>_(this,xe,tc).call(this))),t.click()},sy=function(){const{div:t}=this;let{width:i,height:r}=l(this,Dt);const[s,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>a*s||r>a*o){const d=Math.min(a*s/i,a*o/r);i*=d,r*=d}const[u,c]=this.parentDimensions;this.setDims(i*u/s,r*c/o),this._uiManager.enableWaiting(!1);const h=w(this,Bi,document.createElement("canvas"));t.append(h),t.hidden=!1,_(this,xe,oy).call(this,i,r),_(this,xe,vb).call(this),l(this,cd)||(this.parent.addUndoableEditor(this),w(this,cd,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,eu)&&h.setAttribute("aria-label",l(this,eu))},gb=function(t,i){var a;const[r,s]=this.parentDimensions;this.width=t/r,this.height=i/s,this.setDims(t,i),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,l(this,Ui)!==null&&clearTimeout(l(this,Ui)),w(this,Ui,setTimeout(()=>{w(this,Ui,null),_(this,xe,oy).call(this,t,i)},200))},mb=function(t,i){const{width:r,height:s}=l(this,Dt);let o=r,a=s,u=l(this,Dt);for(;o>2*t||a>2*i;){const c=o,h=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(u,0,0,c,h,0,0,o,a),u=d.transferToImageBitmap()}return u},oy=function(t,i){t=Math.ceil(t),i=Math.ceil(i);const r=l(this,Bi);if(!r||r.width===t&&r.height===i)return;r.width=t,r.height=i;const s=l(this,yi)?l(this,Dt):_(this,xe,mb).call(this,t,i);if(this._uiManager.hasMLManager&&!this.hasAltText()){const u=new OffscreenCanvas(t,i).getContext("2d");u.drawImage(s,0,0,s.width,s.height,0,0,t,i),this._uiManager.mlGuess({service:"image-to-text",request:{data:u.getImageData(0,0,t,i).data,width:t,height:i,channels:4}}).then(c=>{const h=(c==null?void 0:c.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const o=r.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,i)},Of=function(t){if(t){if(l(this,yi)){const s=this._uiManager.imageManager.getSvgUrl(l(this,It));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=l(this,Dt),i.getContext("2d").drawImage(l(this,Dt),0,0),i.toDataURL()}if(l(this,yi)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Bs.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Bs.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(l(this,Dt),0,0,l(this,Dt).width,l(this,Dt).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(l(this,Dt))},vb=function(){this._uiManager._signal&&(w(this,Tr,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&_(this,xe,gb).call(this,i.width,i.height)})),l(this,Tr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=l(this,Tr))==null||t.disconnect(),w(this,Tr,null)},{once:!0}))},le(pc,"_type","stamp"),le(pc,"_editorType",ye.STAMP);let ry=pc;var oa,tu,$i,aa,Pr,Rr,Lr,Dn,xs,nu,iu,Jt,ee,Cs,Ot,yb,ly,uy,cy,jf;const ii=class ii{constructor({uiManager:e,pageIndex:t,div:i,accessibilityManager:r,annotationLayer:s,drawLayer:o,textLayer:a,viewport:u,l10n:c}){A(this,Ot);A(this,oa);A(this,tu,!1);A(this,$i,null);A(this,aa,null);A(this,Pr,null);A(this,Rr,null);A(this,Lr,null);A(this,Dn,new Map);A(this,xs,!1);A(this,nu,!1);A(this,iu,!1);A(this,Jt,null);A(this,ee);const h=[...l(ii,Cs).values()];if(!ii._initialized){ii._initialized=!0;for(const d of h)d.initialize(c,e)}e.registerEditorTypes(h),w(this,ee,e),this.pageIndex=t,this.div=i,w(this,oa,r),w(this,$i,s),this.viewport=u,w(this,Jt,a),this.drawLayer=o,l(this,ee).addLayer(this)}get isEmpty(){return l(this,Dn).size===0}get isInvisible(){return this.isEmpty&&l(this,ee).getMode()===ye.NONE}updateToolbar(e){l(this,ee).updateToolbar(e)}updateMode(e=l(this,ee).getMode()){switch(_(this,Ot,jf).call(this),e){case ye.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ye.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ye.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of l(ii,Cs).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=l(this,Jt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(l(this,ee).getMode()!==ye.INK)return;if(!e){for(const i of l(this,Dn).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){l(this,ee).setEditingState(e)}addCommands(e){l(this,ee).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=l(this,$i))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of l(this,Dn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(l(this,ee).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!l(this,$i))return;const t=l(this,$i).getEditableAnnotations();for(const i of t){if(i.hide(),l(this,ee).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;w(this,iu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of l(this,Dn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(l(this,$i)){const s=l(this,$i).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(l(this,ee).isDeletedAnnotationElement(a))continue;let u=t.get(a);if(u){u.resetAnnotationElement(o),u.show(!1),o.show();continue}u=e.get(a),u&&(l(this,ee).addChangedExistingAnnotation(u),u.renderAnnotationElement(o),u.show(!1)),o.show()}}_(this,Ot,jf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of l(ii,Cs).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,iu,!1)}getEditableAnnotation(e){var t;return((t=l(this,$i))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){l(this,ee).getActive()!==e&&l(this,ee).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=l(this,Jt))!=null&&e.div&&!l(this,Rr)&&(w(this,Rr,_(this,Ot,yb).bind(this)),l(this,Jt).div.addEventListener("pointerdown",l(this,Rr),{signal:l(this,ee)._signal}),l(this,Jt).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=l(this,Jt))!=null&&e.div&&l(this,Rr)&&(l(this,Jt).div.removeEventListener("pointerdown",l(this,Rr)),w(this,Rr,null),l(this,Jt).div.classList.remove("highlighting"))}enableClick(){if(l(this,Pr))return;const e=l(this,ee)._signal;w(this,Pr,this.pointerdown.bind(this)),w(this,aa,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",l(this,Pr),{signal:e}),this.div.addEventListener("pointerup",l(this,aa),{signal:e})}disableClick(){l(this,Pr)&&(this.div.removeEventListener("pointerdown",l(this,Pr)),this.div.removeEventListener("pointerup",l(this,aa)),w(this,Pr,null),w(this,aa,null))}attach(e){l(this,Dn).set(e.id,e);const{annotationElementId:t}=e;t&&l(this,ee).isDeletedAnnotationElement(t)&&l(this,ee).removeDeletedAnnotationElement(e)}detach(e){var t;l(this,Dn).delete(e.id),(t=l(this,oa))==null||t.removePointerInTextLayer(e.contentDiv),!l(this,iu)&&e.annotationElementId&&l(this,ee).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,ee).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,l(this,nu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,ee).addDeletedAnnotationElement(e.annotationElementId),Re.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,ee).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),l(this,ee).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!l(this,Lr)&&(e._focusEventsAllowed=!1,w(this,Lr,setTimeout(()=>{w(this,Lr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,ee)._signal}),t.focus())},0))),e._structTreeParentId=(i=l(this,oa))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return l(this,ee).getId()}get _signal(){return l(this,ee)._signal}canCreateNewEmptyEditor(){var e;return(e=l(this,Ot,ly))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){l(this,ee).updateToolbar(e),l(this,ee).updateMode(e);const{offsetX:i,offsetY:r}=_(this,Ot,cy).call(this),s=this.getNextId(),o=_(this,Ot,uy).call(this,{parent:this,id:s,x:i,y:r,uiManager:l(this,ee),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=l(ii,Cs).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,l(this,ee)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=_(this,Ot,uy).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:l(this,ee),isCentered:t,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(_(this,Ot,cy).call(this),!0)}setSelected(e){l(this,ee).setSelected(e)}toggleSelected(e){l(this,ee).toggleSelected(e)}isSelected(e){return l(this,ee).isSelected(e)}unselect(e){l(this,ee).unselect(e)}pointerup(e){const{isMac:t}=gn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&l(this,xs)){if(w(this,xs,!1),!l(this,tu)){w(this,tu,!0);return}if(l(this,ee).getMode()===ye.STAMP){l(this,ee).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(l(this,ee).getMode()===ye.HIGHLIGHT&&this.enableTextSelection(),l(this,xs)){w(this,xs,!1);return}const{isMac:t}=gn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;w(this,xs,!0);const i=l(this,ee).getActive();w(this,tu,!i||i.isEmpty())}findNewParent(e,t,i){const r=l(this,ee).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=l(this,ee).getActive())==null?void 0:e.parent)===this&&(l(this,ee).commitOrRemove(),l(this,ee).setActiveEditor(null)),l(this,Lr)&&(clearTimeout(l(this,Lr)),w(this,Lr,null));for(const i of l(this,Dn).values())(t=l(this,oa))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,l(this,Dn).clear(),l(this,ee).removeLayer(this)}render({viewport:e}){this.viewport=e,ma(this.div,e);for(const t of l(this,ee).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,ee).commitOrRemove(),_(this,Ot,jf).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,ma(this.div,{rotation:i}),t!==i)for(const r of l(this,Dn).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,ee).viewParameters.realScale}};oa=new WeakMap,tu=new WeakMap,$i=new WeakMap,aa=new WeakMap,Pr=new WeakMap,Rr=new WeakMap,Lr=new WeakMap,Dn=new WeakMap,xs=new WeakMap,nu=new WeakMap,iu=new WeakMap,Jt=new WeakMap,ee=new WeakMap,Cs=new WeakMap,Ot=new WeakSet,yb=function(e){if(l(this,ee).unselectAll(),e.target===l(this,Jt).div){const{isMac:t}=gn.platform;if(e.button!==0||e.ctrlKey&&t)return;l(this,ee).showAllEditors("highlight",!0,!0),l(this,Jt).div.classList.add("free"),wp.startHighlighting(this,l(this,ee).direction==="ltr",e),l(this,Jt).div.addEventListener("pointerup",()=>{l(this,Jt).div.classList.remove("free")},{once:!0,signal:l(this,ee)._signal}),e.preventDefault()}},ly=function(){return l(ii,Cs).get(l(this,ee).getMode())},uy=function(e){const t=l(this,Ot,ly);return t?new t.prototype.constructor(e):null},cy=function(){const{x:e,y:t,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+i),u=Math.min(window.innerHeight,t+r),c=(s+a)/2-e,h=(o+u)/2-t,[d,f]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:f}},jf=function(){w(this,nu,!0);for(const e of l(this,Dn).values())e.isEmpty()&&e.remove();w(this,nu,!1)},le(ii,"_initialized",!1),A(ii,Cs,new Map([Hv,Qv,ry,wp].map(e=>[e._editorType,e])));let ay=ii;var Vi,hd,gt,ks,dd,dy,_a,fy,wb;const Tt=class Tt{constructor({pageIndex:e}){A(this,_a);A(this,Vi,null);A(this,hd,0);A(this,gt,new Map);A(this,ks,new Map);this.pageIndex=e}setParent(e){if(!l(this,Vi)){w(this,Vi,e);return}if(l(this,Vi)!==e){if(l(this,gt).size>0)for(const t of l(this,gt).values())t.remove(),e.append(t);w(this,Vi,e)}}static get _svgFactory(){return _e(this,"_svgFactory",new w0)}highlight(e,t,i,r=!1){const s=En(this,hd)._++,o=_(this,_a,fy).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Tt._svgFactory.createElement("defs");o.append(a);const u=Tt._svgFactory.createElement("path");a.append(u);const c=`path_p${this.pageIndex}_${s}`;u.setAttribute("id",c),u.setAttribute("d",e.toSVGPath()),r&&l(this,ks).set(s,u);const h=_(this,_a,wb).call(this,a,c),d=Tt._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",i),d.setAttribute("href",`#${c}`),l(this,gt).set(s,o),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const t=En(this,hd)._++,i=_(this,_a,fy).call(this,e.box);i.classList.add("highlightOutline");const r=Tt._svgFactory.createElement("defs");i.append(r);const s=Tt._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){i.classList.add("free");const h=Tt._svgFactory.createElement("mask");r.append(h),a=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",a),h.setAttribute("maskUnits","objectBoundingBox");const d=Tt._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=Tt._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const u=Tt._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),a&&u.setAttribute("mask",`url(#${a})`);const c=u.cloneNode();return i.append(c),u.classList.add("mainOutline"),c.classList.add("secondaryOutline"),l(this,gt).set(t,i),t}finalizeLine(e,t){const i=l(this,ks).get(e);l(this,ks).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){l(this,gt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),l(this,ks).delete(e)}updatePath(e,t){l(this,ks).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var i;_(i=Tt,dd,dy).call(i,l(this,gt).get(e),t)}show(e,t){l(this,gt).get(e).classList.toggle("hidden",!t)}rotate(e,t){l(this,gt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){l(this,gt).get(e).setAttribute("fill",t)}changeOpacity(e,t){l(this,gt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){l(this,gt).get(e).classList.add(t)}removeClass(e,t){l(this,gt).get(e).classList.remove(t)}remove(e){l(this,Vi)!==null&&(l(this,gt).get(e).remove(),l(this,gt).delete(e))}destroy(){w(this,Vi,null);for(const e of l(this,gt).values())e.remove();l(this,gt).clear()}};Vi=new WeakMap,hd=new WeakMap,gt=new WeakMap,ks=new WeakMap,dd=new WeakSet,dy=function(e,{x:t=0,y:i=0,width:r=1,height:s=1}={}){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},_a=new WeakSet,fy=function(e){var i;const t=Tt._svgFactory.create(1,1,!0);return l(this,Vi).append(t),t.setAttribute("aria-hidden",!0),_(i=Tt,dd,dy).call(i,t,e),t},wb=function(e,t){const i=Tt._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Tt._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},A(Tt,dd);let hy=Tt;var QR=re.AbortException,JR=re.AnnotationEditorLayer,ZR=re.AnnotationEditorParamsType,eL=re.AnnotationEditorType,tL=re.AnnotationEditorUIManager,nL=re.AnnotationLayer,iL=re.AnnotationMode,rL=re.CMapCompressionType,sL=re.ColorPicker,oL=re.DOMSVGFactory,aL=re.DrawLayer,lL=re.FeatureTest,_b=re.GlobalWorkerOptions,uL=re.ImageKind,cL=re.InvalidPDFException,hL=re.MissingPDFException,dL=re.OPS,fL=re.Outliner,pL=re.PDFDataRangeTransport,gL=re.PDFDateString,mL=re.PDFWorker,vL=re.PasswordResponses,yL=re.PermissionFlag,wL=re.PixelsPerInch,_L=re.RenderingCancelledException,AL=re.TextLayer,EL=re.UnexpectedResponseException,SL=re.Util,bL=re.VerbosityLevel,xL=re.XfaLayer,CL=re.build,kL=re.createValidAbsoluteUrl,TL=re.fetchData,Ab=re.getDocument,PL=re.getFilenameFromUrl,RL=re.getPdfFilenameFromUrl,LL=re.getXfaPageViewport,ML=re.isDataScheme,DL=re.isPdfFile,IL=re.noContextMenu,FL=re.normalizeUnicode,NL=re.renderTextLayer,OL=re.setLayerDimensions,jL=re.shadow,zL=re.updateTextLayer,HL=re.version;const BL=Object.freeze(Object.defineProperty({__proto__:null,AbortException:QR,AnnotationEditorLayer:JR,AnnotationEditorParamsType:ZR,AnnotationEditorType:eL,AnnotationEditorUIManager:tL,AnnotationLayer:nL,AnnotationMode:iL,CMapCompressionType:rL,ColorPicker:sL,DOMSVGFactory:oL,DrawLayer:aL,FeatureTest:lL,GlobalWorkerOptions:_b,ImageKind:uL,InvalidPDFException:cL,MissingPDFException:hL,OPS:dL,Outliner:fL,PDFDataRangeTransport:pL,PDFDateString:gL,PDFWorker:mL,PasswordResponses:vL,PermissionFlag:yL,PixelsPerInch:wL,RenderingCancelledException:_L,TextLayer:AL,UnexpectedResponseException:EL,Util:SL,VerbosityLevel:bL,XfaLayer:xL,build:CL,createValidAbsoluteUrl:kL,fetchData:TL,getDocument:Ab,getFilenameFromUrl:PL,getPdfFilenameFromUrl:RL,getXfaPageViewport:LL,isDataScheme:ML,isPdfFile:DL,noContextMenu:IL,normalizeUnicode:FL,renderTextLayer:NL,setLayerDimensions:OL,shadow:jL,updateTextLayer:zL,version:HL},Symbol.toStringTag,{value:"Module"}));var _t=function(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))},UL=["onCopy","onCut","onPaste"],$L=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],VL=["onFocus","onBlur"],WL=["onInput","onInvalid","onReset","onSubmit"],GL=["onLoad","onError"],XL=["onKeyDown","onKeyPress","onKeyUp"],KL=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],qL=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],YL=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],QL=["onSelect"],JL=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],ZL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],eM=["onScroll"],tM=["onWheel"],nM=["onAnimationStart","onAnimationEnd","onAnimationIteration"],iM=["onTransitionEnd"],rM=["onToggle"],sM=["onChange"],oM=_t(_t(_t(_t(_t(_t(_t(_t(_t(_t(_t(_t(_t(_t(_t(_t(_t(_t([],UL,!0),$L,!0),VL,!0),WL,!0),GL,!0),XL,!0),KL,!0),qL,!0),YL,!0),QL,!0),JL,!0),ZL,!0),eM,!0),tM,!0),nM,!0),iM,!0),sM,!0),rM,!0);function aM(n,e){var t={};return oM.forEach(function(i){var r=n[i];r&&(e?t[i]=function(s){return r(s,e(i))}:t[i]=r)}),t}function lM(n){var e=!1,t=new Promise(function(i,r){n.then(function(s){return!e&&i(s)}).catch(function(s){return!e&&r(s)})});return{promise:t,cancel:function(){e=!0}}}function Eb(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=Eb(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function uM(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=Eb(n))&&(i&&(i+=" "),i+=e);return i}var cM="Invariant failed";function Gt(n,e){if(!n)throw new Error(cM)}var hM=function(){},dM=hM;const so=gy(dM);var z_=Object.prototype.hasOwnProperty;function H_(n,e,t){for(t of n.keys())if(ll(t,e))return t}function ll(n,e){var t,i,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&ll(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(r=i,r&&typeof r=="object"&&(r=H_(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(r=i[0],r&&typeof r=="object"&&(r=H_(e,r),!r)||!ll(i[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(z_.call(n,t)&&++i&&!z_.call(e,t)||!(t in e)||!ll(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}const fM=I.createContext(null);function tm({children:n,type:e}){return P.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const pM="noopener noreferrer nofollow";class gM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Gt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Gt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Gt(this.pdfDocument),Gt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Gt(Array.isArray(t));const i=t[0];new Promise(r=>{Gt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(s=>{r(s)}).catch(()=>{Gt(!1)}):typeof i=="number"?r(i):Gt(!1)}).then(r=>{const s=r+1;Gt(this.pdfViewer),Gt(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Gt(this.pdfViewer),Gt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||pM,e.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const B_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},k0=typeof window<"u",Sb=k0&&window.location.protocol==="file:";function mM(n){return typeof n=="string"}function vM(n){return n instanceof ArrayBuffer}function yM(n){return Gt(k0),n instanceof Blob}function py(n){return mM(n)&&/^data:/.test(n)}function U_(n){Gt(py(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}const bb="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function $_(){so(!Sb,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${bb}`)}function wM(){so(!Sb,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${bb}`)}function _M(n){n!=null&&n.cancel&&n.cancel()}function AM(n){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function EM(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function V_(){return I.useReducer(EM,{value:void 0,error:void 0})}var SM=function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(d){o(d)}}function u(h){try{c(i.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((i=i.apply(n,e||[])).next())})},W_=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const{PDFDataRangeTransport:bM}=BL,xM=(n,e)=>{switch(e){case B_.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case B_.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function G_(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const CM=I.forwardRef(function(e,t){var{children:i,className:r,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:u,inputRef:c,imageResourcesPath:h,loading:d="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:y,onLoadSuccess:S,onPassword:m=xM,onSourceError:v,onSourceSuccess:E,options:x,renderMode:k,rotate:b}=e,L=W_(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[R,F]=V_(),{value:N,error:z}=R,[ie,te]=V_(),{value:q,error:pe}=ie,Ee=I.useRef(new gM),U=I.useRef([]),D=I.useRef(void 0),Q=I.useRef(void 0);u&&u!==D.current&&G_(u)&&(so(!ll(u,D.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),D.current=u),x&&x!==Q.current&&(so(!ll(x,Q.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Q.current=x);const ne=I.useRef({scrollPageIntoView:wt=>{const{dest:An,pageNumber:Ct,pageIndex:Kr=Ct-1}=wt;if(p){p({dest:An,pageIndex:Kr,pageNumber:Ct});return}const Ta=U.current[Kr];if(Ta){Ta.scrollIntoView();return}so(!1,`An internal link leading to page ${Ct} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});I.useImperativeHandle(t,()=>({linkService:Ee,pages:U,viewer:ne}),[]);function ue(){E&&E()}function ae(){z&&(so(!1,z.toString()),v&&v(z))}function Te(){F({type:"RESET"})}I.useEffect(Te,[u,F]);const Ue=I.useCallback(()=>SM(this,void 0,void 0,function*(){if(!u)return null;if(typeof u=="string")return py(u)?{data:U_(u)}:($_(),{url:u});if(u instanceof bM)return{range:u};if(vM(u))return{data:u};if(k0&&yM(u))return{data:yield AM(u)};if(Gt(typeof u=="object"),Gt(G_(u)),"url"in u&&typeof u.url=="string"){if(py(u.url)){const{url:wt}=u,An=W_(u,["url"]),Ct=U_(wt);return Object.assign({data:Ct},An)}$_()}return u}),[u]);I.useEffect(()=>{const wt=lM(Ue());return wt.promise.then(An=>{F({type:"RESOLVE",value:An})}).catch(An=>{F({type:"REJECT",error:An})}),()=>{_M(wt)}},[Ue,F]),I.useEffect(()=>{if(!(typeof N>"u")){if(N===!1){ae();return}ue()}},[N]);function nt(){q&&(S&&S(q),U.current=new Array(q.numPages),Ee.current.setDocument(q))}function je(){pe&&(so(!1,pe.toString()),g&&g(pe))}I.useEffect(function(){te({type:"RESET"})},[te,N]),I.useEffect(function(){if(!N)return;const An=x?Object.assign(Object.assign({},N),x):N,Ct=Ab(An);y&&(Ct.onProgress=y),m&&(Ct.onPassword=m);const Kr=Ct,Ta=Kr.promise.then(Pa=>{te({type:"RESOLVE",value:Pa})}).catch(Pa=>{Kr.destroyed||te({type:"REJECT",error:Pa})});return()=>{Ta.finally(()=>Kr.destroy())}},[x,te,N]),I.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){je();return}nt()}},[q]),I.useEffect(function(){Ee.current.setViewer(ne.current),Ee.current.setExternalLinkRel(o),Ee.current.setExternalLinkTarget(a)},[o,a]);const Se=I.useCallback((wt,An)=>{U.current[wt]=An},[]),an=I.useCallback(wt=>{delete U.current[wt]},[]),ka=I.useMemo(()=>({imageResourcesPath:h,linkService:Ee.current,onItemClick:p,pdf:q,registerPage:Se,renderMode:k,rotate:b,unregisterPage:an}),[h,p,q,Se,k,b,an]),pg=I.useMemo(()=>aM(L,()=>q),[L,q]);function xt(){return P.jsx(fM.Provider,{value:ka,children:i})}function Xr(){return u?q==null?P.jsx(tm,{type:"loading",children:typeof d=="function"?d():d}):q===!1?P.jsx(tm,{type:"error",children:typeof s=="function"?s():s}):xt():P.jsx(tm,{type:"no-data",children:typeof f=="function"?f():f})}return P.jsx("div",Object.assign({className:uM("react-pdf__Document",r),ref:c,style:{"--scale-factor":"1"}},pg,{children:Xr()}))});wM();_b.workerSrc="pdf.worker.mjs";function kM(){return P.jsxs(P.Fragment,{children:[P.jsx("h3",{children:"( PAGE EN CONSTRUCTION & AMELIORATION PERMANENTE )"}),P.jsx(CM,{})]})}function TM(){return P.jsx("h3",{children:" ( PAGE EN CONSTRUCTION & AMELIORATION PERMANENTE )"})}function PM(){return P.jsx(P.Fragment,{children:P.jsx("h3",{children:"( PAGE EN CONSTRUCTION & AMELIORATION PERMANENTE ) "})})}function RM(){return P.jsxs("div",{className:"header",children:[P.jsxs("nav",{children:[P.jsx(Mu,{to:"home",children:P.jsx("a",{children:P.jsx("b",{children:"Home"})})}),P.jsx(Mu,{to:"discover",children:P.jsx("a",{children:P.jsx("b",{children:"Discover-me"})})}),P.jsx(Mu,{to:"cv",children:P.jsx("a",{children:P.jsx("b",{children:"Resume"})})}),P.jsx(Mu,{to:"myprojects",children:P.jsx("a",{children:P.jsx("b",{children:"Projects"})})}),P.jsx(Mu,{to:"contact",children:P.jsx("a",{children:P.jsx("b",{children:"Contact"})})})]}),P.jsx("main",{children:P.jsx(CT,{})})]})}const LM={title:"Developpeur Web Full Stack",firstName:"Raphal",lastName:"Rivire",age:"37",adresse:"13 rue des estivenques",permis:"B et A",city:"Gallargues le Montueux, France",telephone:"06 63 77 86 77",email:"raphael.riviere@gmail.com",github:"https://github.com/rrczt974",linkedin:"https://www.linkedin.com/in/rivire-raphal-130b78151/",facebook:"https://www.facebook.com/raphael.riviere.58",hobbies:"photographie, sports, simracing, moto, informatique ...",instagram:"https://www.instagram.com/therrelylifephotography/",personality:"Srieux, sociable, travailleur, patient, pragmatique, autodidacte. Je tourne la page de mon ancienne carrire dans l'automobile pour me lancer sur ce nouveau mtier de dveloppeur Web Fullstack !",img:"../src/assets/IMG_3880.webp"},MM={wild:"09/2024 - 02/2025 => formation  la wild Code School de dveloppeur Web et Web Application Bac +2 RNCP n 37674 (HTML, CSS, JS, REACT, Vite.JS, API web, Express.JS, Node.JS, router, SQL, Agile / SCRUM, dploiement continu CI/CD, Github, docker (EN COURS)",remap:"2015 => reprogrammation avance moteur essence et diesel  Alientech France  Montans",tdra:"2010 => technicien de diagnostic et rparateur automobile  l'AFPA de Chartres",bacc:"2005 => baccalaurat scientifique option sciences de l'ingnieur au lyce de la Rivire (le de Runion)"},DM={bleulib:"Aot 2024 => stage observation chez Bleu Libellule. Dcouverte du mtier de webmaster et de dveloppeur web",biomotors:"07/2021 - 05/2024 => technicien conseil et gestionnaire d'expertises",kia1:"01/2018 - 06/2021 => Chef d'atelier, responsable magasin et pices dtaches, rception clientle et entretien et rparations vhicules Kia",kia2:"10/2012 - 05/2016 => Technicien avanc et en charge de l'entretien et la rparation des vhicules Kia",mecaperfs:"07/2016 - 12/2017 => Grant entreprise individuelle en mcanique automobile, reprogrammation et solutions electroniques, pose d'accessoires et reventre de voitures d'occasion.",delko:"03/2012 - 09/2012 => Mcanicien multimarque",kia:"07/2010 - 01/2012 => Mcanicien multimarque chez un concessionnaire spcialis KIA, Mitsubishi et Subaru"},IM={francais:"Francais => lu, crit er parl couramment",anglais:"Anglais => lu, crit et parl niveau scolaire",espagnol:"Espagnol => notion",logiciels:"Divers software => Suite Office, Adobe Photoshop, Visual Studio Code, Trello, Slack, Figma, WireFrame.cc, terminal et bien d'autres"},FM={projet1:"solo Rush",img1:"/src/assets/solo rush preview.png",description1:"Projet challenge 1 journe ralis en solo en html et CSS aprs 7 jours d'apprentissage au sein de la WCS (Wild Code School. Projet ralis en 5H",url1:"https://rrczt974.github.io/SoloRush1-WCS/",projet2:"html & CSS",img2:"/src/assets/Bienvenue  Bord.png",description2:"Premier projet ralis en 5 jours aprs 15 jours de formation",url2:"https://rrczt974.github.io/Html-Css-Bienvenue-bord/",projet3:"Le P1 - Les petits frapps",img3:"src/assets/Les-petits-frapps.png",description3:"Premier projet de groupe mettant en oeuvre l'apprentissage du JS.",url3:"https://wildcodeschool-2024-09.github.io/JS-RemoteFR-Vendangeurs-P1-Les-Frappes/"},nc={personality:LM,education:MM,experience:DM,others:IM,projets:FM},bn=nc.projets;function NM(){const n=[{projet:bn.projet1,img:bn.img1,description:bn.description1,url:bn.url1},{projet:bn.projet2,img:bn.img2,description:bn.description2,url:bn.url2},{projet:bn.projet3,img:bn.img3,description:bn.description3,url:bn.url3}];console.log(bn.img1);const e=t=>{window.open(t)};return P.jsx(P.Fragment,{children:n.map((t,i)=>P.jsxs("figure",{className:"card",children:[P.jsx("h2",{className:"titleCard",children:t.projet}),P.jsx("img",{className:"cardImage",src:t.img}),P.jsx("figcaption",{className:"cardDescription",children:t.description}),P.jsx("button",{className:"cardButton",type:"button",onClick:()=>e(t.url),children:"Github link"})]},i))})}function OM({Exp:n,Education:e,Others:t}){return P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"infos",children:[P.jsx("h2",{className:"titleCard",children:"Formations"}),P.jsxs("div",{className:"cv-contener",children:[P.jsx("span",{children:e.wild}),P.jsx("br",{}),P.jsx("span",{children:e.remap}),P.jsx("br",{}),P.jsx("span",{children:e.tdra}),P.jsx("br",{}),P.jsx("span",{children:e.bacc}),P.jsx("br",{})]})]}),P.jsxs("div",{className:"infos",children:[P.jsx("h2",{className:"titleCard",children:"Expriences Pro"}),P.jsxs("div",{className:"cv-contener",children:[P.jsx("span",{children:n.bleulib}),P.jsx("br",{}),P.jsx("span",{children:n.biomotors}),P.jsx("br",{}),P.jsx("span",{children:n.kia1}),P.jsx("br",{}),P.jsx("span",{children:n.mecaperfs}),P.jsx("br",{}),P.jsx("span",{children:n.kia2}),P.jsx("br",{}),P.jsx("span",{children:n.delko}),P.jsx("br",{}),P.jsx("span",{children:n.kia}),P.jsx("br",{})]})]}),P.jsxs("div",{className:"infos",children:[P.jsx("h2",{className:"titleCard",children:"Autres comptences"}),P.jsxs("div",{className:"cv-contener",children:[P.jsx("span",{children:t.logiciels}),P.jsx("br",{}),P.jsx("span",{children:t.francais}),P.jsx("br",{}),P.jsx("span",{children:t.anglais}),P.jsx("br",{}),P.jsx("span",{children:t.espagnol}),P.jsx("br",{})]})]})]})}function jM(){const{firstName:n,lastName:e,img:t,personality:i,age:r,email:s,title:o,github:a,linkedin:u,facebook:c}=nc.personality,h=nc.education,d=nc.experience,f=nc.others;return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"MainContener",children:[P.jsxs("div",{className:"profil",children:[P.jsx("img",{src:t,width:"35%",className:"logo",alt:"moi"}),P.jsxs("h1",{className:"titleProfil",children:["Je me prsente, ",n," ",e,", ",r,"ans, ",o]}),P.jsx("p",{className:"personalityProfil",children:i})]}),P.jsx("div",{className:"separate",children:" "}),P.jsxs("div",{className:"resumeCard",children:[P.jsx("h3",{children:"Resume"}),P.jsx(OM,{Exp:d,Education:h,Others:f})]}),P.jsx("div",{className:"separate",children:" "}),P.jsxs("div",{className:"cardsPosition",children:[P.jsx("h3",{children:"Projects"}),P.jsx("div",{id:"cardsPosition",children:P.jsx(NM,{})})]}),P.jsx("div",{className:"separate",children:" "}),P.jsxs("div",{className:"contact",children:[P.jsx("h3",{children:"Contact me"}),P.jsxs("span",{className:"spancontact",children:[P.jsx("a",{href:s,children:"Email "})," |",P.jsx("a",{href:a,target:"_blank",children:"Github"})," ","|",P.jsx("a",{href:u,target:"_blank",children:"linkedin"})," ","|",P.jsx("a",{href:c,target:"_blank",children:"facebook"})," ","|"]})]})]})})}const zM="/assets/react-CrudpYqT.svg";function HM(){const n=t=>{window.open(t)},e="https://www.instagram.com/therrelylifephotography/";return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"footer",children:[P.jsx("a",{href:"https://react.dev",target:"_blank",className:"react",children:P.jsx("img",{src:zM,alt:"React logo"})}),P.jsx("p",{className:"read-the-docs",children:P.jsx("b",{children:"Powered by REACT"})}),P.jsx("p",{children:P.jsx("b",{children:"  RR development "})}),P.jsx("p",{children:P.jsxs("b",{id:"therrelylife",onClick:()=>n(e),children:[" "," therrelylifephotographie"," "]})}),P.jsx("p",{})]})})}function X_(){return P.jsxs(P.Fragment,{children:[P.jsx(jM,{}),P.jsx(HM,{})]})}const BM=IT([{element:P.jsx(RM,{}),children:[{path:"/home",element:P.jsx(X_,{})},{path:"/discover",element:P.jsx(PM,{})},{path:"/cv",element:P.jsx(kM,{})},{path:"/myprojects",element:P.jsx(TM,{})},{path:"/contact",element:P.jsx(qT,{})},{path:"*",element:P.jsx(X_,{})}]}]),K_=document.getElementById("root");K_!=null&&nm.createRoot(K_).render(P.jsx($T,{router:BM}));
